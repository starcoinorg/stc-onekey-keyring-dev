'use strict';var a121_0x4cb783=a121_0xdb8c;(function(_0x5aa241,_0x3f50cd){var _0x1132cf=a121_0xdb8c,_0x3d19b8=_0x5aa241();while(!![]){try{var _0x5c691f=-parseInt(_0x1132cf(0xfe))/0x1+parseInt(_0x1132cf(0xf2))/0x2+-parseInt(_0x1132cf(0xf7))/0x3+-parseInt(_0x1132cf(0xe8))/0x4*(-parseInt(_0x1132cf(0xfc))/0x5)+-parseInt(_0x1132cf(0x108))/0x6+-parseInt(_0x1132cf(0x100))/0x7*(-parseInt(_0x1132cf(0xf0))/0x8)+-parseInt(_0x1132cf(0x105))/0x9;if(_0x5c691f===_0x3f50cd)break;else _0x3d19b8['push'](_0x3d19b8['shift']());}catch(_0x269fb8){_0x3d19b8['push'](_0x3d19b8['shift']());}}}(a121_0xc7c9,0xdf9ae));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a121_0x4cb783(0xea)]=!![],exports[a121_0x4cb783(0xe4)]=exports['getRelease']=exports[a121_0x4cb783(0xf4)]=exports[a121_0x4cb783(0xe3)]=void 0x0;var _defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_rollout=require('@onekeyfe/rollout'),_version=require('@onekeyfe/rollout/lib/utils/version'),_findDefectiveBatchDevice=require('../utils/findDefectiveBatchDevice'),_deviceFeaturesUtils=require('../utils/deviceFeaturesUtils'),_releases;function ownKeys(_0x344939,_0x1da031){var _0x591874=a121_0x4cb783,_0x477b9b=Object['keys'](_0x344939);if(Object['getOwnPropertySymbols']){var _0x16e4db=Object[_0x591874(0xf1)](_0x344939);_0x1da031&&(_0x16e4db=_0x16e4db[_0x591874(0xf9)](function(_0x563319){var _0x522219=_0x591874;return Object[_0x522219(0xff)](_0x344939,_0x563319)[_0x522219(0xde)];})),_0x477b9b[_0x591874(0xf8)]['apply'](_0x477b9b,_0x16e4db);}return _0x477b9b;}function a121_0xc7c9(){var _0x5bc269=['getOwnPropertyDescriptor','602KWqMHe','indexOf','bootloader_mode','map','getInfo','12711609TozHNg','url','getOwnPropertyDescriptors','2152542OqsgrM','isNewer','enumerable','forEach','getDeviceType','mini','patch_version','parseFirmware','getReleases','defineProperty','valid','data/','4LIPAdI','onekey_version','__esModule','string','outdated','isRequired','required','unknown','111536zKijtd','getOwnPropertySymbols','3609674AARPJh','none','getFirmwareStatus','major_version','keys','1065552OoGnfY','push','filter','getRelease','default','4901815kCVHLP','length','941984WmsttD'];a121_0xc7c9=function(){return _0x5bc269;};return a121_0xc7c9();}function _objectSpread(_0x50ae19){var _0x33f60a=a121_0x4cb783;for(var _0x3f3619=0x1;_0x3f3619<arguments[_0x33f60a(0xfd)];_0x3f3619++){var _0xca7a0c=arguments[_0x3f3619]!=null?arguments[_0x3f3619]:{};if(_0x3f3619%0x2)ownKeys(Object(_0xca7a0c),!![])['forEach'](function(_0x33ee5){var _0x1f9480=_0x33f60a;(0x0,_defineProperty2[_0x1f9480(0xfb)])(_0x50ae19,_0x33ee5,_0xca7a0c[_0x33ee5]);});else Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x50ae19,Object[_0x33f60a(0x107)](_0xca7a0c)):ownKeys(Object(_0xca7a0c))['forEach'](function(_0x1b5877){var _0x3213ad=_0x33f60a;Object[_0x3213ad(0xe5)](_0x50ae19,_0x1b5877,Object[_0x3213ad(0xff)](_0xca7a0c,_0x1b5877));});}return _0x50ae19;}var releases=(_releases={},_releases[0x1]=[],_releases[0x2]=[],_releases[a121_0x4cb783(0xe1)]=[],_releases),cleanUrl=function cleanUrl(_0xb2a511){var _0x33f6b9=a121_0x4cb783;if(typeof _0xb2a511!==_0x33f6b9(0xeb))return;if(_0xb2a511[_0x33f6b9(0x101)](_0x33f6b9(0xe7))===0x0)return _0xb2a511['substring'](0x5);return _0xb2a511;},parseFirmware=function parseFirmware(_0x40dc95,_0x18eddb){var _0x208baf=a121_0x4cb783,_0x118e5d=_0x40dc95;if(!_0x40dc95)return;Object[_0x208baf(0xf6)](_0x118e5d)[_0x208baf(0xdf)](function(_0x2260e6){var _0x5d7c34=_0x208baf,_0x5de563=_0x118e5d[_0x2260e6];releases[_0x18eddb]['push'](_objectSpread(_objectSpread({},_0x5de563),{},{'url':cleanUrl(_0x5de563[_0x5d7c34(0x106)]),'url_bitcoinonly':cleanUrl(_0x5de563['url_bitcoinonly'])}));});};function a121_0xdb8c(_0x44f62f,_0x504aa5){var _0xc7c9e5=a121_0xc7c9();return a121_0xdb8c=function(_0xdb8ca6,_0xcc4111){_0xdb8ca6=_0xdb8ca6-0xdd;var _0x4d3128=_0xc7c9e5[_0xdb8ca6];return _0x4d3128;},a121_0xdb8c(_0x44f62f,_0x504aa5);}exports[a121_0x4cb783(0xe3)]=parseFirmware;var getFirmwareStatus=function getFirmwareStatus(_0x4fb0b0){var _0x30cc5e=a121_0x4cb783;if(_0x4fb0b0['firmware_present']===![])return _0x30cc5e(0xf3);if(_0x4fb0b0[_0x30cc5e(0xf5)]===0x1&&_0x4fb0b0[_0x30cc5e(0x102)])return _0x30cc5e(0xef);if((0x0,_findDefectiveBatchDevice['findDefectiveBatchDevice'])(_0x4fb0b0)){var _0x4e4000=_0x4fb0b0[_0x30cc5e(0xe9)],_0x313d4d=_0x4fb0b0['major_version'],_0x51c121=_0x4fb0b0['minor_version'],_0x3e91ac=_0x4fb0b0[_0x30cc5e(0xe2)];if(_0x4e4000){var _0x196e92=_0x4e4000['split']('.')[_0x30cc5e(0x103)](Number);_0x313d4d=_0x196e92[0x0],_0x51c121=_0x196e92[0x1],_0x3e91ac=_0x196e92[0x2];}var _0x1fc074=(0x0,_version[_0x30cc5e(0xdd)])([0x2,0x1,0x6],[_0x313d4d,_0x51c121,_0x3e91ac]);return _0x1fc074?'required':_0x30cc5e(0xe6);}var _0x3dc779=(0x0,_deviceFeaturesUtils[_0x30cc5e(0xe0)])(_0x4fb0b0),_0x3dd905=_0x3dc779===_0x30cc5e(0xe1)?_0x30cc5e(0xe1):_0x4fb0b0[_0x30cc5e(0xf5)],_0x3df457=(0x0,_rollout['getInfo'])({'features':_0x4fb0b0,'releases':releases[_0x3dd905]});if(!_0x3df457)return _0x30cc5e(0xef);if(_0x3df457[_0x30cc5e(0xed)])return _0x30cc5e(0xee);if(_0x3df457[_0x30cc5e(0xdd)])return _0x30cc5e(0xec);return'valid';};exports['getFirmwareStatus']=getFirmwareStatus;var getRelease=function getRelease(_0x9fa307){var _0x20504a=a121_0x4cb783,_0x885845=(0x0,_deviceFeaturesUtils[_0x20504a(0xe0)])(_0x9fa307),_0x3914bc=_0x885845==='mini'?_0x20504a(0xe1):_0x9fa307[_0x20504a(0xf5)];return(0x0,_rollout[_0x20504a(0x104)])({'features':_0x9fa307,'releases':releases[_0x3914bc]});};exports[a121_0x4cb783(0xfa)]=getRelease;var getReleases=function getReleases(_0x2fe191,_0x4e9c39){var _0x2b5275=a121_0x4cb783,_0x4c7fed=(0x0,_deviceFeaturesUtils[_0x2b5275(0xe0)])(_0x4e9c39),_0xbf4d45=_0x4c7fed===_0x2b5275(0xe1)?_0x2b5275(0xe1):_0x2fe191;return releases[_0xbf4d45];};exports[a121_0x4cb783(0xe4)]=getReleases;