'use strict';var a208_0x522d34=a208_0x139d;(function(_0x2e42f3,_0x3e0338){var _0x1a37ea=a208_0x139d,_0x11f56d=_0x2e42f3();while(!![]){try{var _0x3d358a=-parseInt(_0x1a37ea(0x1bb))/0x1*(parseInt(_0x1a37ea(0x1ab))/0x2)+-parseInt(_0x1a37ea(0x1b1))/0x3*(parseInt(_0x1a37ea(0x1a2))/0x4)+parseInt(_0x1a37ea(0x1a6))/0x5+parseInt(_0x1a37ea(0x1d0))/0x6+-parseInt(_0x1a37ea(0x1c9))/0x7*(parseInt(_0x1a37ea(0x1a3))/0x8)+-parseInt(_0x1a37ea(0x1b9))/0x9+parseInt(_0x1a37ea(0x1c6))/0xa;if(_0x3d358a===_0x3e0338)break;else _0x11f56d['push'](_0x11f56d['shift']());}catch(_0x1be6a7){_0x11f56d['push'](_0x11f56d['shift']());}}}(a208_0x1d4d,0xc749b));exports['__esModule']=!![],exports['xpubDerive']=xpubDerive,exports[a208_0x522d34(0x1c1)]=exports[a208_0x522d34(0x1b2)]=exports[a208_0x522d34(0x1c4)]=void 0x0;var bitcoin=_interopRequireWildcard(require('@trezor/utxo-lib')),ecurve=_interopRequireWildcard(require('ecurve')),_constants=require('../constants');function _getRequireWildcardCache(_0x355380){if(typeof WeakMap!=='function')return null;var _0x33e4ac=new WeakMap(),_0x32b7d2=new WeakMap();return(_getRequireWildcardCache=function _0xd2cd04(_0x43e98d){return _0x43e98d?_0x32b7d2:_0x33e4ac;})(_0x355380);}function a208_0x139d(_0x41ef36,_0x4a78a6){var _0x1d4d14=a208_0x1d4d();return a208_0x139d=function(_0x139d6b,_0xc32614){_0x139d6b=_0x139d6b-0x1a0;var _0x7c828a=_0x1d4d14[_0x139d6b];return _0x7c828a;},a208_0x139d(_0x41ef36,_0x4a78a6);}function _interopRequireWildcard(_0x1d917c,_0x2f1d13){var _0x3016c6=a208_0x522d34;if(!_0x2f1d13&&_0x1d917c&&_0x1d917c['__esModule'])return _0x1d917c;if(_0x1d917c===null||typeof _0x1d917c!==_0x3016c6(0x1ba)&&typeof _0x1d917c!=='function')return{'default':_0x1d917c};var _0x3b9f0d=_getRequireWildcardCache(_0x2f1d13);if(_0x3b9f0d&&_0x3b9f0d[_0x3016c6(0x1d2)](_0x1d917c))return _0x3b9f0d[_0x3016c6(0x1c5)](_0x1d917c);var _0x159186={},_0x22bb4d=Object[_0x3016c6(0x1bf)]&&Object[_0x3016c6(0x1a8)];for(var _0x31a892 in _0x1d917c){if(_0x31a892!==_0x3016c6(0x1bd)&&Object[_0x3016c6(0x1bc)][_0x3016c6(0x1cd)][_0x3016c6(0x1af)](_0x1d917c,_0x31a892)){var _0x41fb2e=_0x22bb4d?Object['getOwnPropertyDescriptor'](_0x1d917c,_0x31a892):null;_0x41fb2e&&(_0x41fb2e[_0x3016c6(0x1c5)]||_0x41fb2e[_0x3016c6(0x1b6)])?Object[_0x3016c6(0x1bf)](_0x159186,_0x31a892,_0x41fb2e):_0x159186[_0x31a892]=_0x1d917c[_0x31a892];}}return _0x159186[_0x3016c6(0x1bd)]=_0x1d917c,_0x3b9f0d&&_0x3b9f0d['set'](_0x1d917c,_0x159186),_0x159186;}var curve=ecurve[a208_0x522d34(0x1c8)]('secp256k1'),pubNode2bjsNode=function pubNode2bjsNode(_0x4cfa7b,_0x48c096){var _0x518cea=a208_0x522d34,_0x33f0ac=Buffer['from'](_0x4cfa7b[_0x518cea(0x1c7)],_0x518cea(0x1cf)),_0x35be8b=Buffer[_0x518cea(0x1a0)](_0x4cfa7b['public_key'],_0x518cea(0x1cf));if(curve==null)throw _constants[_0x518cea(0x1d1)]['TypedError']('Runtime',_0x518cea(0x1a9));var _0x369675=ecurve[_0x518cea(0x1a5)][_0x518cea(0x1c3)](curve,_0x35be8b),_0x23af2c=new bitcoin[(_0x518cea(0x1b5))](new bitcoin['ECPair'](null,_0x369675,{'network':_0x48c096}),_0x33f0ac);return _0x23af2c[_0x518cea(0x1b3)]=+_0x4cfa7b['depth'],_0x23af2c[_0x518cea(0x1ae)]=+_0x4cfa7b['child_num'],_0x23af2c[_0x518cea(0x1b7)]=_0x4cfa7b[_0x518cea(0x1cb)],_0x23af2c;},convertXpub=function convertXpub(_0xa33f8c,_0xc3ecb9,_0x3e9824){var _0x48f9e9=a208_0x522d34,_0x523063=bitcoin[_0x48f9e9(0x1b5)][_0x48f9e9(0x1a1)](_0xa33f8c,_0xc3ecb9);return _0x3e9824&&(_0x523063[_0x48f9e9(0x1cc)][_0x48f9e9(0x1ca)]=_0x3e9824),_0x523063['toBase58']();};exports[a208_0x522d34(0x1c4)]=convertXpub;var convertBitcoinXpub=function convertBitcoinXpub(_0x4a49f0,_0x5c13db){var _0x4e7fbb=a208_0x522d34;if(_0x5c13db[_0x4e7fbb(0x1ce)][_0x4e7fbb(0x1b4)]===0x488b21e)return _0x4a49f0;else{var _0xa2678a=bitcoin[_0x4e7fbb(0x1b5)][_0x4e7fbb(0x1a1)](_0x4a49f0);return _0xa2678a['keyPair'][_0x4e7fbb(0x1ca)]=_0x5c13db,_0xa2678a['toBase58']();}};exports[a208_0x522d34(0x1b2)]=convertBitcoinXpub;var pubKey2bjsNode=function pubKey2bjsNode(_0x3e556a,_0x6cf586){var _0x378df0=a208_0x522d34,_0xeddb24=_0x3e556a[_0x378df0(0x1b0)],_0xf9f2e1=pubNode2bjsNode(_0xeddb24,_0x6cf586),_0x59a387=_0xf9f2e1[_0x378df0(0x1ac)](),_0x8423b9=convertXpub(_0x3e556a['xpub'],_0x6cf586);if(_0x59a387!==_0x8423b9)throw _constants[_0x378df0(0x1d1)]['TypedError'](_0x378df0(0x1a4),_0x378df0(0x1c2)+_0x59a387+_0x378df0(0x1b8)+_0x8423b9);return _0xf9f2e1;},checkDerivation=function checkDerivation(_0x4acbf6,_0x32b43e,_0x4cba77){var _0x528521=a208_0x522d34,_0x347de9=_0x4acbf6['derive'](_0x4cba77),_0x52d6f9=_0x347de9[_0x528521(0x1ac)](),_0x3d3a1d=_0x32b43e[_0x528521(0x1ac)]();if(_0x52d6f9!==_0x3d3a1d)throw _constants[_0x528521(0x1d1)][_0x528521(0x1ad)](_0x528521(0x1a4),_0x528521(0x1a7)+_0x52d6f9+',\x20Received:\x20'+_0x3d3a1d);};function a208_0x1d4d(){var _0x26ec5a=['chain_code','getCurveByName','1253uwXDlN','network','fingerprint','keyPair','hasOwnProperty','bip32','hex','6226074UWnnuk','ERRORS','has','from','fromBase58','1556okwkyi','62104DujCoP','Runtime','Point','7223000RwPUfK','checkDerivation:\x20Invalid\x20child\x20cross-check\x20public\x20key.\x20Derived:\x20','getOwnPropertyDescriptor','pubNode2bjsNode:\x20secp256k1\x20is\x20null','networks','6bROeyZ','toBase58','TypedError','index','call','node','12534aGbDMv','convertBitcoinXpub','depth','public','HDNode','set','parentFingerprint',',\x20Received:\x20','11584566TukgwM','object','190511uKVCwY','prototype','default','toString','defineProperty','chainCode','xpubToHDNodeType','pubKey2bjsNode:\x20Invalid\x20public\x20key\x20transmission\x20detected.\x20Key:\x20','decodeFrom','convertXpub','get','32075300WghCLM'];a208_0x1d4d=function(){return _0x26ec5a;};return a208_0x1d4d();}function xpubDerive(_0x40f1bb,_0x39fcec,_0x381f22,_0x3c47d6,_0x1356a1){var _0x4a9c1d=a208_0x522d34,_0x5ea131=pubKey2bjsNode(_0x40f1bb,_0x3c47d6||bitcoin[_0x4a9c1d(0x1aa)]['bitcoin']),_0x24572c=pubKey2bjsNode(_0x39fcec,_0x3c47d6||bitcoin[_0x4a9c1d(0x1aa)]['bitcoin']);return checkDerivation(_0x5ea131,_0x24572c,_0x381f22),_0x40f1bb;}var xpubToHDNodeType=function xpubToHDNodeType(_0x2e91ed,_0x49501a){var _0x2e22ce=a208_0x522d34,_0x379dfb=bitcoin[_0x2e22ce(0x1b5)][_0x2e22ce(0x1a1)](_0x2e91ed,_0x49501a);return{'depth':_0x379dfb[_0x2e22ce(0x1b3)],'child_num':_0x379dfb[_0x2e22ce(0x1ae)],'fingerprint':_0x379dfb['parentFingerprint'],'public_key':_0x379dfb[_0x2e22ce(0x1cc)]['getPublicKeyBuffer']()[_0x2e22ce(0x1be)](_0x2e22ce(0x1cf)),'chain_code':_0x379dfb[_0x2e22ce(0x1c0)][_0x2e22ce(0x1be)](_0x2e22ce(0x1cf))};};exports[a208_0x522d34(0x1c1)]=xpubToHDNodeType;