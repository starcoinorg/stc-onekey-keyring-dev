'use strict';var a30_0x570e1f=a30_0xe74e;(function(_0x30d94a,_0x3508ef){var _0x925805=a30_0xe74e,_0x29cf09=_0x30d94a();while(!![]){try{var _0x58f034=parseInt(_0x925805(0x1c6))/0x1+parseInt(_0x925805(0x1c0))/0x2*(-parseInt(_0x925805(0x1cd))/0x3)+-parseInt(_0x925805(0x1a4))/0x4*(-parseInt(_0x925805(0x1b1))/0x5)+-parseInt(_0x925805(0x1a9))/0x6+-parseInt(_0x925805(0x1ab))/0x7*(parseInt(_0x925805(0x194))/0x8)+parseInt(_0x925805(0x197))/0x9+-parseInt(_0x925805(0x1b5))/0xa*(-parseInt(_0x925805(0x19e))/0xb);if(_0x58f034===_0x3508ef)break;else _0x29cf09['push'](_0x29cf09['shift']());}catch(_0x4f9601){_0x29cf09['push'](_0x29cf09['shift']());}}}(a30_0x226b,0x3be72));function a30_0xe74e(_0x143817,_0x51dda9){var _0x226b3b=a30_0x226b();return a30_0xe74e=function(_0xe74e3,_0x3f7ced){_0xe74e3=_0xe74e3-0x193;var _0x399f04=_0x226b3b[_0xe74e3];return _0x399f04;},a30_0xe74e(_0x143817,_0x51dda9);}var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');function a30_0x226b(){var _0x23894d=['custom-message','vendor','release','sent','172DnEqUi','UiMessage','abrupt','hasOwnProperty','next','2779008ypFmrC','run','28091crkyEU','end','promise','getCustomMessages','apply','params','29090Llclnx','Parameter\x20\x22messages\x22\x20has\x20invalid\x20type.\x20JSON\x20expected.','info','TypedError','1570cpqiSA','prev','CUSTOM_MESSAGE_RESPONSE','write','postMessage','default','payload','Method_InvalidParameter','stop','return','read','2qUDHmh','trezor.io','Cannot\x20use\x20custom\x20message\x20on\x20device\x20with\x20official\x20firmware.\x20Change\x20device\x20\x22vendor\x22\x20field.','features','__esModule','stringify','331399HyyVPu','bitcointrezor.com','Custom\x20message','toLowerCase','message','CUSTOM_MESSAGE_REQUEST','messages','1145307QqWjfE','prototype','152hwvRYy','object','wrap','2503755SXjhUC','mark','string','device','validateParams','ERRORS','call','21494HMMzRO','getCommands'];a30_0x226b=function(){return _0x23894d;};return a30_0x226b();}exports[a30_0x570e1f(0x1c4)]=!![],exports[a30_0x570e1f(0x1ba)]=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_inheritsLoose2=_interopRequireDefault(require('@babel/runtime/helpers/inheritsLoose')),_AbstractMethod2=_interopRequireDefault(require('./AbstractMethod')),_paramsValidator=require('./helpers/paramsValidator'),_constants=require('../../constants'),_builder=require('../../message/builder'),CustomMessage=function(_0x47068a){var _0x180970=a30_0x570e1f;(0x0,_inheritsLoose2[_0x180970(0x1ba)])(_0x3d5f4c,_0x47068a);function _0x3d5f4c(_0x5d8b32){var _0x1e9bd2=_0x180970,_0x6fb5e;_0x6fb5e=_0x47068a[_0x1e9bd2(0x19d)](this,_0x5d8b32)||this,_0x6fb5e['requiredPermissions']=[_0x1e9bd2(0x1a0),_0x1e9bd2(0x1bf),_0x1e9bd2(0x1b8)],_0x6fb5e[_0x1e9bd2(0x1b3)]=_0x1e9bd2(0x1c8);var _0x430200=_0x5d8b32['payload'];(0x0,_paramsValidator[_0x1e9bd2(0x19b)])(_0x5d8b32['payload'],[{'name':'message','type':_0x1e9bd2(0x199),'obligatory':!![]},{'name':_0x1e9bd2(0x1b0),'type':_0x1e9bd2(0x195),'obligatory':!![]}]);if(Object[_0x1e9bd2(0x193)][_0x1e9bd2(0x1a7)]['call'](_0x430200,'messages'))try{JSON['parse'](JSON[_0x1e9bd2(0x1c5)](_0x430200[_0x1e9bd2(0x1cc)]));}catch(_0x7df312){throw _constants[_0x1e9bd2(0x19c)][_0x1e9bd2(0x1b4)](_0x1e9bd2(0x1bc),_0x1e9bd2(0x1b2));}return _0x6fb5e[_0x1e9bd2(0x1b0)]={'customMessages':_0x430200[_0x1e9bd2(0x1cc)],'message':_0x430200['message'],'params':_0x430200['params']},_0x6fb5e;}var _0x6cdccc=_0x3d5f4c[_0x180970(0x193)];return _0x6cdccc[_0x180970(0x1ae)]=function _0x2c0ea4(){var _0x45bcd2=_0x180970;return this[_0x45bcd2(0x1b0)]['customMessages'];},_0x6cdccc['run']=(function(){var _0x6e3227=_0x180970,_0x397ac3=(0x0,_asyncToGenerator2[_0x6e3227(0x1ba)])(_regenerator[_0x6e3227(0x1ba)][_0x6e3227(0x198)](function _0x1f20fc(){var _0x22bc58=_0x6e3227,_0x42ef35,_0x4f6c60,_0x2d0e84,_0x1d9236;return _regenerator[_0x22bc58(0x1ba)][_0x22bc58(0x196)](function _0x12e9b8(_0x52c0bf){var _0x234c8f=_0x22bc58;while(0x1){switch(_0x52c0bf[_0x234c8f(0x1b6)]=_0x52c0bf['next']){case 0x0:if(!(this[_0x234c8f(0x19a)][_0x234c8f(0x1c3)][_0x234c8f(0x1a1)]===_0x234c8f(0x1c1)||this[_0x234c8f(0x19a)]['features'][_0x234c8f(0x1a1)]===_0x234c8f(0x1c7))){_0x52c0bf[_0x234c8f(0x1a8)]=0x2;break;}throw _constants[_0x234c8f(0x19c)][_0x234c8f(0x1b4)]('Runtime',_0x234c8f(0x1c2));case 0x2:_0x52c0bf[_0x234c8f(0x1a8)]=0x4;return this[_0x234c8f(0x19a)][_0x234c8f(0x19f)]()['_commonCall'](this[_0x234c8f(0x1b0)][_0x234c8f(0x1ca)],this[_0x234c8f(0x1b0)]['params']);case 0x4:_0x42ef35=_0x52c0bf[_0x234c8f(0x1a3)],_0x4f6c60=this['createUiPromise'](_constants['UI'][_0x234c8f(0x1b7)],this[_0x234c8f(0x19a)]),this[_0x234c8f(0x1b9)]((0x0,_builder[_0x234c8f(0x1a5)])(_constants['UI'][_0x234c8f(0x1cb)],_0x42ef35)),_0x52c0bf[_0x234c8f(0x1a8)]=0x9;return _0x4f6c60[_0x234c8f(0x1ad)];case 0x9:_0x2d0e84=_0x52c0bf['sent'],_0x1d9236=_0x2d0e84[_0x234c8f(0x1bb)],(0x0,_paramsValidator[_0x234c8f(0x19b)])(_0x1d9236,[{'name':_0x234c8f(0x1ca),'type':'string','obligatory':!![]}]);if(!(_0x1d9236[_0x234c8f(0x1ca)][_0x234c8f(0x1c9)]()===_0x234c8f(0x1a2))){_0x52c0bf[_0x234c8f(0x1a8)]=0x10;break;}return _0x52c0bf[_0x234c8f(0x1a6)]('return',_0x42ef35);case 0x10:(0x0,_paramsValidator[_0x234c8f(0x19b)])(_0x1d9236,[{'name':_0x234c8f(0x1b0),'type':_0x234c8f(0x195),'obligatory':!![]}]),this['params'][_0x234c8f(0x1ca)]=_0x1d9236[_0x234c8f(0x1ca)],this[_0x234c8f(0x1b0)]['params']=_0x1d9236[_0x234c8f(0x1b0)],_0x52c0bf[_0x234c8f(0x1a8)]=0x15;return this[_0x234c8f(0x1aa)]();case 0x15:return _0x52c0bf[_0x234c8f(0x1a6)](_0x234c8f(0x1be),_0x52c0bf[_0x234c8f(0x1a3)]);case 0x16:case _0x234c8f(0x1ac):return _0x52c0bf[_0x234c8f(0x1bd)]();}}},_0x1f20fc,this);}));function _0xb7c1e(){var _0x584c14=_0x6e3227;return _0x397ac3[_0x584c14(0x1af)](this,arguments);}return _0xb7c1e;}()),_0x3d5f4c;}(_AbstractMethod2[a30_0x570e1f(0x1ba)]);exports[a30_0x570e1f(0x1ba)]=CustomMessage;