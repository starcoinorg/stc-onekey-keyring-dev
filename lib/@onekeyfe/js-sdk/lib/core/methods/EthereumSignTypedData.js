'use strict';var a38_0x23c230=a38_0x1c9d;(function(_0xc3687f,_0x231805){var _0x33578b=a38_0x1c9d,_0x105f2a=_0xc3687f();while(!![]){try{var _0x329af1=parseInt(_0x33578b(0x222))/0x1*(parseInt(_0x33578b(0x20d))/0x2)+parseInt(_0x33578b(0x219))/0x3*(-parseInt(_0x33578b(0x1f9))/0x4)+-parseInt(_0x33578b(0x21e))/0x5*(-parseInt(_0x33578b(0x1f0))/0x6)+parseInt(_0x33578b(0x1fa))/0x7+parseInt(_0x33578b(0x218))/0x8+parseInt(_0x33578b(0x207))/0x9+parseInt(_0x33578b(0x21b))/0xa*(-parseInt(_0x33578b(0x1fb))/0xb);if(_0x329af1===_0x231805)break;else _0x105f2a['push'](_0x105f2a['shift']());}catch(_0x2c98e8){_0x105f2a['push'](_0x105f2a['shift']());}}}(a38_0xc108,0xaf2c0));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a38_0x23c230(0x1f8)]=!![],exports['default']=void 0x0;function a38_0x1c9d(_0x227c4b,_0x3aea38){var _0xc108a8=a38_0xc108();return a38_0x1c9d=function(_0x1c9d60,_0x139681){_0x1c9d60=_0x1c9d60-0x1e0;var _0x4d4a00=_0xc108a8[_0x1c9d60];return _0x4d4a00;},a38_0x1c9d(_0x227c4b,_0x3aea38);}var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_inheritsLoose2=_interopRequireDefault(require('@babel/runtime/helpers/inheritsLoose')),_ethSigUtil=require('eth-sig-util'),_AbstractMethod2=_interopRequireDefault(require('./AbstractMethod')),_paramsValidator=require('./helpers/paramsValidator'),_pathUtils=require('../../utils/pathUtils'),_CoinInfo=require('../../data/CoinInfo'),_ethereumUtils=require('../../utils/ethereumUtils'),_constants=require('../../constants'),_formatUtils=require('../../utils/formatUtils');function ownKeys(_0x332d11,_0x4cf2d3){var _0x585a45=a38_0x23c230,_0x23d6d8=Object['keys'](_0x332d11);if(Object[_0x585a45(0x20b)]){var _0x1d3bc9=Object[_0x585a45(0x20b)](_0x332d11);_0x4cf2d3&&(_0x1d3bc9=_0x1d3bc9[_0x585a45(0x202)](function(_0x245ac7){var _0x328109=_0x585a45;return Object['getOwnPropertyDescriptor'](_0x332d11,_0x245ac7)[_0x328109(0x1f3)];})),_0x23d6d8[_0x585a45(0x215)][_0x585a45(0x1e5)](_0x23d6d8,_0x1d3bc9);}return _0x23d6d8;}function _objectSpread(_0x539acc){var _0x17531a=a38_0x23c230;for(var _0x45ee38=0x1;_0x45ee38<arguments[_0x17531a(0x1fe)];_0x45ee38++){var _0x17099a=arguments[_0x45ee38]!=null?arguments[_0x45ee38]:{};if(_0x45ee38%0x2)ownKeys(Object(_0x17099a),!![])[_0x17531a(0x20e)](function(_0x5e9202){var _0x43e05d=_0x17531a;(0x0,_defineProperty2[_0x43e05d(0x1e4)])(_0x539acc,_0x5e9202,_0x17099a[_0x5e9202]);});else Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x539acc,Object[_0x17531a(0x1e0)](_0x17099a)):ownKeys(Object(_0x17099a))[_0x17531a(0x20e)](function(_0x501fbc){var _0x2e42a0=_0x17531a;Object[_0x2e42a0(0x20a)](_0x539acc,_0x501fbc,Object[_0x2e42a0(0x21c)](_0x17099a,_0x501fbc));});}return _0x539acc;}var EthereumSignTypedData=function(_0xa6abce){var _0x16697d=a38_0x23c230;(0x0,_inheritsLoose2[_0x16697d(0x1e4)])(_0x4d453e,_0xa6abce);function _0x4d453e(_0x5a8490){var _0x3ac4d8=_0x16697d,_0x5c8641;_0x5c8641=_0xa6abce[_0x3ac4d8(0x21a)](this,_0x5a8490)||this,_0x5c8641[_0x3ac4d8(0x21d)]=[_0x3ac4d8(0x204),_0x3ac4d8(0x217)];var _0x28ccd2=_0x5a8490[_0x3ac4d8(0x213)];(0x0,_paramsValidator[_0x3ac4d8(0x1ec)])(_0x28ccd2,[{'name':_0x3ac4d8(0x205),'required':!![]},{'name':'metamask_v4_compat','type':_0x3ac4d8(0x1eb),'required':![]},{'name':_0x3ac4d8(0x212),'type':_0x3ac4d8(0x1f5),'required':!![]},{'name':_0x3ac4d8(0x210),'type':_0x3ac4d8(0x220)},{'name':_0x3ac4d8(0x206),'type':_0x3ac4d8(0x220)},{'name':'version','type':_0x3ac4d8(0x220)}]);var _0x9cef75=(0x0,_pathUtils[_0x3ac4d8(0x1fc)])(_0x28ccd2[_0x3ac4d8(0x205)],0x3),_0x5605d2=(0x0,_CoinInfo[_0x3ac4d8(0x211)])(_0x9cef75);_0x5c8641[_0x3ac4d8(0x1e2)]=(0x0,_paramsValidator[_0x3ac4d8(0x1f7)])(_0x5c8641[_0x3ac4d8(0x1e7)],_0x5605d2,_0x5c8641[_0x3ac4d8(0x1e2)]),_0x5c8641['info']=(0x0,_ethereumUtils['getNetworkLabel'])(_0x3ac4d8(0x1ef),_0x5605d2),_0x5c8641[_0x3ac4d8(0x1ea)]={'address_n':_0x9cef75,'metamask_v4_compat':_0x28ccd2['metamask_v4_compat'],'data':_0x28ccd2[_0x3ac4d8(0x212)],'version':_0x28ccd2['version']};if(_0x28ccd2[_0x3ac4d8(0x210)]){_0x5c8641['params']=_objectSpread(_objectSpread({},_0x5c8641['params']),{},{'domain_separator_hash':(0x0,_formatUtils[_0x3ac4d8(0x1e1)])(_0x28ccd2[_0x3ac4d8(0x210)])});if(_0x28ccd2['message_hash'])_0x5c8641[_0x3ac4d8(0x1ea)]=_objectSpread(_objectSpread({},_0x5c8641['params']),{},{'message_hash':(0x0,_formatUtils['messageToHex'])(_0x28ccd2['message_hash'])});else{if(_0x5c8641[_0x3ac4d8(0x1ea)]['data'][_0x3ac4d8(0x208)]!==_0x3ac4d8(0x203))throw _constants[_0x3ac4d8(0x20c)][_0x3ac4d8(0x214)](_0x3ac4d8(0x1f4),'message_hash\x20should\x20only\x20be\x20empty\x20when\x20data.primaryType=EIP712Domain');}}if(_0x5c8641['params']['data'][_0x3ac4d8(0x208)]===_0x3ac4d8(0x203)){_0x5c8641['firmwareRange']=(0x0,_paramsValidator[_0x3ac4d8(0x1f7)])(_0x3ac4d8(0x209),_0x5605d2,_0x5c8641[_0x3ac4d8(0x1e2)]);if(_0x5c8641[_0x3ac4d8(0x1ea)]['message_hash'])throw _constants[_0x3ac4d8(0x20c)][_0x3ac4d8(0x214)](_0x3ac4d8(0x1f4),'message_hash\x20should\x20be\x20empty\x20when\x20data.primaryType=EIP712Domain');}return _0x5c8641;}var _0x4ec7aa=_0x4d453e['prototype'];return _0x4ec7aa[_0x16697d(0x1f6)]=(function(){var _0x238c36=_0x16697d,_0x4138fe=(0x0,_asyncToGenerator2['default'])(_regenerator['default'][_0x238c36(0x1ee)](function _0x561322(){var _0x3da537=_0x238c36,_0x26107c,_0x37a8b2,_0x44911c,_0x19bcfd,_0x408ce9,_0x47c765,_0x177bbc,_0x527b8d,_0x6cce6a,_0x2e1bf0,_0x254790,_0x1afd8a,_0x7ee52d;return _regenerator[_0x3da537(0x1e4)][_0x3da537(0x200)](function _0x48c9bf(_0x2557e8){var _0x3a596f=_0x3da537;while(0x1){switch(_0x2557e8[_0x3a596f(0x1e9)]=_0x2557e8[_0x3a596f(0x1ff)]){case 0x0:_0x26107c=this[_0x3a596f(0x1ed)][_0x3a596f(0x1f1)](),(_0x37a8b2=this[_0x3a596f(0x1ea)],_0x44911c=_0x37a8b2['address_n'],_0x19bcfd=_0x37a8b2[_0x3a596f(0x212)],_0x408ce9=_0x37a8b2[_0x3a596f(0x1f2)]),_0x47c765=_ethSigUtil[_0x3a596f(0x1fd)]['sanitizeData'](_0x19bcfd),_0x177bbc=_0x408ce9==='V4';if(!(_0x47c765[_0x3a596f(0x208)]===_0x3a596f(0x203))){_0x2557e8[_0x3a596f(0x1ff)]=0x6;break;}throw _constants[_0x3a596f(0x20c)]['TypedError']('Backend_NotSupported','primaryType\x20`EIP712Domain`\x20is\x20not\x20support');case 0x6:_0x527b8d=_ethSigUtil[_0x3a596f(0x1fd)][_0x3a596f(0x1e8)](_0x3a596f(0x203),_0x47c765[_0x3a596f(0x221)],_0x47c765[_0x3a596f(0x21f)],_0x177bbc),_0x6cce6a=_ethSigUtil[_0x3a596f(0x1fd)][_0x3a596f(0x1e8)](_0x47c765[_0x3a596f(0x208)],_0x47c765[_0x3a596f(0x20f)],_0x47c765[_0x3a596f(0x21f)],_0x177bbc),_0x2557e8[_0x3a596f(0x1ff)]=0xa;return _0x26107c[_0x3a596f(0x216)]('EthereumSignTypedHash',_0x3a596f(0x223),{'address_n':_0x44911c,'domain_separator_hash':_0x527b8d,'message_hash':_0x6cce6a});case 0xa:_0x2e1bf0=_0x2557e8['sent'],(_0x254790=_0x2e1bf0['message'],_0x1afd8a=_0x254790[_0x3a596f(0x1e3)],_0x7ee52d=_0x254790[_0x3a596f(0x201)]);return _0x2557e8[_0x3a596f(0x1e6)]('return',{'address':_0x1afd8a,'signature':'0x'+_0x7ee52d});case 0xd:case'end':return _0x2557e8['stop']();}}},_0x561322,this);}));function _0x16a174(){var _0x5da159=_0x238c36;return _0x4138fe[_0x5da159(0x1e5)](this,arguments);}return _0x16a174;}()),_0x4d453e;}(_AbstractMethod2[a38_0x23c230(0x1e4)]);function a38_0xc108(){var _0x447d04=['length','next','wrap','signature','filter','EIP712Domain','read','path','message_hash','10129653PbCgrv','primaryType','eip712-domain-only','defineProperty','getOwnPropertySymbols','ERRORS','137650vsSHAU','forEach','message','domain_separator_hash','getEthereumNetwork','data','payload','TypedError','push','typedCall','write','7939960sESBns','494481NWBOyB','call','530Cvdlut','getOwnPropertyDescriptor','requiredPermissions','608495MmGUaq','types','string','domain','11eFNKLN','EthereumTypedDataSignature','getOwnPropertyDescriptors','messageToHex','firmwareRange','address','default','apply','abrupt','name','hashStruct','prev','params','boolean','validateParams','device','mark','Sign\x20#NETWORK\x20typed\x20data','18sHpVpg','getCommands','version','enumerable','Method_InvalidParameter','object','run','getFirmwareRange','__esModule','16IwDOoB','8955583zulNLB','652267QLCCGT','validatePath','TypedDataUtils'];a38_0xc108=function(){return _0x447d04;};return a38_0xc108();}exports['default']=EthereumSignTypedData;