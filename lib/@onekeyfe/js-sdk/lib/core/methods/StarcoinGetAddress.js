'use strict';var a66_0x41fc86=a66_0x17bb;function a66_0x17bb(_0x2afcf8,_0x1618db){var _0xd3158e=a66_0xd315();return a66_0x17bb=function(_0x17bb03,_0x1beda4){_0x17bb03=_0x17bb03-0x145;var _0x211538=_0xd3158e[_0x17bb03];return _0x211538;},a66_0x17bb(_0x2afcf8,_0x1618db);}(function(_0x5d4daa,_0x1cfba8){var _0x1e0e4c=a66_0x17bb,_0x46fbf3=_0x5d4daa();while(!![]){try{var _0xa74ca2=-parseInt(_0x1e0e4c(0x14f))/0x1*(parseInt(_0x1e0e4c(0x18f))/0x2)+parseInt(_0x1e0e4c(0x146))/0x3*(-parseInt(_0x1e0e4c(0x18b))/0x4)+parseInt(_0x1e0e4c(0x17d))/0x5*(parseInt(_0x1e0e4c(0x17c))/0x6)+parseInt(_0x1e0e4c(0x17a))/0x7+parseInt(_0x1e0e4c(0x16c))/0x8+parseInt(_0x1e0e4c(0x17e))/0x9+-parseInt(_0x1e0e4c(0x165))/0xa;if(_0xa74ca2===_0x1cfba8)break;else _0x46fbf3['push'](_0x46fbf3['shift']());}catch(_0x3d4465){_0x46fbf3['push'](_0x46fbf3['shift']());}}}(a66_0xd315,0x86732));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a66_0x41fc86(0x170)]=!![],exports[a66_0x41fc86(0x182)]=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_assertThisInitialized2=_interopRequireDefault(require('@babel/runtime/helpers/assertThisInitialized')),_inheritsLoose2=_interopRequireDefault(require('@babel/runtime/helpers/inheritsLoose')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_AbstractMethod2=_interopRequireDefault(require('./AbstractMethod')),_paramsValidator=require('./helpers/paramsValidator'),_pathUtils=require('../../utils/pathUtils'),_formatUtils=require('../../utils/formatUtils'),_constants=require('../../constants'),_builder=require('../../message/builder');function ownKeys(_0x4dc931,_0x4c594f){var _0x19b303=a66_0x41fc86,_0x3c80a7=Object['keys'](_0x4dc931);if(Object[_0x19b303(0x18a)]){var _0x3451a4=Object[_0x19b303(0x18a)](_0x4dc931);_0x4c594f&&(_0x3451a4=_0x3451a4[_0x19b303(0x173)](function(_0xc35177){var _0x490d3f=_0x19b303;return Object[_0x490d3f(0x174)](_0x4dc931,_0xc35177)[_0x490d3f(0x15f)];})),_0x3c80a7['push'][_0x19b303(0x17b)](_0x3c80a7,_0x3451a4);}return _0x3c80a7;}function a66_0xd315(){var _0xfa8ddc=['getButtonRequestData','stop','validateParams','promise','next','bundle','getOwnPropertySymbols','24EtNAxo','useUi','REQUEST_CONFIRMATION','defineProperties','694558JetUTc','ButtonRequest_Address','address','path','263703tioulM','hasBundle','prototype','device','requiredPermissions','UiMessage','boolean','sent','array','3qzzaeF','createUiPromise','ERRORS','prev','confirmed','Method_AddressNotMatch','starcoinGetAddress','return','abrupt','hasOwnProperty','stripHexPrefix','getPopupPromise','TypedError','progress','useEventListener','show_display','enumerable','payload','showOnDevice','call','info','getOwnPropertyDescriptors','5082950uSblpS','length','run','forEach','RECEIVE_CONFIRMATION','push','BUNDLE_PROGRESS','4996440EsQMvU','address_n','_call','Export\x20STC\x20address','__esModule','toLowerCase','not-set','filter','getOwnPropertyDescriptor','postMessage','validatePath','string','end','noBackupConfirmation','6519205vaRlGa','apply','6594vLYKKt','1150riurzB','7376436cIfRfv','Export\x20multiple\x20addresses','mark','params','default','wrap'];a66_0xd315=function(){return _0xfa8ddc;};return a66_0xd315();}function _objectSpread(_0x388f94){var _0x3a5d77=a66_0x41fc86;for(var _0x57006d=0x1;_0x57006d<arguments[_0x3a5d77(0x166)];_0x57006d++){var _0x5a3c85=arguments[_0x57006d]!=null?arguments[_0x57006d]:{};if(_0x57006d%0x2)ownKeys(Object(_0x5a3c85),!![])['forEach'](function(_0x46eed0){var _0x1bab79=_0x3a5d77;(0x0,_defineProperty2[_0x1bab79(0x182)])(_0x388f94,_0x46eed0,_0x5a3c85[_0x46eed0]);});else Object['getOwnPropertyDescriptors']?Object[_0x3a5d77(0x18e)](_0x388f94,Object[_0x3a5d77(0x164)](_0x5a3c85)):ownKeys(Object(_0x5a3c85))['forEach'](function(_0x21001f){var _0x14f14e=_0x3a5d77;Object['defineProperty'](_0x388f94,_0x21001f,Object[_0x14f14e(0x174)](_0x5a3c85,_0x21001f));});}return _0x388f94;}var StarcoinGetAddress=function(_0x5147fb){var _0x6fe6b1=a66_0x41fc86;(0x0,_inheritsLoose2[_0x6fe6b1(0x182)])(_0xa3e5bc,_0x5147fb);function _0xa3e5bc(_0x293ab9){var _0x42747f=_0x6fe6b1,_0x185da6;_0x185da6=_0x5147fb['call'](this,_0x293ab9)||this,(0x0,_defineProperty2[_0x42747f(0x182)])((0x0,_assertThisInitialized2['default'])(_0x185da6),_0x42747f(0x181),[]),(0x0,_defineProperty2[_0x42747f(0x182)])((0x0,_assertThisInitialized2[_0x42747f(0x182)])(_0x185da6),'progress',0x0),_0x185da6[_0x42747f(0x14a)]=['read'],_0x185da6['hasBundle']=Object[_0x42747f(0x148)][_0x42747f(0x158)][_0x42747f(0x162)](_0x293ab9[_0x42747f(0x160)],'bundle');var _0x35e446=!_0x185da6['hasBundle']?_objectSpread(_objectSpread({},_0x293ab9[_0x42747f(0x160)]),{},{'bundle':[_0x293ab9['payload']]}):_0x293ab9[_0x42747f(0x160)];(0x0,_paramsValidator[_0x42747f(0x186)])(_0x35e446,[{'name':_0x42747f(0x189),'type':_0x42747f(0x14e)},{'name':_0x42747f(0x15d),'type':_0x42747f(0x14c)}]),_0x35e446[_0x42747f(0x189)][_0x42747f(0x168)](function(_0x7dda06){var _0x40d2c8=_0x42747f;(0x0,_paramsValidator[_0x40d2c8(0x186)])(_0x7dda06,[{'name':_0x40d2c8(0x145),'obligatory':!![]},{'name':'address','type':_0x40d2c8(0x177)},{'name':_0x40d2c8(0x161),'type':_0x40d2c8(0x14c)}]);var _0x7ddf80=(0x0,_pathUtils[_0x40d2c8(0x176)])(_0x7dda06[_0x40d2c8(0x145)],0x3),_0x2957b5=!![];Object[_0x40d2c8(0x148)][_0x40d2c8(0x158)][_0x40d2c8(0x162)](_0x7dda06,_0x40d2c8(0x161))&&(_0x2957b5=_0x7dda06['showOnDevice']),_0x185da6[_0x40d2c8(0x181)][_0x40d2c8(0x16a)]({'address_n':_0x7ddf80,'show_display':_0x2957b5,'address':_0x7dda06[_0x40d2c8(0x191)]});});_0x185da6[_0x42747f(0x181)][_0x42747f(0x166)]===0x1?_0x185da6['info']=_0x42747f(0x16f):_0x185da6[_0x42747f(0x163)]=_0x42747f(0x17f);var _0xd40b45=_0x35e446['useEventListener']&&_0x185da6[_0x42747f(0x181)][_0x42747f(0x166)]===0x1&&typeof _0x185da6[_0x42747f(0x181)][0x0][_0x42747f(0x191)]===_0x42747f(0x177)&&_0x185da6[_0x42747f(0x181)][0x0][_0x42747f(0x15e)];return _0x185da6[_0x42747f(0x153)]=_0xd40b45,_0x185da6[_0x42747f(0x18c)]=!_0xd40b45,_0x185da6;}var _0x3ae31a=_0xa3e5bc['prototype'];return _0x3ae31a[_0x6fe6b1(0x184)]=function _0x5f1eae(_0x5789f7){var _0x6a878d=_0x6fe6b1;if(_0x5789f7===_0x6a878d(0x190)){var _0x22780c={'type':_0x6a878d(0x191),'serializedPath':(0x0,_pathUtils['getSerializedPath'])(this['params'][this[_0x6a878d(0x15c)]][_0x6a878d(0x16d)]),'address':this[_0x6a878d(0x181)][this[_0x6a878d(0x15c)]][_0x6a878d(0x191)]||_0x6a878d(0x172)};return _0x22780c;}return null;},_0x3ae31a['confirmation']=(function(){var _0x2aadf6=_0x6fe6b1,_0xd10251=(0x0,_asyncToGenerator2[_0x2aadf6(0x182)])(_regenerator['default'][_0x2aadf6(0x180)](function _0x2d71a6(){var _0x5dfad5=_0x2aadf6,_0x297cd8,_0x1aa4e5;return _regenerator[_0x5dfad5(0x182)]['wrap'](function _0x51e482(_0xd835f0){var _0x44b8b1=_0x5dfad5;while(0x1){switch(_0xd835f0[_0x44b8b1(0x152)]=_0xd835f0[_0x44b8b1(0x188)]){case 0x0:if(!this['confirmed']){_0xd835f0[_0x44b8b1(0x188)]=0x2;break;}return _0xd835f0['abrupt'](_0x44b8b1(0x156),!![]);case 0x2:_0xd835f0[_0x44b8b1(0x188)]=0x4;return this[_0x44b8b1(0x15a)]()['promise'];case 0x4:_0x297cd8=this[_0x44b8b1(0x150)](_constants['UI']['RECEIVE_CONFIRMATION'],this['device']),this[_0x44b8b1(0x175)]((0x0,_builder[_0x44b8b1(0x14b)])(_constants['UI'][_0x44b8b1(0x18d)],{'view':'export-address','label':this[_0x44b8b1(0x163)]})),_0xd835f0[_0x44b8b1(0x188)]=0x8;return _0x297cd8[_0x44b8b1(0x187)];case 0x8:_0x1aa4e5=_0xd835f0[_0x44b8b1(0x14d)],this[_0x44b8b1(0x153)]=_0x1aa4e5['payload'];return _0xd835f0[_0x44b8b1(0x157)]('return',this[_0x44b8b1(0x153)]);case 0xb:case'end':return _0xd835f0[_0x44b8b1(0x185)]();}}},_0x2d71a6,this);}));function _0x37a1a7(){var _0x35e322=_0x2aadf6;return _0xd10251[_0x35e322(0x17b)](this,arguments);}return _0x37a1a7;}()),_0x3ae31a[_0x6fe6b1(0x179)]=(function(){var _0x2f18b8=_0x6fe6b1,_0x5289d5=(0x0,_asyncToGenerator2[_0x2f18b8(0x182)])(_regenerator[_0x2f18b8(0x182)][_0x2f18b8(0x180)](function _0x2f49c8(){var _0x563e9f=_0x2f18b8,_0x40d4eb,_0x3637fe;return _regenerator['default'][_0x563e9f(0x183)](function _0x1c53ec(_0x4e2ca6){var _0x2f42e7=_0x563e9f;while(0x1){switch(_0x4e2ca6[_0x2f42e7(0x152)]=_0x4e2ca6[_0x2f42e7(0x188)]){case 0x0:_0x4e2ca6['next']=0x2;return this[_0x2f42e7(0x15a)]()['promise'];case 0x2:_0x40d4eb=this[_0x2f42e7(0x150)](_constants['UI'][_0x2f42e7(0x169)],this[_0x2f42e7(0x149)]),this[_0x2f42e7(0x175)]((0x0,_builder[_0x2f42e7(0x14b)])(_constants['UI'][_0x2f42e7(0x18d)],{'view':'no-backup'})),_0x4e2ca6['next']=0x6;return _0x40d4eb[_0x2f42e7(0x187)];case 0x6:_0x3637fe=_0x4e2ca6[_0x2f42e7(0x14d)];return _0x4e2ca6[_0x2f42e7(0x157)]('return',_0x3637fe[_0x2f42e7(0x160)]);case 0x8:case'end':return _0x4e2ca6[_0x2f42e7(0x185)]();}}},_0x2f49c8,this);}));function _0x374b68(){var _0xefa7e9=_0x2f18b8;return _0x5289d5[_0xefa7e9(0x17b)](this,arguments);}return _0x374b68;}()),_0x3ae31a[_0x6fe6b1(0x16e)]=(function(){var _0x5b8cbe=_0x6fe6b1,_0x4f339d=(0x0,_asyncToGenerator2[_0x5b8cbe(0x182)])(_regenerator[_0x5b8cbe(0x182)][_0x5b8cbe(0x180)](function _0xfbc9e4(_0x1977ba){var _0x3ef5f2=_0x5b8cbe,_0x289865,_0x41d0a6,_0x41a73d;return _regenerator[_0x3ef5f2(0x182)][_0x3ef5f2(0x183)](function _0x1465ac(_0x5291b0){var _0x21979a=_0x3ef5f2;while(0x1){switch(_0x5291b0[_0x21979a(0x152)]=_0x5291b0[_0x21979a(0x188)]){case 0x0:_0x289865=_0x1977ba[_0x21979a(0x16d)],_0x41d0a6=_0x1977ba[_0x21979a(0x15e)],_0x41a73d=this[_0x21979a(0x149)]['getCommands']();return _0x5291b0[_0x21979a(0x157)](_0x21979a(0x156),_0x41a73d[_0x21979a(0x155)]({'address_n':_0x289865,'show_display':_0x41d0a6}));case 0x3:case _0x21979a(0x178):return _0x5291b0[_0x21979a(0x185)]();}}},_0xfbc9e4,this);}));function _0x30b8af(_0x391231){return _0x4f339d['apply'](this,arguments);}return _0x30b8af;}()),_0x3ae31a[_0x6fe6b1(0x167)]=(function(){var _0x334d22=_0x6fe6b1,_0x24b006=(0x0,_asyncToGenerator2[_0x334d22(0x182)])(_regenerator['default'][_0x334d22(0x180)](function _0x54ca66(){var _0x38a20f=_0x334d22,_0x11f33d,_0x1e0a27,_0x51b670,_0x37f5df,_0x12bb50;return _regenerator['default'][_0x38a20f(0x183)](function _0x2c1b78(_0x3d842b){var _0x350c17=_0x38a20f;while(0x1){switch(_0x3d842b[_0x350c17(0x152)]=_0x3d842b[_0x350c17(0x188)]){case 0x0:_0x11f33d=[],_0x1e0a27=0x0;case 0x2:if(!(_0x1e0a27<this[_0x350c17(0x181)][_0x350c17(0x166)])){_0x3d842b[_0x350c17(0x188)]=0x17;break;}_0x51b670=this['params'][_0x1e0a27];if(!_0x51b670[_0x350c17(0x15e)]){_0x3d842b['next']=0xe;break;}_0x3d842b['next']=0x7;return this['_call'](_objectSpread(_objectSpread({},_0x51b670),{},{'show_display':![]}));case 0x7:_0x37f5df=_0x3d842b[_0x350c17(0x14d)];if(!(typeof _0x51b670[_0x350c17(0x191)]===_0x350c17(0x177))){_0x3d842b['next']=0xd;break;}if(!((0x0,_formatUtils[_0x350c17(0x159)])(_0x51b670[_0x350c17(0x191)])[_0x350c17(0x171)]()!==(0x0,_formatUtils[_0x350c17(0x159)])(_0x37f5df[_0x350c17(0x191)])['toLowerCase']())){_0x3d842b[_0x350c17(0x188)]=0xb;break;}throw _constants[_0x350c17(0x151)][_0x350c17(0x15b)](_0x350c17(0x154));case 0xb:_0x3d842b[_0x350c17(0x188)]=0xe;break;case 0xd:_0x51b670[_0x350c17(0x191)]=_0x37f5df[_0x350c17(0x191)];case 0xe:_0x3d842b[_0x350c17(0x188)]=0x10;return this[_0x350c17(0x16e)](_0x51b670);case 0x10:_0x12bb50=_0x3d842b[_0x350c17(0x14d)],_0x11f33d['push'](_0x12bb50);this['hasBundle']&&this['postMessage']((0x0,_builder[_0x350c17(0x14b)])(_constants['UI'][_0x350c17(0x16b)],{'progress':_0x1e0a27,'response':_0x12bb50}));this['progress']++;case 0x14:_0x1e0a27++,_0x3d842b[_0x350c17(0x188)]=0x2;break;case 0x17:return _0x3d842b[_0x350c17(0x157)]('return',this[_0x350c17(0x147)]?_0x11f33d:_0x11f33d[0x0]);case 0x18:case _0x350c17(0x178):return _0x3d842b[_0x350c17(0x185)]();}}},_0x54ca66,this);}));function _0x3b7d6f(){var _0x1693db=_0x334d22;return _0x24b006[_0x1693db(0x17b)](this,arguments);}return _0x3b7d6f;}()),_0xa3e5bc;}(_AbstractMethod2['default']);exports[a66_0x41fc86(0x182)]=StarcoinGetAddress;