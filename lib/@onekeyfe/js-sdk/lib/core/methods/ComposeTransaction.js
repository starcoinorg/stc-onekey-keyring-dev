'use strict';var a25_0x3e4d96=a25_0x1378;(function(_0x311396,_0x293d05){var _0x4fca5a=a25_0x1378,_0x28665e=_0x311396();while(!![]){try{var _0x110caa=parseInt(_0x4fca5a(0x222))/0x1+-parseInt(_0x4fca5a(0x1e1))/0x2*(parseInt(_0x4fca5a(0x1b8))/0x3)+parseInt(_0x4fca5a(0x225))/0x4+-parseInt(_0x4fca5a(0x1d8))/0x5+-parseInt(_0x4fca5a(0x1c2))/0x6+-parseInt(_0x4fca5a(0x22e))/0x7+parseInt(_0x4fca5a(0x1d7))/0x8*(parseInt(_0x4fca5a(0x215))/0x9);if(_0x110caa===_0x293d05)break;else _0x28665e['push'](_0x28665e['shift']());}catch(_0x359380){_0x28665e['push'](_0x28665e['shift']());}}}(a25_0x1aa9,0x3fea1));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a25_0x3e4d96(0x1e7)]=!![],exports[a25_0x3e4d96(0x1d0)]=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_inheritsLoose2=_interopRequireDefault(require('@babel/runtime/helpers/inheritsLoose')),_bignumber=_interopRequireDefault(require('bignumber.js')),_AbstractMethod2=_interopRequireDefault(require('./AbstractMethod')),_Discovery=_interopRequireDefault(require('./helpers/Discovery')),_paramsValidator=require('./helpers/paramsValidator'),pathUtils=_interopRequireWildcard(require('../../utils/pathUtils')),_promiseUtils=require('../../utils/promiseUtils'),_constants=require('../../constants'),_CoinInfo=require('../../data/CoinInfo'),_formatUtils=require('../../utils/formatUtils'),_BlockchainLink=require('../../backend/BlockchainLink'),_TransactionComposer=_interopRequireDefault(require('./tx/TransactionComposer')),_tx=require('./tx'),_signtx=_interopRequireDefault(require('./helpers/signtx')),_signtxLegacy=_interopRequireDefault(require('./helpers/signtx-legacy')),_signtxVerify=_interopRequireDefault(require('./helpers/signtxVerify')),_builder=require('../../message/builder');function _getRequireWildcardCache(_0x1cae39){if(typeof WeakMap!=='function')return null;var _0x36f76f=new WeakMap(),_0xc0838c=new WeakMap();return(_getRequireWildcardCache=function _0x55a35d(_0x2a5349){return _0x2a5349?_0xc0838c:_0x36f76f;})(_0x1cae39);}function _interopRequireWildcard(_0x4151d5,_0x4e3074){var _0x288cf0=a25_0x3e4d96;if(!_0x4e3074&&_0x4151d5&&_0x4151d5['__esModule'])return _0x4151d5;if(_0x4151d5===null||typeof _0x4151d5!==_0x288cf0(0x1b1)&&typeof _0x4151d5!==_0x288cf0(0x20b))return{'default':_0x4151d5};var _0x19520b=_getRequireWildcardCache(_0x4e3074);if(_0x19520b&&_0x19520b[_0x288cf0(0x1a9)](_0x4151d5))return _0x19520b[_0x288cf0(0x1ff)](_0x4151d5);var _0x270997={},_0x499169=Object[_0x288cf0(0x1f0)]&&Object['getOwnPropertyDescriptor'];for(var _0xeff566 in _0x4151d5){if(_0xeff566!==_0x288cf0(0x1d0)&&Object['prototype'][_0x288cf0(0x1b9)][_0x288cf0(0x224)](_0x4151d5,_0xeff566)){var _0x15120c=_0x499169?Object[_0x288cf0(0x1b3)](_0x4151d5,_0xeff566):null;_0x15120c&&(_0x15120c[_0x288cf0(0x1ff)]||_0x15120c[_0x288cf0(0x1bc)])?Object[_0x288cf0(0x1f0)](_0x270997,_0xeff566,_0x15120c):_0x270997[_0xeff566]=_0x4151d5[_0xeff566];}}return _0x270997[_0x288cf0(0x1d0)]=_0x4151d5,_0x19520b&&_0x19520b['set'](_0x4151d5,_0x270997),_0x270997;}function ownKeys(_0x361d9b,_0x382e99){var _0x2e16fe=a25_0x3e4d96,_0x102213=Object[_0x2e16fe(0x232)](_0x361d9b);if(Object[_0x2e16fe(0x220)]){var _0x214f44=Object[_0x2e16fe(0x220)](_0x361d9b);_0x382e99&&(_0x214f44=_0x214f44[_0x2e16fe(0x218)](function(_0x2ae30e){var _0x1cf693=_0x2e16fe;return Object[_0x1cf693(0x1b3)](_0x361d9b,_0x2ae30e)[_0x1cf693(0x1a3)];})),_0x102213['push'][_0x2e16fe(0x1ec)](_0x102213,_0x214f44);}return _0x102213;}function a25_0x1378(_0x290765,_0x2c5d93){var _0x1aa90e=a25_0x1aa9();return a25_0x1378=function(_0x137865,_0x327f90){_0x137865=_0x137865-0x19e;var _0x41dbf6=_0x1aa90e[_0x137865];return _0x41dbf6;},a25_0x1378(_0x290765,_0x2c5d93);}function _objectSpread(_0x4be969){var _0x36ed23=a25_0x3e4d96;for(var _0x3de641=0x1;_0x3de641<arguments[_0x36ed23(0x1a5)];_0x3de641++){var _0x4f1642=arguments[_0x3de641]!=null?arguments[_0x3de641]:{};if(_0x3de641%0x2)ownKeys(Object(_0x4f1642),!![])['forEach'](function(_0x155112){var _0x2b36e5=_0x36ed23;(0x0,_defineProperty2[_0x2b36e5(0x1d0)])(_0x4be969,_0x155112,_0x4f1642[_0x155112]);});else Object[_0x36ed23(0x1b7)]?Object[_0x36ed23(0x1e9)](_0x4be969,Object['getOwnPropertyDescriptors'](_0x4f1642)):ownKeys(Object(_0x4f1642))[_0x36ed23(0x1e6)](function(_0x5eeca6){var _0x2b08ce=_0x36ed23;Object[_0x2b08ce(0x1f0)](_0x4be969,_0x5eeca6,Object[_0x2b08ce(0x1b3)](_0x4f1642,_0x5eeca6));});}return _0x4be969;}var ComposeTransaction=function(_0x3730fd){var _0x314ba7=a25_0x3e4d96;(0x0,_inheritsLoose2[_0x314ba7(0x1d0)])(_0x20fde6,_0x3730fd);function _0x20fde6(_0x42429f){var _0x2d5bc5=_0x314ba7,_0x52ebdf;_0x52ebdf=_0x3730fd[_0x2d5bc5(0x224)](this,_0x42429f)||this,_0x52ebdf['requiredPermissions']=[_0x2d5bc5(0x207),_0x2d5bc5(0x1cb)];var _0x4fa251=_0x42429f[_0x2d5bc5(0x1eb)];(0x0,_paramsValidator[_0x2d5bc5(0x1da)])(_0x4fa251,[{'name':_0x2d5bc5(0x217),'type':'array','obligatory':!![],'allowEmpty':!![]},{'name':_0x2d5bc5(0x20a),'type':'string','obligatory':!![]},{'name':_0x2d5bc5(0x1f9),'type':_0x2d5bc5(0x209)},{'name':_0x2d5bc5(0x227),'type':'object'},{'name':_0x2d5bc5(0x1cc),'type':_0x2d5bc5(0x1f3)},{'name':_0x2d5bc5(0x1d6),'type':_0x2d5bc5(0x202)}]);var _0x55803e=(0x0,_CoinInfo[_0x2d5bc5(0x1c3)])(_0x4fa251[_0x2d5bc5(0x20a)]);if(!_0x55803e)throw _constants[_0x2d5bc5(0x1ce)][_0x2d5bc5(0x206)](_0x2d5bc5(0x1d4));(0x0,_BlockchainLink[_0x2d5bc5(0x22b)])(_0x55803e),_0x52ebdf[_0x2d5bc5(0x1a6)]=(0x0,_paramsValidator[_0x2d5bc5(0x1c5)])(_0x52ebdf[_0x2d5bc5(0x213)],_0x55803e,_0x52ebdf['firmwareRange']);var _0x5b151a=[],_0xa3b3c1=new _bignumber[(_0x2d5bc5(0x1d0))](0x0);_0x4fa251[_0x2d5bc5(0x217)]['forEach'](function(_0x1589e4){var _0x5aff89=_0x2d5bc5,_0x1d9992=(0x0,_tx[_0x5aff89(0x1a8)])(_0x1589e4,_0x55803e);typeof _0x1d9992[_0x5aff89(0x1f4)]===_0x5aff89(0x1e0)&&(_0xa3b3c1=_0xa3b3c1[_0x5aff89(0x21b)](_0x1d9992[_0x5aff89(0x1f4)])),_0x5b151a[_0x5aff89(0x1f9)](_0x1d9992);});var _0x571d1b=_0x5b151a['find'](function(_0x4d4b87){var _0x31e759=_0x2d5bc5;return _0x4d4b87[_0x31e759(0x1df)]==='send-max';})!==undefined;return _0x571d1b?_0x52ebdf[_0x2d5bc5(0x1d5)]=_0x2d5bc5(0x19e):_0x52ebdf['info']=_0x2d5bc5(0x20f)+(0x0,_formatUtils[_0x2d5bc5(0x1b6)])(_0xa3b3c1[_0x2d5bc5(0x1fe)](),_0x55803e),_0x52ebdf[_0x2d5bc5(0x20e)]=_0x52ebdf[_0x2d5bc5(0x1f6)]=!_0x4fa251[_0x2d5bc5(0x227)]&&!_0x4fa251[_0x2d5bc5(0x1cc)],_0x52ebdf[_0x2d5bc5(0x231)]={'outputs':_0x5b151a,'coinInfo':_0x55803e,'account':_0x4fa251[_0x2d5bc5(0x227)],'feeLevels':_0x4fa251[_0x2d5bc5(0x1cc)],'baseFee':_0x4fa251['baseFee'],'push':typeof _0x4fa251[_0x2d5bc5(0x1f9)]===_0x2d5bc5(0x209)?_0x4fa251['push']:![]},_0x52ebdf;}var _0x44c167=_0x20fde6[_0x314ba7(0x1e4)];return _0x44c167['precompose']=(function(){var _0x4a307e=_0x314ba7,_0x3db71d=(0x0,_asyncToGenerator2[_0x4a307e(0x1d0)])(_regenerator['default'][_0x4a307e(0x228)](function _0x4d1d89(_0x1b7e27,_0x34b7dc){var _0xc0ec4b=_0x4a307e,_0x2c2e7e,_0x252dd9,_0x50523e,_0x5533cd,_0x182dae,_0x2e183b,_0x36c541,_0x44d210;return _regenerator[_0xc0ec4b(0x1d0)][_0xc0ec4b(0x1ab)](function _0x103e18(_0x57cba6){var _0x67368e=_0xc0ec4b;while(0x1){switch(_0x57cba6[_0x67368e(0x1ae)]=_0x57cba6[_0x67368e(0x219)]){case 0x0:_0x2c2e7e=this[_0x67368e(0x231)],_0x252dd9=_0x2c2e7e['coinInfo'],_0x50523e=_0x2c2e7e[_0x67368e(0x217)],_0x5533cd=_0x2c2e7e[_0x67368e(0x1d6)],_0x182dae=pathUtils[_0x67368e(0x1f5)](_0x1b7e27['path']),_0x2e183b=pathUtils['isSegwitPath'](_0x182dae)||pathUtils[_0x67368e(0x1ef)](_0x182dae),_0x36c541=new _TransactionComposer[(_0x67368e(0x1d0))]({'account':{'type':_0x2e183b?'normal':_0x67368e(0x22c),'label':'Account','descriptor':_0x1b7e27[_0x67368e(0x1b2)],'address_n':_0x182dae,'addresses':_0x1b7e27[_0x67368e(0x1fc)]},'utxo':_0x1b7e27[_0x67368e(0x1f7)],'coinInfo':_0x252dd9,'outputs':_0x50523e,'baseFee':_0x5533cd}),_0x57cba6[_0x67368e(0x219)]=0x6;return(0x0,_BlockchainLink[_0x67368e(0x1bf)])(this['params']['coinInfo'],this[_0x67368e(0x200)]);case 0x6:_0x44d210=_0x57cba6['sent'],_0x57cba6[_0x67368e(0x219)]=0x9;return _0x36c541[_0x67368e(0x20c)](_0x44d210);case 0x9:return _0x57cba6[_0x67368e(0x22f)]('return',_0x34b7dc[_0x67368e(0x22d)](function(_0x2d7fb4){var _0x436f55=_0x67368e;_0x36c541[_0x436f55(0x1aa)](_0x2d7fb4[_0x436f55(0x22a)]);var _0x266da4=_objectSpread({},_0x36c541['composed'][_0x436f55(0x1c8)]);if(_0x266da4[_0x436f55(0x1df)]===_0x436f55(0x203)){var _0x2b3f32=_0x266da4[_0x436f55(0x1db)][_0x436f55(0x1bd)][_0x436f55(0x22d)](function(_0xd5ce74){var _0xb2adf9=_0x436f55;return(0x0,_tx[_0xb2adf9(0x1e5)])(_0xd5ce74,0xffffffff);}),_0x26a9da=_0x266da4[_0x436f55(0x1db)][_0x436f55(0x217)][_0x436f55(0x1be)]['map'](function(_0x54487c){var _0x599040=_0x436f55;return(0x0,_tx[_0x599040(0x1c9)])(_0x54487c,_0x252dd9);});return{'type':_0x436f55(0x203),'max':_0x266da4[_0x436f55(0x1b5)],'totalSpent':_0x266da4['totalSpent'],'fee':_0x266da4[_0x436f55(0x1af)],'feePerByte':_0x266da4['feePerByte'],'bytes':_0x266da4[_0x436f55(0x20d)],'transaction':{'inputs':_0x2b3f32,'outputs':_0x26a9da}};}return _0x266da4;}));case 0xa:case _0x67368e(0x223):return _0x57cba6['stop']();}}},_0x4d1d89,this);}));function _0x57bc23(_0x4a2970,_0x5815b0){var _0x310357=_0x4a307e;return _0x3db71d[_0x310357(0x1ec)](this,arguments);}return _0x57bc23;}()),_0x44c167[_0x314ba7(0x21c)]=(function(){var _0x2a47d6=_0x314ba7,_0x32fcfd=(0x0,_asyncToGenerator2[_0x2a47d6(0x1d0)])(_regenerator[_0x2a47d6(0x1d0)]['mark'](function _0x4e5dc9(){var _0x1f5b3d=_0x2a47d6,_0x159c6a,_0x49d6f5,_0x46ab88,_0x38afac;return _regenerator[_0x1f5b3d(0x1d0)][_0x1f5b3d(0x1ab)](function _0x494ccd(_0x21f3e4){var _0x56263d=_0x1f5b3d;while(0x1){switch(_0x21f3e4[_0x56263d(0x1ae)]=_0x21f3e4[_0x56263d(0x219)]){case 0x0:if(!(this['params'][_0x56263d(0x227)]&&this[_0x56263d(0x231)][_0x56263d(0x1cc)])){_0x21f3e4[_0x56263d(0x219)]=0x2;break;}return _0x21f3e4[_0x56263d(0x22f)](_0x56263d(0x1fd),this[_0x56263d(0x221)](this['params'][_0x56263d(0x227)],this[_0x56263d(0x231)][_0x56263d(0x1cc)]));case 0x2:_0x21f3e4['next']=0x4;return this['selectAccount']();case 0x4:_0x159c6a=_0x21f3e4[_0x56263d(0x230)],_0x49d6f5=_0x159c6a[_0x56263d(0x227)],_0x46ab88=_0x159c6a[_0x56263d(0x1f7)],_0x21f3e4[_0x56263d(0x219)]=0x9;return this[_0x56263d(0x1b4)](_0x49d6f5,_0x46ab88);case 0x9:_0x38afac=_0x21f3e4[_0x56263d(0x230)];if(this[_0x56263d(0x1d2)]){_0x21f3e4[_0x56263d(0x219)]=0xc;break;}throw _constants[_0x56263d(0x1ce)]['TypedError'](_0x56263d(0x1dc),'ComposeTransaction:\x20selectFee\x20response\x20received\x20after\x20dispose');case 0xc:if(!(typeof _0x38afac===_0x56263d(0x1e0))){_0x21f3e4[_0x56263d(0x219)]=0x10;break;}return _0x21f3e4[_0x56263d(0x22f)]('return',this['run']());case 0x10:return _0x21f3e4[_0x56263d(0x22f)](_0x56263d(0x1fd),_0x38afac);case 0x11:case _0x56263d(0x223):return _0x21f3e4['stop']();}}},_0x4e5dc9,this);}));function _0x2bb762(){var _0x2096e9=_0x2a47d6;return _0x32fcfd[_0x2096e9(0x1ec)](this,arguments);}return _0x2bb762;}()),_0x44c167[_0x314ba7(0x1ca)]=(function(){var _0x18561a=_0x314ba7,_0x42b9e7=(0x0,_asyncToGenerator2[_0x18561a(0x1d0)])(_regenerator['default'][_0x18561a(0x228)](function _0x156cca(){var _0x5b915c=_0x18561a,_0x806c4b=this,_0x3872dc,_0x197c5c,_0x2d2b32,_0x158661,_0x5108dc,_0x215e51,_0x1a6a6a,_0x4a4d4b,_0x2d790b,_0x5a1e11,_0x22efd8;return _regenerator[_0x5b915c(0x1d0)][_0x5b915c(0x1ab)](function _0x24e11a(_0x4bd05b){var _0x27f574=_0x5b915c;while(0x1){switch(_0x4bd05b['prev']=_0x4bd05b[_0x27f574(0x219)]){case 0x0:_0x3872dc=this[_0x27f574(0x231)][_0x27f574(0x216)],_0x4bd05b['next']=0x3;return(0x0,_BlockchainLink[_0x27f574(0x1bf)])(_0x3872dc,this[_0x27f574(0x200)]);case 0x3:_0x197c5c=_0x4bd05b[_0x27f574(0x230)],_0x2d2b32=this[_0x27f574(0x1ea)](_constants['UI'][_0x27f574(0x1ed)],this[_0x27f574(0x19f)]);if(!(this['discovery']&&this[_0x27f574(0x1d2)][_0x27f574(0x1f1)])){_0x4bd05b['next']=0x10;break;}_0x158661=this['discovery'],this[_0x27f574(0x200)]((0x0,_builder['UiMessage'])(_constants['UI'][_0x27f574(0x1de)],{'type':_0x27f574(0x223),'coinInfo':_0x3872dc,'accountTypes':_0x158661[_0x27f574(0x214)]['map'](function(_0x501806){return _0x501806['type'];}),'accounts':_0x158661['accounts']})),_0x4bd05b[_0x27f574(0x219)]=0xa;return _0x2d2b32[_0x27f574(0x1d1)];case 0xa:_0x5108dc=_0x4bd05b[_0x27f574(0x230)],_0x215e51=_0x158661[_0x27f574(0x1a7)][_0x5108dc[_0x27f574(0x1eb)]],_0x4bd05b['next']=0xe;return _0x197c5c[_0x27f574(0x1f2)](_0x215e51[_0x27f574(0x233)]);case 0xe:_0x1a6a6a=_0x4bd05b[_0x27f574(0x230)];return _0x4bd05b['abrupt']('return',{'account':_0x215e51,'utxo':_0x1a6a6a});case 0x10:_0x4a4d4b=this[_0x27f574(0x1d2)]||new _Discovery['default']({'blockchain':_0x197c5c,'commands':this[_0x27f574(0x19f)]['getCommands']()}),this[_0x27f574(0x1d2)]=_0x4a4d4b,_0x4a4d4b['on'](_0x27f574(0x1dd),function(_0x44d5c0){var _0x1cccb0=_0x27f574;_0x806c4b['postMessage']((0x0,_builder[_0x1cccb0(0x1e2)])(_constants['UI']['SELECT_ACCOUNT'],{'type':'progress','coinInfo':_0x3872dc,'accounts':_0x44d5c0}));}),_0x4a4d4b['on'](_0x27f574(0x1d3),function(){var _0x4ce39d=_0x27f574;_0x806c4b['postMessage']((0x0,_builder[_0x4ce39d(0x1e2)])(_constants['UI'][_0x4ce39d(0x1de)],{'type':_0x4ce39d(0x223),'coinInfo':_0x3872dc}));}),_0x4a4d4b[_0x27f574(0x1ad)](_0x27f574(0x21e))['catch'](function(_0xc0b7f9){var _0x5edea2=_0x27f574;_0x2d2b32[_0x5edea2(0x212)](_0xc0b7f9);}),this[_0x27f574(0x200)]((0x0,_builder['UiMessage'])(_constants['UI'][_0x27f574(0x1de)],{'type':_0x27f574(0x1ad),'accountTypes':_0x4a4d4b['types'][_0x27f574(0x22d)](function(_0x312e3a){var _0x38bfc6=_0x27f574;return _0x312e3a[_0x38bfc6(0x1df)];}),'coinInfo':_0x3872dc})),_0x4bd05b[_0x27f574(0x219)]=0x18;return _0x2d2b32[_0x27f574(0x1d1)];case 0x18:_0x2d790b=_0x4bd05b['sent'],_0x4a4d4b['removeAllListeners'](),_0x4a4d4b[_0x27f574(0x1ba)]();if(_0x4a4d4b[_0x27f574(0x1f1)]){_0x4bd05b[_0x27f574(0x219)]=0x1e;break;}_0x4bd05b[_0x27f574(0x219)]=0x1e;return(0x0,_promiseUtils[_0x27f574(0x1fa)])(0x1f5);case 0x1e:_0x5a1e11=_0x4a4d4b[_0x27f574(0x1a7)][_0x2d790b[_0x27f574(0x1eb)]],this[_0x27f574(0x231)][_0x27f574(0x216)]=(0x0,_CoinInfo[_0x27f574(0x211)])(this[_0x27f574(0x231)][_0x27f574(0x216)],_0x5a1e11[_0x27f574(0x1e8)]),_0x4bd05b[_0x27f574(0x219)]=0x22;return _0x197c5c[_0x27f574(0x1f2)](_0x5a1e11[_0x27f574(0x233)]);case 0x22:_0x22efd8=_0x4bd05b['sent'];return _0x4bd05b[_0x27f574(0x22f)](_0x27f574(0x1fd),{'account':_0x5a1e11,'utxo':_0x22efd8});case 0x24:case _0x27f574(0x223):return _0x4bd05b[_0x27f574(0x1ba)]();}}},_0x156cca,this);}));function _0x4e3a7c(){var _0x47efb6=_0x18561a;return _0x42b9e7[_0x47efb6(0x1ec)](this,arguments);}return _0x4e3a7c;}()),_0x44c167[_0x314ba7(0x1b4)]=(function(){var _0xa0cfe=_0x314ba7,_0x3ef063=(0x0,_asyncToGenerator2[_0xa0cfe(0x1d0)])(_regenerator[_0xa0cfe(0x1d0)][_0xa0cfe(0x228)](function _0x5e7e45(_0x7dac02,_0x83751d){var _0x235964=_0xa0cfe,_0x22373c,_0x2b3a99,_0x24f749,_0x12297c,_0x232b62,_0x28c9d9;return _regenerator[_0x235964(0x1d0)][_0x235964(0x1ab)](function _0xe404f3(_0x3250b8){var _0x56cd40=_0x235964;while(0x1){switch(_0x3250b8[_0x56cd40(0x1ae)]=_0x3250b8['next']){case 0x0:_0x22373c=this['params'],_0x2b3a99=_0x22373c['coinInfo'],_0x24f749=_0x22373c[_0x56cd40(0x217)],_0x3250b8['next']=0x3;return(0x0,_BlockchainLink[_0x56cd40(0x1bf)])(_0x2b3a99,this['postMessage']);case 0x3:_0x12297c=_0x3250b8['sent'],_0x232b62=new _TransactionComposer[(_0x56cd40(0x1d0))]({'account':_0x7dac02,'utxo':_0x83751d,'coinInfo':_0x2b3a99,'outputs':_0x24f749}),_0x3250b8[_0x56cd40(0x219)]=0x7;return _0x232b62['init'](_0x12297c);case 0x7:_0x28c9d9=_0x232b62[_0x56cd40(0x1b0)]();if(_0x28c9d9){_0x3250b8['next']=0xd;break;}this[_0x56cd40(0x200)]((0x0,_builder[_0x56cd40(0x1e2)])(_constants['UI'][_0x56cd40(0x1fb)])),_0x3250b8[_0x56cd40(0x219)]=0xc;return(0x0,_promiseUtils[_0x56cd40(0x1fa)])(0x7d0,null);case 0xc:return _0x3250b8[_0x56cd40(0x22f)]('return','change-account');case 0xd:this['postMessage']((0x0,_builder['UiMessage'])(_constants['UI']['SELECT_FEE'],{'feeLevels':_0x232b62[_0x56cd40(0x1cf)](),'coinInfo':this['params'][_0x56cd40(0x216)]})),_0x3250b8[_0x56cd40(0x219)]=0x10;return this[_0x56cd40(0x1a0)](_0x232b62);case 0x10:return _0x3250b8[_0x56cd40(0x22f)](_0x56cd40(0x1fd),_0x3250b8[_0x56cd40(0x230)]);case 0x11:case _0x56cd40(0x223):return _0x3250b8[_0x56cd40(0x1ba)]();}}},_0x5e7e45,this);}));function _0x42ac7a(_0x2e4a72,_0x3bed38){var _0x3e0808=_0xa0cfe;return _0x3ef063[_0x3e0808(0x1ec)](this,arguments);}return _0x42ac7a;}()),_0x44c167[_0x314ba7(0x1a0)]=(function(){var _0x1071ec=_0x314ba7,_0x349406=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x1071ec(0x1d0)][_0x1071ec(0x228)](function _0x2310ca(_0x3f944c){var _0x13bfba=_0x1071ec,_0x4259b2;return _regenerator['default'][_0x13bfba(0x1ab)](function _0x3b5b16(_0x303b21){var _0x5b3ce1=_0x13bfba;while(0x1){switch(_0x303b21[_0x5b3ce1(0x1ae)]=_0x303b21[_0x5b3ce1(0x219)]){case 0x0:_0x303b21[_0x5b3ce1(0x219)]=0x2;return this[_0x5b3ce1(0x1ea)](_constants['UI'][_0x5b3ce1(0x204)],this['device'])['promise'];case 0x2:_0x4259b2=_0x303b21[_0x5b3ce1(0x230)],_0x303b21['t0']=_0x4259b2[_0x5b3ce1(0x1eb)][_0x5b3ce1(0x1df)],_0x303b21[_0x5b3ce1(0x219)]=_0x303b21['t0']==='compose-custom'?0x6:_0x303b21['t0']===_0x5b3ce1(0x1c4)?0xb:0xe;break;case 0x6:_0x3f944c['composeCustomFee'](_0x4259b2[_0x5b3ce1(0x1eb)]['value']),this['postMessage']((0x0,_builder['UiMessage'])(_constants['UI'][_0x5b3ce1(0x1ee)],{'feeLevels':_0x3f944c[_0x5b3ce1(0x1cf)](),'coinInfo':this['params'][_0x5b3ce1(0x216)]})),_0x303b21[_0x5b3ce1(0x219)]=0xa;return this[_0x5b3ce1(0x1a0)](_0x3f944c);case 0xa:return _0x303b21[_0x5b3ce1(0x22f)](_0x5b3ce1(0x1fd),_0x303b21['sent']);case 0xb:_0x303b21[_0x5b3ce1(0x219)]=0xd;return this['_sign'](_0x3f944c[_0x5b3ce1(0x1bb)][_0x4259b2['payload'][_0x5b3ce1(0x201)]]);case 0xd:return _0x303b21[_0x5b3ce1(0x22f)](_0x5b3ce1(0x1fd),_0x303b21[_0x5b3ce1(0x230)]);case 0xe:return _0x303b21[_0x5b3ce1(0x22f)](_0x5b3ce1(0x1fd),_0x5b3ce1(0x1f8));case 0xf:case'end':return _0x303b21[_0x5b3ce1(0x1ba)]();}}},_0x2310ca,this);}));function _0x3fb61e(_0x566245){var _0xd7fc71=_0x1071ec;return _0x349406[_0xd7fc71(0x1ec)](this,arguments);}return _0x3fb61e;}()),_0x44c167[_0x314ba7(0x21d)]=(function(){var _0x1d0db3=(0x0,_asyncToGenerator2['default'])(_regenerator['default']['mark'](function _0xe347c2(_0x494bfb){var _0xded466=a25_0x1378,_0x4f80c6,_0x40091f,_0x5de5bb,_0x12790c,_0x5c62fb,_0x588cb1,_0xdf5159,_0x97e421,_0x641b14,_0x57c853,_0x18f5bf,_0x4bbeba;return _regenerator[_0xded466(0x1d0)][_0xded466(0x1ab)](function _0x271879(_0x5c8f5e){var _0xb6c504=_0xded466;while(0x1){switch(_0x5c8f5e[_0xb6c504(0x1ae)]=_0x5c8f5e['next']){case 0x0:if(!(_0x494bfb['type']!==_0xb6c504(0x203))){_0x5c8f5e[_0xb6c504(0x219)]=0x2;break;}throw _constants[_0xb6c504(0x1ce)][_0xb6c504(0x206)]('Runtime',_0xb6c504(0x226));case 0x2:_0x4f80c6=this[_0xb6c504(0x231)][_0xb6c504(0x216)],_0x40091f={};_0x4f80c6[_0xb6c504(0x205)][_0xb6c504(0x229)]&&(_0x40091f[_0xb6c504(0x1ac)]=!![],_0x40091f[_0xb6c504(0x21a)]=0x4,_0x40091f[_0xb6c504(0x1a1)]=0x892f2085);_0x4f80c6[_0xb6c504(0x1c1)]&&(_0x40091f[_0xb6c504(0x1cd)]=Math['round'](new Date()['getTime']()/0x3e8));_0x5de5bb=_0x494bfb[_0xb6c504(0x1db)]['inputs'][_0xb6c504(0x22d)](function(_0x1c9291){return(0x0,_tx['inputToTrezor'])(_0x1c9291,0xffffffff);}),_0x12790c=_0x494bfb[_0xb6c504(0x1db)]['outputs']['sorted']['map'](function(_0x3a626d){var _0x41e34e=_0xb6c504;return(0x0,_tx[_0x41e34e(0x1c9)])(_0x3a626d,_0x4f80c6);}),_0x5c62fb=[],_0x588cb1=(0x0,_tx[_0xb6c504(0x1e3)])(_0x5de5bb);if(!(_0x588cb1[_0xb6c504(0x1a5)]>0x0)){_0x5c8f5e[_0xb6c504(0x219)]=0x12;break;}_0x5c8f5e[_0xb6c504(0x219)]=0xd;return(0x0,_BlockchainLink[_0xb6c504(0x1bf)])(_0x4f80c6,this['postMessage']);case 0xd:_0xdf5159=_0x5c8f5e['sent'],_0x5c8f5e[_0xb6c504(0x219)]=0x10;return _0xdf5159['getTransactions'](_0x588cb1);case 0x10:_0x97e421=_0x5c8f5e[_0xb6c504(0x230)],_0x5c62fb=(0x0,_tx['transformReferencedTransactions'])(_0x97e421,_0x4f80c6);case 0x12:_0x641b14=!this[_0xb6c504(0x19f)]['unavailableCapabilities'][_0xb6c504(0x1c0)]?_signtx[_0xb6c504(0x1d0)]:_signtxLegacy[_0xb6c504(0x1d0)],_0x5c8f5e[_0xb6c504(0x219)]=0x15;return _0x641b14(this[_0xb6c504(0x19f)]['getCommands']()[_0xb6c504(0x21f)][_0xb6c504(0x1a2)](this[_0xb6c504(0x19f)][_0xb6c504(0x208)]()),_0x5de5bb,_0x12790c,_0x5c62fb,_0x40091f,_0x4f80c6);case 0x15:_0x57c853=_0x5c8f5e['sent'],_0x5c8f5e[_0xb6c504(0x219)]=0x18;return(0x0,_signtxVerify['default'])(this[_0xb6c504(0x19f)][_0xb6c504(0x208)]()[_0xb6c504(0x210)][_0xb6c504(0x1a2)](this[_0xb6c504(0x19f)][_0xb6c504(0x208)]()),_0x5de5bb,_0x12790c,_0x57c853[_0xb6c504(0x1d9)],_0x4f80c6);case 0x18:if(!this[_0xb6c504(0x231)][_0xb6c504(0x1f9)]){_0x5c8f5e[_0xb6c504(0x219)]=0x20;break;}_0x5c8f5e[_0xb6c504(0x219)]=0x1b;return(0x0,_BlockchainLink[_0xb6c504(0x1bf)])(_0x4f80c6,this[_0xb6c504(0x200)]);case 0x1b:_0x18f5bf=_0x5c8f5e['sent'],_0x5c8f5e[_0xb6c504(0x219)]=0x1e;return _0x18f5bf[_0xb6c504(0x1c6)](_0x57c853[_0xb6c504(0x1d9)]);case 0x1e:_0x4bbeba=_0x5c8f5e[_0xb6c504(0x230)];return _0x5c8f5e[_0xb6c504(0x22f)]('return',_objectSpread(_objectSpread({},_0x57c853),{},{'txid':_0x4bbeba}));case 0x20:return _0x5c8f5e['abrupt'](_0xb6c504(0x1fd),_0x57c853);case 0x21:case'end':return _0x5c8f5e['stop']();}}},_0xe347c2,this);}));function _0x3896fb(_0x3f22ff){var _0x5177cd=a25_0x1378;return _0x1d0db3[_0x5177cd(0x1ec)](this,arguments);}return _0x3896fb;}()),_0x44c167[_0x314ba7(0x1a4)]=function _0x2cee7a(){var _0x1a60cc=_0x314ba7,_0x4e1441=this[_0x1a60cc(0x1d2)];_0x4e1441&&(_0x4e1441['stop'](),_0x4e1441[_0x1a60cc(0x1c7)](),this[_0x1a60cc(0x1d2)]=undefined);},_0x20fde6;}(_AbstractMethod2[a25_0x3e4d96(0x1d0)]);function a25_0x1aa9(){var _0x4cf6e2=['reject','name','types','125343uJzbmy','coinInfo','outputs','filter','next','version','plus','run','_sign','tokens','typedCall','getOwnPropertySymbols','precompose','38284LnyfmQ','end','call','757612lQwOiQ','ComposeTransaction:\x20Trying\x20to\x20sign\x20unfinished\x20tx','account','mark','consensusBranchId','feePerUnit','isBackendSupported','legacy','map','2192687bWoSmL','abrupt','sent','params','keys','descriptor','Send\x20maximum\x20amount','device','_selectFeeUiResponse','version_group_id','bind','enumerable','dispose','length','firmwareRange','accounts','validateHDOutput','has','composeCustomFee','wrap','overwintered','start','prev','fee','composeAllFeeLevels','object','path','getOwnPropertyDescriptor','selectFee','max','formatAmount','getOwnPropertyDescriptors','13920QTrxbv','hasOwnProperty','stop','composed','set','inputs','sorted','initBlockchain','replaceTransaction','hasTimestamp','673362vWuLZX','getBitcoinNetwork','send','getFirmwareRange','pushTransaction','removeAllListeners','custom','outputToTrezor','selectAccount','write','feeLevels','timestamp','ERRORS','getFeeLevelList','default','promise','discovery','complete','Method_UnknownCoin','info','baseFee','584wMpfOY','2483885SlGfRB','serializedTx','validateParams','transaction','Runtime','progress','SELECT_ACCOUNT','type','string','26dlDmSt','UiMessage','getReferencedTransactions','prototype','inputToTrezor','forEach','__esModule','address_n','defineProperties','createUiPromise','payload','apply','RECEIVE_ACCOUNT','UPDATE_CUSTOM_FEE','isBech32Path','defineProperty','completed','getAccountUtxo','array','amount','validatePath','useUi','utxo','change-account','push','resolveAfter','INSUFFICIENT_FUNDS','addresses','return','toString','get','postMessage','value','number','final','RECEIVE_FEE','network','TypedError','read','getCommands','boolean','coin','function','init','bytes','useDevice','Send\x20','getHDNode','fixCoinInfoNetwork'];a25_0x1aa9=function(){return _0x4cf6e2;};return a25_0x1aa9();}exports[a25_0x3e4d96(0x1d0)]=ComposeTransaction;