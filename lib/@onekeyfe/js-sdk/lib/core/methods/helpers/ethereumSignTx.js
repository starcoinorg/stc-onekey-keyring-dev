'use strict';var a99_0x1ffcc6=a99_0x15af;(function(_0x173878,_0x7087ce){var _0x74f82a=a99_0x15af,_0x549653=_0x173878();while(!![]){try{var _0x28d219=-parseInt(_0x74f82a(0x12d))/0x1*(parseInt(_0x74f82a(0x10b))/0x2)+-parseInt(_0x74f82a(0x116))/0x3*(-parseInt(_0x74f82a(0x130))/0x4)+parseInt(_0x74f82a(0x11d))/0x5*(-parseInt(_0x74f82a(0x135))/0x6)+-parseInt(_0x74f82a(0x11c))/0x7*(-parseInt(_0x74f82a(0x129))/0x8)+-parseInt(_0x74f82a(0x105))/0x9+-parseInt(_0x74f82a(0x10d))/0xa*(-parseInt(_0x74f82a(0x10c))/0xb)+-parseInt(_0x74f82a(0x106))/0xc*(-parseInt(_0x74f82a(0x12b))/0xd);if(_0x28d219===_0x7087ce)break;else _0x549653['push'](_0x549653['shift']());}catch(_0x574c35){_0x549653['push'](_0x549653['shift']());}}}(a99_0xb397,0xc57ea));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a99_0x1ffcc6(0x11e)]=!![],exports[a99_0x1ffcc6(0x132)]=exports[a99_0x1ffcc6(0x118)]=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_constants=require('../../../constants');function ownKeys(_0x7cb5e5,_0x44d6de){var _0x193bb9=a99_0x1ffcc6,_0x7ed87d=Object[_0x193bb9(0x134)](_0x7cb5e5);if(Object['getOwnPropertySymbols']){var _0x322bd8=Object[_0x193bb9(0x137)](_0x7cb5e5);_0x44d6de&&(_0x322bd8=_0x322bd8[_0x193bb9(0x125)](function(_0x17d3e0){var _0x4e39f8=_0x193bb9;return Object['getOwnPropertyDescriptor'](_0x7cb5e5,_0x17d3e0)[_0x4e39f8(0x122)];})),_0x7ed87d[_0x193bb9(0x108)][_0x193bb9(0x111)](_0x7ed87d,_0x322bd8);}return _0x7ed87d;}function _objectSpread(_0x2dc38c){var _0x29a638=a99_0x1ffcc6;for(var _0x2db983=0x1;_0x2db983<arguments[_0x29a638(0x114)];_0x2db983++){var _0x404ffe=arguments[_0x2db983]!=null?arguments[_0x2db983]:{};if(_0x2db983%0x2)ownKeys(Object(_0x404ffe),!![])[_0x29a638(0x110)](function(_0x1bf721){var _0x329790=_0x29a638;(0x0,_defineProperty2[_0x329790(0x11b)])(_0x2dc38c,_0x1bf721,_0x404ffe[_0x1bf721]);});else Object[_0x29a638(0x117)]?Object[_0x29a638(0x119)](_0x2dc38c,Object[_0x29a638(0x117)](_0x404ffe)):ownKeys(Object(_0x404ffe))[_0x29a638(0x110)](function(_0x4b62fd){var _0x341961=_0x29a638;Object[_0x341961(0x136)](_0x2dc38c,_0x4b62fd,Object[_0x341961(0x131)](_0x404ffe,_0x4b62fd));});}return _0x2dc38c;}var splitString=function splitString(_0x317b0f,_0x24036c){var _0x130257=a99_0x1ffcc6;if(_0x317b0f==null)return['',''];var _0x143f4b=_0x317b0f['slice'](0x0,_0x24036c),_0x42486=_0x317b0f[_0x130257(0x11a)](_0x24036c);return[_0x143f4b,_0x42486];},processTxRequest=(function(){var _0x53f039=a99_0x1ffcc6,_0x3b3cb7=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x53f039(0x11b)]['mark'](function _0x30fcf7(_0x3a3d29,_0x109358,_0x24aab1,_0x147d1e){var _0xd67df0=_0x53f039,_0x220b0d,_0x5c1bb0,_0x489c5a,_0x4173c1,_0x23163d,_0x2f33ec,_0x1b0882;return _regenerator[_0xd67df0(0x11b)][_0xd67df0(0x112)](function _0x290fe7(_0x4134b5){var _0x42349c=_0xd67df0;while(0x1){switch(_0x4134b5[_0x42349c(0x12e)]=_0x4134b5[_0x42349c(0x123)]){case 0x0:if(_0x109358[_0x42349c(0x12f)]){_0x4134b5[_0x42349c(0x123)]=0x8;break;}_0x220b0d=_0x109358[_0x42349c(0x128)],_0x5c1bb0=_0x109358[_0x42349c(0x107)],_0x489c5a=_0x109358[_0x42349c(0x115)];if(!(_0x220b0d==null||_0x5c1bb0==null||_0x489c5a==null)){_0x4134b5['next']=0x6;break;}throw _constants['ERRORS'][_0x42349c(0x138)]('Runtime',_0x42349c(0x113));case 0x6:_0x147d1e&&_0x220b0d<=0x1&&(_0x220b0d+=0x2*_0x147d1e+0x23);return _0x4134b5[_0x42349c(0x109)](_0x42349c(0x120),Promise[_0x42349c(0x127)]({'v':'0x'+_0x220b0d['toString'](0x10),'r':'0x'+_0x5c1bb0,'s':'0x'+_0x489c5a}));case 0x8:_0x4173c1=splitString(_0x24aab1,_0x109358[_0x42349c(0x12f)]*0x2),_0x23163d=_0x4173c1[0x0],_0x2f33ec=_0x4173c1[0x1],_0x4134b5[_0x42349c(0x123)]=0xb;return _0x3a3d29('EthereumTxAck',_0x42349c(0x12a),{'data_chunk':_0x23163d});case 0xb:_0x1b0882=_0x4134b5[_0x42349c(0x10f)];return _0x4134b5[_0x42349c(0x109)](_0x42349c(0x120),processTxRequest(_0x3a3d29,_0x1b0882['message'],_0x2f33ec,_0x147d1e));case 0xd:case _0x42349c(0x12c):return _0x4134b5[_0x42349c(0x10a)]();}}},_0x30fcf7);}));return function _0x14e38f(_0x258881,_0x49cfb3,_0x2d9a6b,_0x59dc9e){return _0x3b3cb7['apply'](this,arguments);};}());function a99_0x15af(_0x308426,_0x2c713c){var _0xb3975f=a99_0xb397();return a99_0x15af=function(_0x15af03,_0x2bd177){_0x15af03=_0x15af03-0x104;var _0x40964f=_0xb3975f[_0x15af03];return _0x40964f;},a99_0x15af(_0x308426,_0x2c713c);}function stripLeadingZeroes(_0x572a71){var _0x2fe0bb=a99_0x1ffcc6;while(/^00/['test'](_0x572a71)){_0x572a71=_0x572a71[_0x2fe0bb(0x11a)](0x2);}return _0x572a71;}var ethereumSignTx=(function(){var _0x5c2229=a99_0x1ffcc6,_0x237526=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x5c2229(0x11b)][_0x5c2229(0x133)](function _0xd17c5e(_0x39a386,_0x3f930c,_0x36cc30,_0x40bea5,_0x22ace8,_0x5c9188,_0xef6726,_0x2759cf,_0x2f8404,_0x43bad9){var _0x44ca1f=_0x5c2229,_0x5ea683,_0x412683,_0x4902c0,_0x2359bc,_0x21c3ae,_0x278830;return _regenerator[_0x44ca1f(0x11b)][_0x44ca1f(0x112)](function _0x2d4987(_0x1cc3eb){var _0x194b27=_0x44ca1f;while(0x1){switch(_0x1cc3eb[_0x194b27(0x12e)]=_0x1cc3eb[_0x194b27(0x123)]){case 0x0:_0x5ea683=_0x2759cf==null?0x0:_0x2759cf[_0x194b27(0x114)]/0x2,(_0x412683=splitString(_0x2759cf,0x400*0x2),_0x4902c0=_0x412683[0x0],_0x2359bc=_0x412683[0x1]),_0x21c3ae={'address_n':_0x3f930c,'nonce':stripLeadingZeroes(_0xef6726),'gas_price':stripLeadingZeroes(_0x5c9188),'gas_limit':stripLeadingZeroes(_0x22ace8),'to':_0x36cc30,'value':stripLeadingZeroes(_0x40bea5)};_0x5ea683!==0x0&&(_0x21c3ae=_objectSpread(_objectSpread({},_0x21c3ae),{},{'data_length':_0x5ea683,'data_initial_chunk':_0x4902c0}));_0x2f8404&&(_0x21c3ae=_objectSpread(_objectSpread({},_0x21c3ae),{},{'chain_id':_0x2f8404}));_0x43bad9!==null&&(_0x21c3ae=_objectSpread(_objectSpread({},_0x21c3ae),{},{'tx_type':_0x43bad9}));_0x1cc3eb[_0x194b27(0x123)]=0x8;return _0x39a386('EthereumSignTx','EthereumTxRequest',_0x21c3ae);case 0x8:_0x278830=_0x1cc3eb[_0x194b27(0x10f)];return _0x1cc3eb[_0x194b27(0x109)](_0x194b27(0x120),processTxRequest(_0x39a386,_0x278830[_0x194b27(0x124)],_0x2359bc,_0x2f8404));case 0xa:case'end':return _0x1cc3eb['stop']();}}},_0xd17c5e);}));return function _0x26aa67(_0x56990e,_0x2b881f,_0x503458,_0x4c8874,_0x407189,_0x4c3ead,_0x684ce8,_0x14d56e,_0x1b0f55,_0x4f9e97){var _0x2a0cda=_0x5c2229;return _0x237526[_0x2a0cda(0x111)](this,arguments);};}());exports['ethereumSignTx']=ethereumSignTx;var confluxProcessTxRequest=(function(){var _0x4e4593=a99_0x1ffcc6,_0x5eac6e=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x4e4593(0x11b)][_0x4e4593(0x133)](function _0x40143(_0x4a5b5c,_0x48d77e,_0x3e218a){var _0x1d40df=_0x4e4593,_0x89fc35,_0x267e8d,_0x13ea45,_0x4be309,_0x589424,_0x5b6063,_0x1331e8;return _regenerator[_0x1d40df(0x11b)][_0x1d40df(0x112)](function _0x30b121(_0x598aa5){var _0x3e41d2=_0x1d40df;while(0x1){switch(_0x598aa5[_0x3e41d2(0x12e)]=_0x598aa5[_0x3e41d2(0x123)]){case 0x0:if(_0x48d77e[_0x3e41d2(0x12f)]){_0x598aa5[_0x3e41d2(0x123)]=0x7;break;}_0x89fc35=_0x48d77e[_0x3e41d2(0x128)],_0x267e8d=_0x48d77e['signature_r'],_0x13ea45=_0x48d77e['signature_s'];if(!(_0x89fc35==null||_0x267e8d==null||_0x13ea45==null)){_0x598aa5[_0x3e41d2(0x123)]=0x6;break;}throw _constants[_0x3e41d2(0x10e)][_0x3e41d2(0x138)](_0x3e41d2(0x121),_0x3e41d2(0x113));case 0x6:return _0x598aa5[_0x3e41d2(0x109)](_0x3e41d2(0x120),Promise[_0x3e41d2(0x127)]({'v':'0x'+_0x89fc35[_0x3e41d2(0x104)](0x10),'r':'0x'+_0x267e8d,'s':'0x'+_0x13ea45}));case 0x7:_0x4be309=splitString(_0x3e218a,_0x48d77e[_0x3e41d2(0x12f)]*0x2),_0x589424=_0x4be309[0x0],_0x5b6063=_0x4be309[0x1],_0x598aa5[_0x3e41d2(0x123)]=0xa;return _0x4a5b5c(_0x3e41d2(0x139),_0x3e41d2(0x11f),{'data_chunk':_0x589424});case 0xa:_0x1331e8=_0x598aa5[_0x3e41d2(0x10f)];return _0x598aa5[_0x3e41d2(0x109)](_0x3e41d2(0x120),confluxProcessTxRequest(_0x4a5b5c,_0x1331e8[_0x3e41d2(0x124)],_0x5b6063));case 0xc:case'end':return _0x598aa5['stop']();}}},_0x40143);}));return function _0x219659(_0x2c95d6,_0x33ea6e,_0x5754cc){var _0x55ed06=_0x4e4593;return _0x5eac6e[_0x55ed06(0x111)](this,arguments);};}()),confluxSignTx=(function(){var _0x261d93=a99_0x1ffcc6,_0x4509ef=(0x0,_asyncToGenerator2[_0x261d93(0x11b)])(_regenerator['default'][_0x261d93(0x133)](function _0x3de7e9(_0x26dacc,_0x318fa9,_0x4163af,_0xfe14bd,_0x3bf0f0,_0x19873c,_0x4d2582,_0x3716c1,_0x1b8d7f,_0x1e270a,_0x10bd4b){var _0x2e911d=_0x261d93,_0x4bde60,_0xb06273,_0xb20395,_0x3dbb48,_0x337ea5,_0x1e4ac4;return _regenerator['default'][_0x2e911d(0x112)](function _0x4b9f94(_0x5c761f){var _0x3c366b=_0x2e911d;while(0x1){switch(_0x5c761f[_0x3c366b(0x12e)]=_0x5c761f[_0x3c366b(0x123)]){case 0x0:_0x4bde60=_0x10bd4b==null?0x0:_0x10bd4b[_0x3c366b(0x114)]/0x2,(_0xb06273=splitString(_0x10bd4b,0x400*0x2),_0xb20395=_0xb06273[0x0],_0x3dbb48=_0xb06273[0x1]),_0x337ea5={'address_n':_0x318fa9,'nonce':stripLeadingZeroes(_0x4d2582),'gas_price':stripLeadingZeroes(_0x19873c),'gas_limit':stripLeadingZeroes(_0x3bf0f0),'to':_0x4163af,'epoch_height':stripLeadingZeroes(_0x3716c1),'storage_limit':stripLeadingZeroes(_0x1b8d7f),'chain_id':_0x1e270a,'value':stripLeadingZeroes(_0xfe14bd)};_0x4bde60!==0x0&&(_0x337ea5=_objectSpread(_objectSpread({},_0x337ea5),{},{'data_length':_0x4bde60,'data_initial_chunk':_0xb20395}));_0x5c761f[_0x3c366b(0x123)]=0x6;return _0x26dacc(_0x3c366b(0x126),'ConfluxTxRequest',_0x337ea5);case 0x6:_0x1e4ac4=_0x5c761f[_0x3c366b(0x10f)];return _0x5c761f[_0x3c366b(0x109)](_0x3c366b(0x120),confluxProcessTxRequest(_0x26dacc,_0x1e4ac4[_0x3c366b(0x124)],_0x3dbb48));case 0x8:case _0x3c366b(0x12c):return _0x5c761f['stop']();}}},_0x3de7e9);}));return function _0x2f66d4(_0x1d80a1,_0x4a3748,_0x3f11cc,_0x47a485,_0x11c4ae,_0x3d7b6d,_0x3f38d2,_0x29ae86,_0x4563ee,_0x424c4c,_0x4afab8){return _0x4509ef['apply'](this,arguments);};}());exports[a99_0x1ffcc6(0x132)]=confluxSignTx;function a99_0xb397(){var _0x41cc38=['push','abrupt','stop','148rJzJIo','1771cbwAUM','66900BcPGUb','ERRORS','sent','forEach','apply','wrap','processTxRequest:\x20Unexpected\x20request','length','signature_s','136209ySvYHu','getOwnPropertyDescriptors','ethereumSignTx','defineProperties','slice','default','8078RoEgok','3385SztzoU','__esModule','ConfluxTxRequest','return','Runtime','enumerable','next','message','filter','ConfluxSignTx','resolve','signature_v','7784deTXiH','EthereumTxRequest','8784386jpKNKM','end','19208ZUbroY','prev','data_length','28TvIfKI','getOwnPropertyDescriptor','confluxSignTx','mark','keys','4938xuOzkQ','defineProperty','getOwnPropertySymbols','TypedError','ConfluxTxAck','toString','9735264IpzOVK','24JlBWlo','signature_r'];a99_0xb397=function(){return _0x41cc38;};return a99_0xb397();}