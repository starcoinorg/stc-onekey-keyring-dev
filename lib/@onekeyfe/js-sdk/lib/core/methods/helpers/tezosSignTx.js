'use strict';var a108_0x3a0b01=a108_0xa946;(function(_0x2fbcbb,_0x4fe27b){var _0x16f838=a108_0xa946,_0x2474ce=_0x2fbcbb();while(!![]){try{var _0x61e99=parseInt(_0x16f838(0x20c))/0x1+parseInt(_0x16f838(0x1fb))/0x2*(parseInt(_0x16f838(0x1fc))/0x3)+parseInt(_0x16f838(0x214))/0x4+parseInt(_0x16f838(0x21c))/0x5*(-parseInt(_0x16f838(0x224))/0x6)+-parseInt(_0x16f838(0x220))/0x7*(-parseInt(_0x16f838(0x201))/0x8)+-parseInt(_0x16f838(0x22a))/0x9+-parseInt(_0x16f838(0x212))/0xa;if(_0x61e99===_0x4fe27b)break;else _0x2474ce['push'](_0x2474ce['shift']());}catch(_0x4ab54b){_0x2474ce['push'](_0x2474ce['shift']());}}}(a108_0x454a,0xcd30a));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports['__esModule']=!![],exports[a108_0x3a0b01(0x218)]=void 0x0;var _defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),bs58check=_interopRequireWildcard(require('bs58check')),_constants=require('../../../constants'),_paramsValidator=require('./../helpers/paramsValidator');function _getRequireWildcardCache(_0x34f64a){var _0x3e36fc=a108_0x3a0b01;if(typeof WeakMap!==_0x3e36fc(0x20f))return null;var _0x4611ee=new WeakMap(),_0xd3c1=new WeakMap();return(_getRequireWildcardCache=function _0x478a97(_0x55634f){return _0x55634f?_0xd3c1:_0x4611ee;})(_0x34f64a);}function _interopRequireWildcard(_0x5b373a,_0x178e64){var _0x18a459=a108_0x3a0b01;if(!_0x178e64&&_0x5b373a&&_0x5b373a['__esModule'])return _0x5b373a;if(_0x5b373a===null||typeof _0x5b373a!==_0x18a459(0x213)&&typeof _0x5b373a!==_0x18a459(0x20f))return{'default':_0x5b373a};var _0xca9f6=_getRequireWildcardCache(_0x178e64);if(_0xca9f6&&_0xca9f6[_0x18a459(0x1f8)](_0x5b373a))return _0xca9f6[_0x18a459(0x203)](_0x5b373a);var _0x1cd776={},_0x29701b=Object['defineProperty']&&Object[_0x18a459(0x21f)];for(var _0x4ec04a in _0x5b373a){if(_0x4ec04a!==_0x18a459(0x223)&&Object['prototype']['hasOwnProperty'][_0x18a459(0x207)](_0x5b373a,_0x4ec04a)){var _0x4d11c9=_0x29701b?Object['getOwnPropertyDescriptor'](_0x5b373a,_0x4ec04a):null;_0x4d11c9&&(_0x4d11c9[_0x18a459(0x203)]||_0x4d11c9['set'])?Object[_0x18a459(0x22c)](_0x1cd776,_0x4ec04a,_0x4d11c9):_0x1cd776[_0x4ec04a]=_0x5b373a[_0x4ec04a];}}return _0x1cd776[_0x18a459(0x223)]=_0x5b373a,_0xca9f6&&_0xca9f6[_0x18a459(0x208)](_0x5b373a,_0x1cd776),_0x1cd776;}function a108_0xa946(_0x137bdc,_0xed8525){var _0x454a34=a108_0x454a();return a108_0xa946=function(_0xa946a9,_0x37d8df){_0xa946a9=_0xa946a9-0x1f0;var _0x179d89=_0x454a34[_0xa946a9];return _0x179d89;},a108_0xa946(_0x137bdc,_0xed8525);}function ownKeys(_0x2fae08,_0x30c3ff){var _0x5f3202=a108_0x3a0b01,_0x39edf8=Object['keys'](_0x2fae08);if(Object[_0x5f3202(0x21e)]){var _0x4fc2ee=Object[_0x5f3202(0x21e)](_0x2fae08);_0x30c3ff&&(_0x4fc2ee=_0x4fc2ee[_0x5f3202(0x1f0)](function(_0x1a8bd2){var _0x122fc2=_0x5f3202;return Object[_0x122fc2(0x21f)](_0x2fae08,_0x1a8bd2)[_0x122fc2(0x21b)];})),_0x39edf8['push']['apply'](_0x39edf8,_0x4fc2ee);}return _0x39edf8;}function _objectSpread(_0x5f0ee7){var _0x1ba8c0=a108_0x3a0b01;for(var _0x422454=0x1;_0x422454<arguments['length'];_0x422454++){var _0x3ceed4=arguments[_0x422454]!=null?arguments[_0x422454]:{};if(_0x422454%0x2)ownKeys(Object(_0x3ceed4),!![])[_0x1ba8c0(0x205)](function(_0xca19f6){(0x0,_defineProperty2['default'])(_0x5f0ee7,_0xca19f6,_0x3ceed4[_0xca19f6]);});else Object[_0x1ba8c0(0x1f2)]?Object[_0x1ba8c0(0x219)](_0x5f0ee7,Object[_0x1ba8c0(0x1f2)](_0x3ceed4)):ownKeys(Object(_0x3ceed4))[_0x1ba8c0(0x205)](function(_0x5a3b4d){var _0xddeb52=_0x1ba8c0;Object['defineProperty'](_0x5f0ee7,_0x5a3b4d,Object[_0xddeb52(0x21f)](_0x3ceed4,_0x5a3b4d));});}return _0x5f0ee7;}var prefix={'B':new Uint8Array([0x1,0x34]),'tz1':new Uint8Array([0x6,0xa1,0x9f]),'tz2':new Uint8Array([0x6,0xa1,0xa1]),'tz3':new Uint8Array([0x6,0xa1,0xa4]),'KT1':new Uint8Array([0x2,0x5a,0x79]),'edpk':new Uint8Array([0xd,0xf,0x25,0xd9]),'sppk':new Uint8Array([0x3,0xfe,0xe2,0x56]),'p2pk':new Uint8Array([0x3,0xb2,0x8b,0x7f])},bs58checkDecode=function bs58checkDecode(_0x2863ee,_0x264100){var _0x5c784f=a108_0x3a0b01;return bs58check[_0x5c784f(0x20b)](_0x264100)[_0x5c784f(0x206)](_0x2863ee[_0x5c784f(0x210)]);},concatArray=function concatArray(_0x1309dd,_0x1b875b){var _0x2f0924=a108_0x3a0b01,_0x1dab52=new Uint8Array(_0x1309dd['length']+_0x1b875b[_0x2f0924(0x210)]);return _0x1dab52[_0x2f0924(0x208)](_0x1309dd),_0x1dab52[_0x2f0924(0x208)](_0x1b875b,_0x1309dd['length']),_0x1dab52;},publicKeyHash2buffer=function publicKeyHash2buffer(_0x371607){var _0x54ecbd=a108_0x3a0b01;switch(_0x371607['substr'](0x0,0x3)){case _0x54ecbd(0x1f4):return{'originated':0x0,'hash':concatArray(new Uint8Array([0x0]),bs58checkDecode(prefix['tz1'],_0x371607))};case _0x54ecbd(0x1f6):return{'originated':0x0,'hash':concatArray(new Uint8Array([0x1]),bs58checkDecode(prefix['tz2'],_0x371607))};case _0x54ecbd(0x1f9):return{'originated':0x0,'hash':concatArray(new Uint8Array([0x2]),bs58checkDecode(prefix[_0x54ecbd(0x1f9)],_0x371607))};case'KT1':return{'originated':0x1,'hash':concatArray(bs58checkDecode(prefix['KT1'],_0x371607),new Uint8Array([0x0]))};default:throw _constants[_0x54ecbd(0x22f)][_0x54ecbd(0x209)](_0x54ecbd(0x1fe),'Wrong\x20Tezos\x20publicKeyHash\x20address');}},publicKey2buffer=function publicKey2buffer(_0xb20a4a){var _0x32e04f=a108_0x3a0b01;switch(_0xb20a4a[_0x32e04f(0x1ff)](0x0,0x4)){case _0x32e04f(0x230):return concatArray(new Uint8Array([0x0]),bs58checkDecode(prefix[_0x32e04f(0x230)],_0xb20a4a));case'sppk':return concatArray(new Uint8Array([0x1]),bs58checkDecode(prefix[_0x32e04f(0x21a)],_0xb20a4a));case _0x32e04f(0x211):return concatArray(new Uint8Array([0x2]),bs58checkDecode(prefix[_0x32e04f(0x211)],_0xb20a4a));default:throw _constants[_0x32e04f(0x22f)][_0x32e04f(0x209)](_0x32e04f(0x1fe),'Wrong\x20Tezos\x20publicKey');}},createTx=function createTx(_0x40a009,_0x3da0d0,_0x3b9e13){var _0x3667a6=a108_0x3a0b01,_0x17eb8d={'address_n':_0x40a009,'branch':bs58checkDecode(prefix['B'],_0x3da0d0)};if(_0x3b9e13[_0x3667a6(0x1fa)]){var _0x359637=_0x3b9e13[_0x3667a6(0x1fa)];(0x0,_paramsValidator['validateParams'])(_0x359637,[{'name':_0x3667a6(0x225),'type':_0x3667a6(0x22e),'obligatory':!![]},{'name':_0x3667a6(0x217),'type':_0x3667a6(0x22e),'obligatory':!![]},{'name':_0x3667a6(0x231),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x21d),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':'gas_limit','type':'number','obligatory':!![]},{'name':_0x3667a6(0x204),'type':_0x3667a6(0x226),'obligatory':!![]}]),_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'reveal':{'source':publicKeyHash2buffer(_0x359637[_0x3667a6(0x225)])[_0x3667a6(0x229)],'public_key':publicKey2buffer(_0x359637[_0x3667a6(0x217)]),'fee':_0x359637[_0x3667a6(0x231)],'counter':_0x359637[_0x3667a6(0x21d)],'gas_limit':_0x359637[_0x3667a6(0x222)],'storage_limit':_0x359637['storage_limit']}});}if(_0x3b9e13['transaction']){var _0x307177=_0x3b9e13[_0x3667a6(0x20a)];(0x0,_paramsValidator[_0x3667a6(0x20e)])(_0x307177,[{'name':_0x3667a6(0x225),'type':_0x3667a6(0x22e),'obligatory':!![]},{'name':_0x3667a6(0x1f3),'type':_0x3667a6(0x22e),'obligatory':!![]},{'name':_0x3667a6(0x20d),'type':'number','obligatory':!![]},{'name':'counter','type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x231),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':'gas_limit','type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x204),'type':_0x3667a6(0x226),'obligatory':!![]}]),_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'transaction':{'source':publicKeyHash2buffer(_0x307177[_0x3667a6(0x225)])[_0x3667a6(0x229)],'destination':{'tag':publicKeyHash2buffer(_0x307177[_0x3667a6(0x1f3)])['originated'],'hash':publicKeyHash2buffer(_0x307177[_0x3667a6(0x1f3)])[_0x3667a6(0x229)]},'amount':_0x307177['amount'],'counter':_0x307177[_0x3667a6(0x21d)],'fee':_0x307177[_0x3667a6(0x231)],'gas_limit':_0x307177[_0x3667a6(0x222)],'storage_limit':_0x307177[_0x3667a6(0x204)]}});Object[_0x3667a6(0x227)][_0x3667a6(0x1f1)][_0x3667a6(0x207)](_0x307177,_0x3667a6(0x228))&&(_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'transaction':_objectSpread(_objectSpread({},_0x17eb8d[_0x3667a6(0x20a)]),{},{'parameters':_0x307177[_0x3667a6(0x228)]})}));if(_0x307177[_0x3667a6(0x215)]){var _0x2d6111=_0x307177[_0x3667a6(0x215)];(0x0,_paramsValidator[_0x3667a6(0x20e)])(_0x2d6111,[{'name':_0x3667a6(0x1f5),'type':'string','obligatory':![]},{'name':_0x3667a6(0x22d),'type':_0x3667a6(0x216),'obligatory':![]},{'name':_0x3667a6(0x1f7),'type':'object','obligatory':![]}]);_0x2d6111[_0x3667a6(0x1f5)]&&(_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'transaction':_objectSpread(_objectSpread({},_0x17eb8d[_0x3667a6(0x20a)]),{},{'parameters_manager':{'set_delegate':publicKeyHash2buffer(_0x2d6111[_0x3667a6(0x1f5)])['hash']}})}));Object[_0x3667a6(0x227)][_0x3667a6(0x1f1)][_0x3667a6(0x207)](_0x2d6111,_0x3667a6(0x22d))&&(_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'transaction':_objectSpread(_objectSpread({},_0x17eb8d[_0x3667a6(0x20a)]),{},{'parameters_manager':{'cancel_delegate':!![]}})}));if(_0x2d6111[_0x3667a6(0x1f7)]){var _0x21eaad=_0x2d6111['transfer'];(0x0,_paramsValidator[_0x3667a6(0x20e)])(_0x21eaad,[{'name':_0x3667a6(0x20d),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x1f3),'type':_0x3667a6(0x22e),'obligatory':!![]}]),_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'transaction':_objectSpread(_objectSpread({},_0x17eb8d['transaction']),{},{'parameters_manager':{'transfer':{'destination':{'tag':publicKeyHash2buffer(_0x21eaad[_0x3667a6(0x1f3)])['originated'],'hash':publicKeyHash2buffer(_0x21eaad['destination'])['hash']},'amount':_0x21eaad[_0x3667a6(0x20d)]}}})});}}}if(_0x3b9e13['origination']){var _0x31d94b=_0x3b9e13[_0x3667a6(0x1fd)];(0x0,_paramsValidator[_0x3667a6(0x20e)])(_0x31d94b,[{'name':_0x3667a6(0x225),'type':_0x3667a6(0x22e),'obligatory':!![]},{'name':_0x3667a6(0x200),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x231),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':'counter','type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x222),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x204),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x221),'type':_0x3667a6(0x22e),'obligatory':!![]}]),_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'origination':{'source':publicKeyHash2buffer(_0x31d94b[_0x3667a6(0x225)])['hash'],'balance':_0x31d94b['balance'],'fee':_0x31d94b[_0x3667a6(0x231)],'counter':_0x31d94b[_0x3667a6(0x21d)],'gas_limit':_0x31d94b[_0x3667a6(0x222)],'storage_limit':_0x31d94b['storage_limit'],'script':_0x31d94b['script']}}),_0x31d94b['delegate']&&(_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'origination':_objectSpread(_objectSpread({},_0x17eb8d[_0x3667a6(0x1fd)]),{},{'delegate':publicKeyHash2buffer(_0x31d94b['delegate'])['hash']})}));}if(_0x3b9e13[_0x3667a6(0x22b)]){var _0x520ce6=_0x3b9e13[_0x3667a6(0x22b)];(0x0,_paramsValidator[_0x3667a6(0x20e)])(_0x520ce6,[{'name':_0x3667a6(0x225),'type':_0x3667a6(0x22e),'obligatory':!![]},{'name':'delegate','type':_0x3667a6(0x22e),'obligatory':!![]},{'name':_0x3667a6(0x231),'type':'number','obligatory':!![]},{'name':_0x3667a6(0x21d),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':_0x3667a6(0x222),'type':_0x3667a6(0x226),'obligatory':!![]},{'name':'storage_limit','type':_0x3667a6(0x226),'obligatory':!![]}]),_0x17eb8d=_objectSpread(_objectSpread({},_0x17eb8d),{},{'delegation':{'source':publicKeyHash2buffer(_0x520ce6['source'])[_0x3667a6(0x229)],'delegate':publicKeyHash2buffer(_0x520ce6[_0x3667a6(0x202)])[_0x3667a6(0x229)],'fee':_0x520ce6[_0x3667a6(0x231)],'counter':_0x520ce6['counter'],'gas_limit':_0x520ce6[_0x3667a6(0x222)],'storage_limit':_0x520ce6['storage_limit']}});}return _0x17eb8d;};function a108_0x454a(){var _0x1363b8=['destination','tz1','set_delegate','tz2','transfer','has','tz3','reveal','84bxjaAd','21654ySYtin','origination','Method_InvalidParameter','substr','balance','23264KKUdgd','delegate','get','storage_limit','forEach','slice','call','set','TypedError','transaction','decode','958729bTeJjF','amount','validateParams','function','length','p2pk','11801350dxiDNK','object','5505500gLKKit','parameters_manager','boolean','public_key','createTx','defineProperties','sppk','enumerable','4996835CqPrkL','counter','getOwnPropertySymbols','getOwnPropertyDescriptor','2359AzJGZX','script','gas_limit','default','6MMaKeB','source','number','prototype','parameters','hash','5384664dczaXb','delegation','defineProperty','cancel_delegate','string','ERRORS','edpk','fee','filter','hasOwnProperty','getOwnPropertyDescriptors'];a108_0x454a=function(){return _0x1363b8;};return a108_0x454a();}exports[a108_0x3a0b01(0x218)]=createTx;