'use strict';var a104_0x52fd60=a104_0x299b;(function(_0xd0243d,_0x5dfe6b){var _0x5a2841=a104_0x299b,_0x934de2=_0xd0243d();while(!![]){try{var _0x1f1bfc=parseInt(_0x5a2841(0x86))/0x1*(-parseInt(_0x5a2841(0x91))/0x2)+-parseInt(_0x5a2841(0x9c))/0x3+parseInt(_0x5a2841(0x8f))/0x4*(parseInt(_0x5a2841(0x75))/0x5)+parseInt(_0x5a2841(0x80))/0x6*(parseInt(_0x5a2841(0xa0))/0x7)+-parseInt(_0x5a2841(0xbf))/0x8+parseInt(_0x5a2841(0x9d))/0x9*(-parseInt(_0x5a2841(0x84))/0xa)+-parseInt(_0x5a2841(0xbc))/0xb*(-parseInt(_0x5a2841(0x77))/0xc);if(_0x1f1bfc===_0x5dfe6b)break;else _0x934de2['push'](_0x934de2['shift']());}catch(_0x339402){_0x934de2['push'](_0x934de2['shift']());}}}(a104_0x53e6,0xb559e));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');function a104_0x299b(_0x4fc0e2,_0x152d07){var _0x53e64d=a104_0x53e6();return a104_0x299b=function(_0x299ba7,_0x4a9c7e){_0x299ba7=_0x299ba7-0x71;var _0x1e82a5=_0x53e64d[_0x299ba7];return _0x1e82a5;},a104_0x299b(_0x4fc0e2,_0x152d07);}exports[a104_0x52fd60(0x79)]=!![],exports['default']=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_constants=require('../../../constants');function ownKeys(_0x5e766b,_0x15572d){var _0x5bf107=a104_0x52fd60,_0x5ee6a5=Object[_0x5bf107(0x7f)](_0x5e766b);if(Object[_0x5bf107(0xbe)]){var _0x27a1e9=Object[_0x5bf107(0xbe)](_0x5e766b);_0x15572d&&(_0x27a1e9=_0x27a1e9['filter'](function(_0x1835d1){var _0x5e619a=_0x5bf107;return Object[_0x5e619a(0x7b)](_0x5e766b,_0x1835d1)[_0x5e619a(0xa7)];})),_0x5ee6a5[_0x5bf107(0x8c)]['apply'](_0x5ee6a5,_0x27a1e9);}return _0x5ee6a5;}function _objectSpread(_0x59f0b4){var _0x4eaadc=a104_0x52fd60;for(var _0x310f7f=0x1;_0x310f7f<arguments[_0x4eaadc(0xb6)];_0x310f7f++){var _0x36dbc8=arguments[_0x310f7f]!=null?arguments[_0x310f7f]:{};if(_0x310f7f%0x2)ownKeys(Object(_0x36dbc8),!![])[_0x4eaadc(0xc1)](function(_0x572772){var _0x51a789=_0x4eaadc;(0x0,_defineProperty2[_0x51a789(0xb2)])(_0x59f0b4,_0x572772,_0x36dbc8[_0x572772]);});else Object['getOwnPropertyDescriptors']?Object['defineProperties'](_0x59f0b4,Object[_0x4eaadc(0xaf)](_0x36dbc8)):ownKeys(Object(_0x36dbc8))['forEach'](function(_0x19a877){var _0x333abe=_0x4eaadc;Object[_0x333abe(0x96)](_0x59f0b4,_0x19a877,Object[_0x333abe(0x7b)](_0x36dbc8,_0x19a877));});}return _0x59f0b4;}var requestPrevTxInfo=function requestPrevTxInfo(_0x2a0b7f){var _0x9d8af8=a104_0x52fd60,_0x4adf19=_0x2a0b7f[_0x9d8af8(0xae)],_0x27a5f5=_0x2a0b7f[_0x9d8af8(0x9f)],_0x1c1b61=_0x27a5f5[_0x9d8af8(0x7d)],_0x36a263=_0x27a5f5[_0x9d8af8(0xbd)],_0x5a67ef=_0x2a0b7f['refTxs'],_0x559662=_0x36a263[_0x9d8af8(0x7a)];if(!_0x559662)throw _constants['ERRORS']['TypedError'](_0x9d8af8(0x92),_0x9d8af8(0x8a));var _0x529398=_0x5a67ef[_0x559662[_0x9d8af8(0x76)]()];if(!_0x529398)throw _constants[_0x9d8af8(0x95)][_0x9d8af8(0x8e)](_0x9d8af8(0x92),_0x9d8af8(0x88)+_0x559662);if(!_0x529398[_0x9d8af8(0x9a)])throw _constants[_0x9d8af8(0x95)][_0x9d8af8(0x8e)](_0x9d8af8(0x92),_0x9d8af8(0xa2)+_0x559662);if(_0x1c1b61===_0x9d8af8(0xb9))return{'inputs':[_0x529398[_0x9d8af8(0xa9)][_0x36a263[_0x9d8af8(0x83)]]]};if(_0x1c1b61===_0x9d8af8(0xc0))return{'bin_outputs':[_0x529398['bin_outputs'][_0x36a263['request_index']]]};if(_0x1c1b61===_0x9d8af8(0xbb)){if(typeof _0x36a263['extra_data_len']!=='number')throw _constants[_0x9d8af8(0x95)][_0x9d8af8(0x8e)]('Runtime','requestPrevTxInfo:\x20Missing\x20extra_data_len');if(typeof _0x36a263[_0x9d8af8(0x97)]!==_0x9d8af8(0x90))throw _constants[_0x9d8af8(0x95)]['TypedError']('Runtime',_0x9d8af8(0xb3));if(typeof _0x529398['extra_data']!=='string')throw _constants[_0x9d8af8(0x95)][_0x9d8af8(0x8e)](_0x9d8af8(0x92),'requestPrevTxInfo:\x20No\x20extra\x20data\x20for\x20transaction\x20'+_0x529398[_0x9d8af8(0x82)]);var _0x37cae7=_0x529398['extra_data'],_0x5378a1=_0x36a263[_0x9d8af8(0x94)],_0x1fd034=_0x36a263[_0x9d8af8(0x97)],_0x5f2543=_0x37cae7[_0x9d8af8(0x9b)](_0x1fd034*0x2,(_0x1fd034+_0x5378a1)*0x2);return{'extra_data':_0x5f2543};}if(_0x1c1b61===_0x9d8af8(0x81)){var _0x1c3df5=_0x529398[_0x9d8af8(0x72)],_0x142ba2={'version':_0x529398[_0x9d8af8(0xa8)],'lock_time':_0x529398['lock_time'],'inputs_cnt':_0x529398['inputs'][_0x9d8af8(0xb6)],'outputs_cnt':_0x529398[_0x9d8af8(0x9a)]['length'],'timestamp':_0x529398[_0x9d8af8(0xad)],'version_group_id':_0x529398[_0x9d8af8(0x8d)],'expiry':_0x529398[_0x9d8af8(0x73)],'branch_id':_0x529398[_0x9d8af8(0xb5)]};if(typeof _0x1c3df5===_0x9d8af8(0xa1)&&_0x1c3df5[_0x9d8af8(0xb6)]!==0x0)return _objectSpread(_objectSpread({},_0x142ba2),{},{'extra_data_len':_0x1c3df5['length']/0x2});return _0x142ba2;}throw _constants[_0x9d8af8(0x95)][_0x9d8af8(0x8e)](_0x9d8af8(0x92),_0x9d8af8(0x93)+_0x1c1b61);},requestSignedTxInfo=function requestSignedTxInfo(_0x29ae58){var _0x5cd0d7=a104_0x52fd60,_0x29d8cb=_0x29ae58[_0x5cd0d7(0x9f)],_0x205207=_0x29d8cb[_0x5cd0d7(0x7d)],_0x411981=_0x29d8cb[_0x5cd0d7(0xbd)],_0x3ca6b8=_0x29ae58['inputs'],_0x508d55=_0x29ae58[_0x5cd0d7(0xa6)];if(_0x205207===_0x5cd0d7(0xb9))return{'inputs':[_0x3ca6b8[_0x411981['request_index']]]};if(_0x205207===_0x5cd0d7(0xc0))return{'outputs':[_0x508d55[_0x411981[_0x5cd0d7(0x83)]]]};if(_0x205207===_0x5cd0d7(0x81))throw _constants[_0x5cd0d7(0x95)]['TypedError'](_0x5cd0d7(0x92),'requestSignedTxInfo:\x20Cannot\x20read\x20TXMETA\x20from\x20signed\x20transaction');if(_0x205207===_0x5cd0d7(0xbb))throw _constants[_0x5cd0d7(0x95)][_0x5cd0d7(0x8e)](_0x5cd0d7(0x92),_0x5cd0d7(0x8b));throw _constants[_0x5cd0d7(0x95)][_0x5cd0d7(0x8e)](_0x5cd0d7(0x92),_0x5cd0d7(0xab)+_0x205207);},requestTxAck=function requestTxAck(_0x39ae33){var _0x121d76=a104_0x52fd60,_0x283bc8=_0x39ae33[_0x121d76(0x9f)][_0x121d76(0xbd)][_0x121d76(0x7a)];return _0x283bc8?requestPrevTxInfo(_0x39ae33):requestSignedTxInfo(_0x39ae33);},saveTxSignatures=function saveTxSignatures(_0x528ade,_0x1a2bc7,_0xaac28){var _0x198079=a104_0x52fd60;if(!_0x528ade)return;var _0x4f6714=_0x528ade['signature_index'],_0x27df3d=_0x528ade[_0x198079(0x87)],_0xe5b90c=_0x528ade[_0x198079(0xa5)];_0xe5b90c&&_0x1a2bc7[_0x198079(0x8c)](_0xe5b90c);if(typeof _0x4f6714===_0x198079(0x90)){if(!_0x27df3d)throw _constants[_0x198079(0x95)][_0x198079(0x8e)](_0x198079(0x92),_0x198079(0xb0));_0xaac28[_0x4f6714]=_0x27df3d;}},processTxRequest=(function(){var _0x5623d9=a104_0x52fd60,_0x350c25=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x5623d9(0xb2)][_0x5623d9(0x99)](function _0x59fb12(_0x26fa64){var _0x4f4623=_0x5623d9,_0x36306b,_0x56a737,_0x61fd0c,_0x34b961,_0x3bb53e,_0x3584dc,_0x2d53d8,_0x3d4f55,_0x464d8f,_0x5d8965;return _regenerator[_0x4f4623(0xb2)][_0x4f4623(0x7e)](function _0x13e3b7(_0x5670f4){var _0x23bc44=_0x4f4623;while(0x1){switch(_0x5670f4[_0x23bc44(0x71)]=_0x5670f4[_0x23bc44(0xa4)]){case 0x0:_0x36306b=_0x26fa64[_0x23bc44(0xae)],_0x56a737=_0x26fa64['txRequest'],_0x61fd0c=_0x26fa64[_0x23bc44(0xac)],_0x34b961=_0x26fa64['inputs'],_0x3bb53e=_0x26fa64[_0x23bc44(0xa6)],_0x3584dc=_0x26fa64[_0x23bc44(0xba)],_0x2d53d8=_0x26fa64[_0x23bc44(0xb8)],saveTxSignatures(_0x56a737['serialized'],_0x3584dc,_0x2d53d8);if(!(_0x56a737[_0x23bc44(0x7d)]==='TXFINISHED')){_0x5670f4[_0x23bc44(0xa4)]=0x4;break;}return _0x5670f4[_0x23bc44(0x7c)](_0x23bc44(0x78),Promise[_0x23bc44(0x89)]({'signatures':_0x2d53d8,'serializedTx':_0x3584dc[_0x23bc44(0xb7)]('')}));case 0x4:_0x3d4f55=requestTxAck(_0x26fa64),_0x5670f4[_0x23bc44(0xa4)]=0x7;return _0x36306b(_0x23bc44(0x98),_0x23bc44(0xa3),{'tx':_0x3d4f55});case 0x7:_0x464d8f=_0x5670f4[_0x23bc44(0x9e)],_0x5d8965=_0x464d8f[_0x23bc44(0xaa)];return _0x5670f4[_0x23bc44(0x7c)](_0x23bc44(0x78),processTxRequest({'typedCall':_0x36306b,'txRequest':_0x5d8965,'refTxs':_0x61fd0c,'inputs':_0x34b961,'outputs':_0x3bb53e,'serializedTx':_0x3584dc,'signatures':_0x2d53d8}));case 0xa:case _0x23bc44(0x85):return _0x5670f4['stop']();}}},_0x59fb12);}));return function _0x392b2b(_0x152467){var _0x2397da=_0x5623d9;return _0x350c25[_0x2397da(0xb1)](this,arguments);};}()),_default=(function(){var _0x3ad097=a104_0x52fd60,_0x3b0676=(0x0,_asyncToGenerator2[_0x3ad097(0xb2)])(_regenerator[_0x3ad097(0xb2)][_0x3ad097(0x99)](function _0x25e9a4(_0x4238f0,_0x3347ae,_0x35f012,_0x457e4e,_0x325d5c,_0xbc817){var _0x299966=_0x3ad097,_0x1f7ac8,_0x5ce825,_0x4e0715;return _regenerator[_0x299966(0xb2)][_0x299966(0x7e)](function _0x1d2913(_0x57e47c){var _0x52284e=_0x299966;while(0x1){switch(_0x57e47c[_0x52284e(0x71)]=_0x57e47c['next']){case 0x0:_0x1f7ac8={},_0x457e4e[_0x52284e(0xc1)](function(_0x4f6cc8){var _0x416808=_0x52284e;_0x1f7ac8[_0x4f6cc8[_0x416808(0x82)][_0x416808(0x76)]()]=_0x4f6cc8;}),_0x57e47c[_0x52284e(0xa4)]=0x4;return _0x4238f0(_0x52284e(0xb4),_0x52284e(0xa3),_objectSpread(_objectSpread({},_0x325d5c),{},{'inputs_count':_0x3347ae[_0x52284e(0xb6)],'outputs_count':_0x35f012[_0x52284e(0xb6)],'coin_name':_0xbc817['name']}));case 0x4:_0x5ce825=_0x57e47c[_0x52284e(0x9e)],_0x4e0715=_0x5ce825[_0x52284e(0xaa)];return _0x57e47c[_0x52284e(0x7c)](_0x52284e(0x78),processTxRequest({'typedCall':_0x4238f0,'txRequest':_0x4e0715,'refTxs':_0x1f7ac8,'inputs':_0x3347ae,'outputs':_0x35f012,'serializedTx':[],'signatures':[]}));case 0x7:case _0x52284e(0x85):return _0x57e47c[_0x52284e(0x74)]();}}},_0x25e9a4);}));return function(_0x23c9d4,_0xb11a2f,_0x56898f,_0x1baabc,_0x13c6a8,_0x4e6196){var _0x23becf=_0x3ad097;return _0x3b0676[_0x23becf(0xb1)](this,arguments);};}());function a104_0x53e6(){var _0x577b84=['signatures','TXINPUT','serializedTx','TXEXTRADATA','54032VUwwAP','details','getOwnPropertySymbols','7436384bqEyPp','TXOUTPUT','forEach','prev','extra_data','expiry','stop','10ngVlHk','toLowerCase','3240bAvbvo','return','__esModule','tx_hash','getOwnPropertyDescriptor','abrupt','request_type','wrap','keys','60EXMhiS','TXMETA','hash','request_index','175690fHRNLR','end','291177kxUyDk','signature','requestPrevTxInfo:\x20Requested\x20unknown\x20tx:\x20','resolve','requestPrevTxInfo:\x20unknown\x20details.tx_hash','requestSignedTxInfo:\x20Cannot\x20read\x20TXEXTRADATA\x20from\x20signed\x20transaction','push','version_group_id','TypedError','1116988etvWgq','number','8xIIMzO','Runtime','requestPrevTxInfo:\x20Unknown\x20request\x20type:\x20','extra_data_len','ERRORS','defineProperty','extra_data_offset','TxAck','mark','bin_outputs','substring','701817JuOxzN','45ZFrArh','sent','txRequest','891884zizvEq','string','requestPrevTxInfo:\x20bin_outputs\x20not\x20set\x20tx:\x20','TxRequest','next','serialized_tx','outputs','enumerable','version','inputs','message','requestSignedTxInfo:\x20Unknown\x20request\x20type:\x20','refTxs','timestamp','typedCall','getOwnPropertyDescriptors','saveTxSignatures:\x20Unexpected\x20null\x20in\x20trezor:TxRequestSerialized\x20signature.','apply','default','requestPrevTxInfo:\x20Missing\x20extra_data_offset','SignTx','branch_id','length','join'];a104_0x53e6=function(){return _0x577b84;};return a104_0x53e6();}exports['default']=_default;