'use strict';var a116_0x5732c7=a116_0x4a6d;(function(_0x164aea,_0x40f5b3){var _0x3eb464=a116_0x4a6d,_0x2c3005=_0x164aea();while(!![]){try{var _0x50dd5c=parseInt(_0x3eb464(0x210))/0x1+-parseInt(_0x3eb464(0x1f2))/0x2+parseInt(_0x3eb464(0x1f3))/0x3*(-parseInt(_0x3eb464(0x21c))/0x4)+parseInt(_0x3eb464(0x217))/0x5*(-parseInt(_0x3eb464(0x21d))/0x6)+parseInt(_0x3eb464(0x200))/0x7+-parseInt(_0x3eb464(0x211))/0x8*(parseInt(_0x3eb464(0x214))/0x9)+parseInt(_0x3eb464(0x1fd))/0xa*(parseInt(_0x3eb464(0x21e))/0xb);if(_0x50dd5c===_0x40f5b3)break;else _0x2c3005['push'](_0x2c3005['shift']());}catch(_0x15bab7){_0x2c3005['push'](_0x2c3005['shift']());}}}(a116_0x2dd3,0x578d0));exports[a116_0x5732c7(0x21a)]=!![],exports[a116_0x5732c7(0x1ff)]=exports['transformOrigTransactions']=exports[a116_0x5732c7(0x1dd)]=exports[a116_0x5732c7(0x201)]=void 0x0;var _utxoLib=require('@trezor/utxo-lib'),_bufferUtils=require('../../../utils/bufferUtils'),_pathUtils=require('../../../utils/pathUtils');_utxoLib[a116_0x5732c7(0x206)][a116_0x5732c7(0x1ee)]=!![];var getReferencedTransactions=function getReferencedTransactions(_0x205506){var _0x2a0cd8=a116_0x5732c7,_0xbcac6a=[];return _0x205506[_0x2a0cd8(0x1f0)](function(_0x31d5cc){var _0x3ffad7=_0x2a0cd8;_0x31d5cc[_0x3ffad7(0x1dc)]&&!_0xbcac6a[_0x3ffad7(0x1f8)](_0x31d5cc[_0x3ffad7(0x1dc)])&&_0xbcac6a[_0x3ffad7(0x1df)](_0x31d5cc['prev_hash']);}),_0xbcac6a;};exports['getReferencedTransactions']=getReferencedTransactions;var getOrigTransactions=function getOrigTransactions(_0x4cc9d0,_0x281e2c){var _0xa9a58b=a116_0x5732c7,_0x42ff3d=[];return _0x4cc9d0[_0xa9a58b(0x1f0)](function(_0x4d2b64){var _0x1d4a29=_0xa9a58b;_0x4d2b64[_0x1d4a29(0x1f4)]&&!_0x42ff3d['includes'](_0x4d2b64[_0x1d4a29(0x1f4)])&&_0x42ff3d[_0x1d4a29(0x1df)](_0x4d2b64[_0x1d4a29(0x1f4)]);}),_0x281e2c['forEach'](function(_0x121281){var _0x1186c7=_0xa9a58b;_0x121281[_0x1186c7(0x1f4)]&&!_0x42ff3d['includes'](_0x121281[_0x1186c7(0x1f4)])&&_0x42ff3d[_0x1186c7(0x1df)](_0x121281[_0x1186c7(0x1f4)]);}),_0x42ff3d;};exports['getOrigTransactions']=getOrigTransactions;function a116_0x2dd3(){var _0x13e47b=['map','push','join','witness','fromHex','length','outs','locktime','script','type','concat','reduce','ins','address','flatMap','version','USE_STRING_VALUES','versionGroupId','forEach','value','1230174MPqsma','3FCXPFM','orig_hash','getHDPath','hasWitnesses','reverseBuffer','includes','getScriptType','find','blockbook','PAYTOADDRESS','329350xxCiLf','path','transformReferencedTransactions','3871140VCsogK','getReferencedTransactions','vout','change','sequence','number','Transaction','bitcoin','isZcashType','transformOrigTransactions','hex','getId','network','isDashSpecialTransaction','expiryHeight','getExtraData','519819GKCfHA','222344qNbZKh','allocUnsafe','toString','18IRwWNi','used','vin','94695CqQdOf','timestamp','coins','__esModule','hash','2575100htjGYO','102psdpWO','308CRRWTz','prev_hash','getOrigTransactions'];a116_0x2dd3=function(){return _0x13e47b;};return a116_0x2dd3();}var getWitness=function getWitness(_0x3067bf){var _0xd5ba68=a116_0x5732c7;if(!Array['isArray'](_0x3067bf))return;var _0x2c31cf=function _0x53e55d(_0x27978d){var _0x635946=a116_0x4a6d,_0x24a65b=Buffer[_0x635946(0x212)](0x1);return _0x24a65b['writeUInt8'](_0x27978d),_0x24a65b;},_0x1ede49=_0x3067bf[_0xd5ba68(0x1e9)](function(_0x1176a5,_0x24124e){return _0x1176a5['concat']([_0x2c31cf(_0x24124e['length']),_0x24124e]);},[_0x2c31cf(_0x3067bf[_0xd5ba68(0x1e3)])]);return Buffer[_0xd5ba68(0x1e8)](_0x1ede49)[_0xd5ba68(0x213)](_0xd5ba68(0x20a));},transformOrigTransactions=function transformOrigTransactions(_0x10d217,_0x44a240,_0x4137e4){var _0xd246cc=a116_0x5732c7;return _0x10d217[_0xd246cc(0x1ec)](function(_0x3510aa){var _0x2ab514=_0xd246cc;if(_0x44a240[_0x2ab514(0x1e7)]!=='bitcoin'||_0x3510aa[_0x2ab514(0x1e7)]!==_0x2ab514(0x1fb)||!_0x4137e4)return[];var _0xb6efba=_0x3510aa['tx'],_0x4f9583=_0xb6efba[_0x2ab514(0x20a)],_0x310c6c=_0xb6efba[_0x2ab514(0x216)],_0x4a0734=_0xb6efba[_0x2ab514(0x202)],_0x326ba9=_utxoLib['Transaction'][_0x2ab514(0x1e2)](_0x4f9583,_0x44a240[_0x2ab514(0x20c)]),_0x138772=_0x4137e4[_0x2ab514(0x215)]['concat'](_0x4137e4[_0x2ab514(0x203)]),_0xba7a4=function _0x43e71d(_0x3517ef,_0x5eb766){var _0x2f80e2=_0x2ab514,_0x4c52ef=_0x310c6c[_0x5eb766]['addresses'][_0x2f80e2(0x1e0)](''),_0x2cd606=_0x138772[_0x2f80e2(0x1fa)](function(_0x32254c){return _0x32254c['address']===_0x4c52ef;}),_0x487beb=_0x2cd606?(0x0,_pathUtils[_0x2f80e2(0x1f5)])(_0x2cd606[_0x2f80e2(0x1fe)]):[];return{'address_n':_0x487beb,'prev_hash':(0x0,_bufferUtils[_0x2f80e2(0x1f7)])(_0x3517ef[_0x2f80e2(0x21b)])['toString'](_0x2f80e2(0x20a)),'prev_index':_0x3517ef['index'],'script_sig':_0x3517ef[_0x2f80e2(0x1e6)][_0x2f80e2(0x213)](_0x2f80e2(0x20a)),'sequence':_0x3517ef[_0x2f80e2(0x204)],'script_type':(0x0,_pathUtils[_0x2f80e2(0x1f9)])(_0x487beb),'multisig':undefined,'amount':_0x310c6c[_0x5eb766][_0x2f80e2(0x1f1)],'decred_tree':undefined,'witness':_0x326ba9[_0x2f80e2(0x1f6)]()?getWitness(_0x3517ef[_0x2f80e2(0x1e1)]):undefined,'ownership_proof':undefined,'commitment_data':undefined};},_0x250c87=function _0x4e95e3(_0x197a60,_0x23d1ae){var _0x3e1d04=_0x2ab514,_0xa4125c=_0x4a0734[_0x23d1ae]['addresses'][_0x3e1d04(0x1e0)](''),_0x3563c3=_0x4137e4['change'][_0x3e1d04(0x1fa)](function(_0x33dae8){var _0x57ee72=_0x3e1d04;return _0x33dae8[_0x57ee72(0x1eb)]===_0xa4125c;}),_0x46e820=_0x3563c3&&(0x0,_pathUtils[_0x3e1d04(0x1f5)])(_0x3563c3[_0x3e1d04(0x1fe)]),_0x4851a7=typeof _0x197a60['value']===_0x3e1d04(0x205)?_0x197a60[_0x3e1d04(0x1f1)]['toString']():_0x197a60[_0x3e1d04(0x1f1)];return _0x46e820?{'address_n':_0x46e820,'amount':_0x4851a7,'script_type':(0x0,_pathUtils['getOutputScriptType'])(_0x46e820)}:{'address':_0xa4125c,'amount':_0x4851a7,'script_type':_0x3e1d04(0x1fc)};},_0x521c0b=_0x326ba9['getExtraData'](),_0x3932a5=_utxoLib[_0x2ab514(0x219)][_0x2ab514(0x208)](_0x326ba9[_0x2ab514(0x20c)])&&typeof _0x326ba9[_0x2ab514(0x1ef)]===_0x2ab514(0x205)&&_0x326ba9[_0x2ab514(0x1ed)]>=0x3?_0x326ba9[_0x2ab514(0x1ef)]:undefined;return[{'version':_0x326ba9[_0x2ab514(0x20d)]()?_0x326ba9['version']|_0x326ba9['type']<<0x10:_0x326ba9[_0x2ab514(0x1ed)],'hash':_0x326ba9[_0x2ab514(0x20b)](),'inputs':_0x326ba9[_0x2ab514(0x1ea)][_0x2ab514(0x1de)](_0xba7a4),'outputs':_0x326ba9[_0x2ab514(0x1e4)][_0x2ab514(0x1de)](_0x250c87),'extra_data':_0x521c0b?_0x521c0b[_0x2ab514(0x213)](_0x2ab514(0x20a)):undefined,'lock_time':_0x326ba9[_0x2ab514(0x1e5)],'timestamp':_0x326ba9[_0x2ab514(0x218)],'version_group_id':_0x3932a5,'expiry':_0x326ba9['expiryHeight']}];});};function a116_0x4a6d(_0x49b4f0,_0xd9324e){var _0x2dd3f3=a116_0x2dd3();return a116_0x4a6d=function(_0x4a6dc5,_0x292879){_0x4a6dc5=_0x4a6dc5-0x1dc;var _0x309317=_0x2dd3f3[_0x4a6dc5];return _0x309317;},a116_0x4a6d(_0x49b4f0,_0xd9324e);}exports[a116_0x5732c7(0x209)]=transformOrigTransactions;var transformReferencedTransactions=function transformReferencedTransactions(_0x4d56c9,_0x521b1b){return _0x4d56c9['flatMap'](function(_0x3b7820){var _0x158b66=a116_0x4a6d;if(_0x521b1b['type']!==_0x158b66(0x207)||_0x3b7820[_0x158b66(0x1e7)]!=='blockbook')return[];var _0x5662c6=_0x3b7820['tx'][_0x158b66(0x20a)],_0x3c0b05=_utxoLib[_0x158b66(0x206)]['fromHex'](_0x5662c6,_0x521b1b['network']),_0x5f0568=function _0x287296(_0x3b6016,_0x382030){var _0x81bf66=_0x158b66;return{'prev_index':_0x3b6016['index'],'sequence':_0x3b6016[_0x81bf66(0x204)],'prev_hash':(0x0,_bufferUtils[_0x81bf66(0x1f7)])(_0x3b6016[_0x81bf66(0x21b)])['toString']('hex'),'script_sig':_0x3b6016[_0x81bf66(0x1e6)][_0x81bf66(0x213)](_0x81bf66(0x20a))};},_0x13730e=function _0x6b8168(_0x472d22){var _0x1ad475=_0x158b66;return{'amount':typeof _0x472d22[_0x1ad475(0x1f1)]==='number'?_0x472d22[_0x1ad475(0x1f1)][_0x1ad475(0x213)]():_0x472d22['value'],'script_pubkey':_0x472d22[_0x1ad475(0x1e6)][_0x1ad475(0x213)](_0x1ad475(0x20a))};},_0x1d0246=_0x3c0b05[_0x158b66(0x20f)](),_0x4dd5d9=_utxoLib['coins'][_0x158b66(0x208)](_0x3c0b05[_0x158b66(0x20c)])&&typeof _0x3c0b05[_0x158b66(0x1ef)]===_0x158b66(0x205)&&_0x3c0b05[_0x158b66(0x1ed)]>=0x3?_0x3c0b05[_0x158b66(0x1ef)]:undefined;return[{'version':_0x3c0b05[_0x158b66(0x20d)]()?_0x3c0b05['version']|_0x3c0b05[_0x158b66(0x1e7)]<<0x10:_0x3c0b05[_0x158b66(0x1ed)],'hash':_0x3c0b05[_0x158b66(0x20b)](),'inputs':_0x3c0b05[_0x158b66(0x1ea)][_0x158b66(0x1de)](_0x5f0568),'bin_outputs':_0x3c0b05[_0x158b66(0x1e4)]['map'](_0x13730e),'extra_data':_0x1d0246?_0x1d0246[_0x158b66(0x213)](_0x158b66(0x20a)):undefined,'lock_time':_0x3c0b05[_0x158b66(0x1e5)],'timestamp':_0x3c0b05[_0x158b66(0x218)],'version_group_id':_0x4dd5d9,'expiry':_0x3c0b05[_0x158b66(0x20e)]}];});};exports['transformReferencedTransactions']=transformReferencedTransactions;