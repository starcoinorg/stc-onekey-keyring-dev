'use strict';var a114_0x22c085=a114_0x2203;(function(_0x27a238,_0x56bfc4){var _0x51da93=a114_0x2203,_0x4ba562=_0x27a238();while(!![]){try{var _0x5501bb=parseInt(_0x51da93(0x14b))/0x1+-parseInt(_0x51da93(0x140))/0x2*(-parseInt(_0x51da93(0x146))/0x3)+-parseInt(_0x51da93(0x148))/0x4*(-parseInt(_0x51da93(0x13e))/0x5)+parseInt(_0x51da93(0x15e))/0x6+-parseInt(_0x51da93(0x12f))/0x7+-parseInt(_0x51da93(0x165))/0x8*(parseInt(_0x51da93(0x15d))/0x9)+-parseInt(_0x51da93(0x156))/0xa;if(_0x5501bb===_0x56bfc4)break;else _0x4ba562['push'](_0x4ba562['shift']());}catch(_0x364919){_0x4ba562['push'](_0x4ba562['shift']());}}}(a114_0x24d4,0xb9953));exports[a114_0x22c085(0x15b)]=!![],exports[a114_0x22c085(0x157)]=exports[a114_0x22c085(0x14d)]=exports[a114_0x22c085(0x139)]=exports['validateTrezorInputs']=void 0x0;var _bufferUtils=require('../../../utils/bufferUtils'),_pathUtils=require('../../../utils/pathUtils'),_index=require('./index'),_paramsValidator=require('../helpers/paramsValidator');function a114_0x24d4(){var _0x2801cd=['toString','__esModule','forEach','9rgtCQV','6901152UAMGxA','done','number','isSegwitPath','map','prototype','hex','9117464iJYHsm','name','txid','undefined','validateTrezorInputs','reverseBuffer','1831228DTNXkR','length','prev_index','slice','next','Object','fixPath','amount','iterator','string','enhanceTrezorInputs','vout','value','sequence','Arguments','31945ZOZZsG','type','909994ZlQWYN','prev_hash','convertMultisigPubKey','script_type','network','warn','3yreFfn','blockbook','524xjKqYa','getScriptType','address_n','1107581jGqjEq','isArray','inputToHD','Map','call','validateParams','Invalid\x20attempt\x20to\x20iterate\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','bind','from','constructor','test','13882950OHUGft','inputToTrezor','validatePath','hash'];a114_0x24d4=function(){return _0x2801cd;};return a114_0x24d4();}function _createForOfIteratorHelperLoose(_0x17d10e,_0xee15c4){var _0x21eba4=a114_0x22c085,_0x22e273=typeof Symbol!==_0x21eba4(0x12c)&&_0x17d10e[Symbol[_0x21eba4(0x137)]]||_0x17d10e['@@iterator'];if(_0x22e273)return(_0x22e273=_0x22e273[_0x21eba4(0x14f)](_0x17d10e))[_0x21eba4(0x133)]['bind'](_0x22e273);if(Array[_0x21eba4(0x14c)](_0x17d10e)||(_0x22e273=_unsupportedIterableToArray(_0x17d10e))||_0xee15c4&&_0x17d10e&&typeof _0x17d10e['length']===_0x21eba4(0x160)){if(_0x22e273)_0x17d10e=_0x22e273;var _0x21347c=0x0;return function(){var _0x2d22d8=_0x21eba4;if(_0x21347c>=_0x17d10e[_0x2d22d8(0x130)])return{'done':!![]};return{'done':![],'value':_0x17d10e[_0x21347c++]};};}throw new TypeError(_0x21eba4(0x151));}function _unsupportedIterableToArray(_0x17ada8,_0x198167){var _0x15b6f3=a114_0x22c085;if(!_0x17ada8)return;if(typeof _0x17ada8===_0x15b6f3(0x138))return _arrayLikeToArray(_0x17ada8,_0x198167);var _0xde4e8=Object[_0x15b6f3(0x163)][_0x15b6f3(0x15a)][_0x15b6f3(0x14f)](_0x17ada8)[_0x15b6f3(0x132)](0x8,-0x1);if(_0xde4e8===_0x15b6f3(0x134)&&_0x17ada8[_0x15b6f3(0x154)])_0xde4e8=_0x17ada8['constructor'][_0x15b6f3(0x166)];if(_0xde4e8===_0x15b6f3(0x14e)||_0xde4e8==='Set')return Array[_0x15b6f3(0x153)](_0x17ada8);if(_0xde4e8===_0x15b6f3(0x13d)||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[_0x15b6f3(0x155)](_0xde4e8))return _arrayLikeToArray(_0x17ada8,_0x198167);}function _arrayLikeToArray(_0x247f0f,_0x33c658){var _0xc65d90=a114_0x22c085;if(_0x33c658==null||_0x33c658>_0x247f0f[_0xc65d90(0x130)])_0x33c658=_0x247f0f['length'];for(var _0x59f209=0x0,_0xd6e7b6=new Array(_0x33c658);_0x59f209<_0x33c658;_0x59f209++){_0xd6e7b6[_0x59f209]=_0x247f0f[_0x59f209];}return _0xd6e7b6;}function a114_0x2203(_0x3d1711,_0x5758a9){var _0x24d446=a114_0x24d4();return a114_0x2203=function(_0x220345,_0x239904){_0x220345=_0x220345-0x12c;var _0x2dd9c5=_0x24d446[_0x220345];return _0x2dd9c5;},a114_0x2203(_0x3d1711,_0x5758a9);}var validateTrezorInputs=function validateTrezorInputs(_0x4700ea,_0x5a6e70){var _0x2b13d0=a114_0x22c085,_0x1df926=_0x4700ea[_0x2b13d0(0x162)](_index[_0x2b13d0(0x135)])[_0x2b13d0(0x162)](_index[_0x2b13d0(0x142)][_0x2b13d0(0x152)](null,_0x5a6e70[_0x2b13d0(0x144)]));for(var _0x59e5fe=_createForOfIteratorHelperLoose(_0x1df926),_0x558a96;!(_0x558a96=_0x59e5fe())[_0x2b13d0(0x15f)];){var _0x47efef=_0x558a96[_0x2b13d0(0x13b)];(0x0,_pathUtils[_0x2b13d0(0x158)])(_0x47efef[_0x2b13d0(0x14a)]);var _0x141f65=(0x0,_pathUtils[_0x2b13d0(0x161)])(_0x47efef[_0x2b13d0(0x14a)]);(0x0,_paramsValidator[_0x2b13d0(0x150)])(_0x47efef,[{'name':_0x2b13d0(0x141),'type':_0x2b13d0(0x138),'obligatory':!![]},{'name':_0x2b13d0(0x131),'type':_0x2b13d0(0x160),'obligatory':!![]},{'name':_0x2b13d0(0x143),'type':_0x2b13d0(0x138)},{'name':_0x2b13d0(0x136),'type':_0x2b13d0(0x138),'obligatory':_0x141f65},{'name':_0x2b13d0(0x13c),'type':_0x2b13d0(0x160)},{'name':'multisig','type':'object'}]);}return _0x1df926;};exports[a114_0x22c085(0x12d)]=validateTrezorInputs;var enhanceTrezorInputs=function enhanceTrezorInputs(_0x9a6a3e,_0xb2238a){var _0x4eff1b=a114_0x22c085;_0x9a6a3e[_0x4eff1b(0x15c)](function(_0x2638d0){var _0x55afec=_0x4eff1b;if(!_0x2638d0[_0x55afec(0x136)]){console[_0x55afec(0x145)]('OneKeyConnect.singTransaction\x20deprecation:\x20missing\x20input\x20amount.');var _0x4d27f9=_0xb2238a['find'](function(_0x1d6232){var _0xb3cf22=_0x55afec;return _0x1d6232['tx'][_0xb3cf22(0x167)]===_0x2638d0['prev_hash'];});_0x4d27f9&&_0x4d27f9[_0x55afec(0x13f)]===_0x55afec(0x147)&&(_0x2638d0[_0x55afec(0x136)]=_0x4d27f9['tx'][_0x55afec(0x13a)][_0x2638d0['prev_index']]['value']);}});};exports[a114_0x22c085(0x139)]=enhanceTrezorInputs;var inputToHD=function inputToHD(_0x5e8e93){var _0x264ef4=a114_0x22c085;return{'hash':(0x0,_bufferUtils[_0x264ef4(0x12e)])(Buffer[_0x264ef4(0x153)](_0x5e8e93[_0x264ef4(0x141)],_0x264ef4(0x164))),'index':_0x5e8e93[_0x264ef4(0x131)],'path':_0x5e8e93[_0x264ef4(0x14a)],'amount':typeof _0x5e8e93['amount']===_0x264ef4(0x160)?_0x5e8e93['amount'][_0x264ef4(0x15a)]():_0x5e8e93[_0x264ef4(0x136)],'segwit':(0x0,_pathUtils[_0x264ef4(0x161)])(_0x5e8e93[_0x264ef4(0x14a)])};};exports[a114_0x22c085(0x14d)]=inputToHD;var inputToTrezor=function inputToTrezor(_0x5303cd,_0x45f601){var _0x4b0ad4=a114_0x22c085,_0x2c6492=_0x5303cd[_0x4b0ad4(0x159)],_0x3bf5ca=_0x5303cd['index'],_0x42c26a=_0x5303cd['path'],_0x564996=_0x5303cd[_0x4b0ad4(0x136)];return{'address_n':_0x42c26a,'prev_index':_0x3bf5ca,'prev_hash':(0x0,_bufferUtils[_0x4b0ad4(0x12e)])(_0x2c6492)['toString'](_0x4b0ad4(0x164)),'script_type':(0x0,_pathUtils[_0x4b0ad4(0x149)])(_0x42c26a),'amount':_0x564996,'sequence':_0x45f601};};exports[a114_0x22c085(0x157)]=inputToTrezor;