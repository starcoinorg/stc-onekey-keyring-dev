'use strict';var a124_0x2cfa46=a124_0x3ccd;(function(_0x5ec3b0,_0x3bdb18){var _0x4eebf6=a124_0x3ccd,_0x4e7561=_0x5ec3b0();while(!![]){try{var _0x3ce71c=-parseInt(_0x4eebf6(0x1b8))/0x1+parseInt(_0x4eebf6(0x1fb))/0x2*(parseInt(_0x4eebf6(0x1af))/0x3)+parseInt(_0x4eebf6(0x168))/0x4*(-parseInt(_0x4eebf6(0x164))/0x5)+parseInt(_0x4eebf6(0x1ac))/0x6*(parseInt(_0x4eebf6(0x172))/0x7)+parseInt(_0x4eebf6(0x193))/0x8+parseInt(_0x4eebf6(0x209))/0x9+parseInt(_0x4eebf6(0x1df))/0xa*(-parseInt(_0x4eebf6(0x15b))/0xb);if(_0x3ce71c===_0x3bdb18)break;else _0x4e7561['push'](_0x4e7561['shift']());}catch(_0x3dcd12){_0x4e7561['push'](_0x4e7561['shift']());}}}(a124_0x3c16,0xbcebc));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a124_0x2cfa46(0x1dd)]=!![],exports['default']=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_assertThisInitialized2=_interopRequireDefault(require('@babel/runtime/helpers/assertThisInitialized')),_inheritsLoose2=_interopRequireDefault(require('@babel/runtime/helpers/inheritsLoose')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_events=_interopRequireDefault(require('events')),_DeviceCommands=_interopRequireDefault(require('./DeviceCommands')),_constants=require('../constants'),_deferred=require('../utils/deferred'),_DataManager=_interopRequireDefault(require('../data/DataManager')),_CoinInfo=require('../data/CoinInfo'),_FirmwareInfo=require('../data/FirmwareInfo'),_BLEFirmwareInfo=require('../data/BLEFirmwareInfo'),_deviceFeaturesUtils=require('../utils/deviceFeaturesUtils'),_versionUtils=require('../utils/versionUtils'),_debug=_interopRequireWildcard(require('../utils/debug'));function _getRequireWildcardCache(_0x45ca64){if(typeof WeakMap!=='function')return null;var _0x7468ce=new WeakMap(),_0x2ed4c3=new WeakMap();return(_getRequireWildcardCache=function _0xbc56cd(_0x5dba59){return _0x5dba59?_0x2ed4c3:_0x7468ce;})(_0x45ca64);}function _interopRequireWildcard(_0x2629f0,_0x25ebf2){var _0x17121e=a124_0x2cfa46;if(!_0x25ebf2&&_0x2629f0&&_0x2629f0[_0x17121e(0x1dd)])return _0x2629f0;if(_0x2629f0===null||typeof _0x2629f0!=='object'&&typeof _0x2629f0!==_0x17121e(0x173))return{'default':_0x2629f0};var _0x1bf425=_getRequireWildcardCache(_0x25ebf2);if(_0x1bf425&&_0x1bf425[_0x17121e(0x151)](_0x2629f0))return _0x1bf425['get'](_0x2629f0);var _0x5e7429={},_0x1bfc76=Object[_0x17121e(0x198)]&&Object[_0x17121e(0x19d)];for(var _0x5e282d in _0x2629f0){if(_0x5e282d!==_0x17121e(0x18e)&&Object[_0x17121e(0x17c)]['hasOwnProperty'][_0x17121e(0x1b4)](_0x2629f0,_0x5e282d)){var _0x186310=_0x1bfc76?Object[_0x17121e(0x19d)](_0x2629f0,_0x5e282d):null;_0x186310&&(_0x186310[_0x17121e(0x20f)]||_0x186310['set'])?Object['defineProperty'](_0x5e7429,_0x5e282d,_0x186310):_0x5e7429[_0x5e282d]=_0x2629f0[_0x5e282d];}}return _0x5e7429[_0x17121e(0x18e)]=_0x2629f0,_0x1bf425&&_0x1bf425[_0x17121e(0x15d)](_0x2629f0,_0x5e7429),_0x5e7429;}function ownKeys(_0x1dab72,_0x56465e){var _0x33c7c9=a124_0x2cfa46,_0x4dc97f=Object[_0x33c7c9(0x194)](_0x1dab72);if(Object[_0x33c7c9(0x1f1)]){var _0x148ef8=Object[_0x33c7c9(0x1f1)](_0x1dab72);_0x56465e&&(_0x148ef8=_0x148ef8['filter'](function(_0x9406ab){var _0x29151f=_0x33c7c9;return Object[_0x29151f(0x19d)](_0x1dab72,_0x9406ab)[_0x29151f(0x17f)];})),_0x4dc97f[_0x33c7c9(0x1b5)]['apply'](_0x4dc97f,_0x148ef8);}return _0x4dc97f;}function a124_0x3ccd(_0x55c1ff,_0x5039d6){var _0x3c1608=a124_0x3c16();return a124_0x3ccd=function(_0x3ccd85,_0x5dfa79){_0x3ccd85=_0x3ccd85-0x14b;var _0x34d2b7=_0x3c1608[_0x3ccd85];return _0x34d2b7;},a124_0x3ccd(_0x55c1ff,_0x5039d6);}function _objectSpread(_0x345176){var _0x7f8e38=a124_0x2cfa46;for(var _0x8a2d0c=0x1;_0x8a2d0c<arguments['length'];_0x8a2d0c++){var _0x197685=arguments[_0x8a2d0c]!=null?arguments[_0x8a2d0c]:{};if(_0x8a2d0c%0x2)ownKeys(Object(_0x197685),!![])[_0x7f8e38(0x1cd)](function(_0x5552ea){(0x0,_defineProperty2['default'])(_0x345176,_0x5552ea,_0x197685[_0x5552ea]);});else Object[_0x7f8e38(0x183)]?Object[_0x7f8e38(0x1f6)](_0x345176,Object[_0x7f8e38(0x183)](_0x197685)):ownKeys(Object(_0x197685))['forEach'](function(_0x4c296c){Object['defineProperty'](_0x345176,_0x4c296c,Object['getOwnPropertyDescriptor'](_0x197685,_0x4c296c));});}return _0x345176;}var _log=(0x0,_debug[a124_0x2cfa46(0x1d9)])('Device'),parseRunOptions=function parseRunOptions(_0x4b358a){if(!_0x4b358a)_0x4b358a={};return _0x4b358a;},Device=function(_0x3bf074){var _0x58143e=a124_0x2cfa46;(0x0,_inheritsLoose2['default'])(_0xbdcd5e,_0x3bf074);function _0xbdcd5e(_0x50230d,_0xac59f1){var _0x111442=a124_0x3ccd,_0xac4559;return _0xac4559=_0x3bf074[_0x111442(0x1b4)](this)||this,(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x154),![]),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x203),{}),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x176),![]),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x178),![]),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x1e2),![]),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2['default'])(_0xac4559),_0x111442(0x215),0x0),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x1c0),[]),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),'externalState',[]),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2['default'])(_0xac4559),_0x111442(0x16d),{}),(0x0,_defineProperty2[_0x111442(0x18e)])((0x0,_assertThisInitialized2[_0x111442(0x18e)])(_0xac4559),_0x111442(0x14f),[]),_log[_0x111442(0x1d8)]=_DataManager[_0x111442(0x18e)][_0x111442(0x191)](_0x111442(0x1a8)),_0xac4559['transport']=_0x50230d,_0xac4559[_0x111442(0x214)]=_0xac59f1,_0xac4559[_0x111442(0x20c)]=_0xac59f1[_0x111442(0x1a8)],_0xac4559[_0x111442(0x1e9)]=(0x0,_deferred[_0x111442(0x20d)])(),_0xac4559;}_0xbdcd5e[_0x58143e(0x1a5)]=(function(){var _0x1716db=_0x58143e,_0x3de63f=(0x0,_asyncToGenerator2['default'])(_regenerator['default'][_0x1716db(0x1c1)](function _0x333f74(_0x43bef3,_0x36db93){var _0x5b01e4=_0x1716db,_0x14ad65,_0x5d05fd;return _regenerator['default'][_0x5b01e4(0x1d1)](function _0x4c91d0(_0x830be9){var _0x888a09=_0x5b01e4;while(0x1){switch(_0x830be9[_0x888a09(0x211)]=_0x830be9['next']){case 0x0:_0x14ad65=_objectSpread(_objectSpread({},_0x36db93),{},{'session':null}),_0x830be9[_0x888a09(0x211)]=0x1,_0x5d05fd=new _0xbdcd5e(_0x43bef3,_0x14ad65);return _0x830be9['abrupt']('return',_0x5d05fd);case 0x6:_0x830be9[_0x888a09(0x211)]=0x6,_0x830be9['t0']=_0x830be9[_0x888a09(0x1a4)](0x1),_log[_0x888a09(0x212)](_0x888a09(0x1bf),_0x830be9['t0']);throw _0x830be9['t0'];case 0xa:case _0x888a09(0x188):return _0x830be9[_0x888a09(0x1f5)]();}}},_0x333f74,null,[[0x1,0x6]]);}));function _0x36bb47(_0x5ea964,_0x31e3b2){var _0x534f69=_0x1716db;return _0x3de63f[_0x534f69(0x213)](this,arguments);}return _0x36bb47;}()),_0xbdcd5e[_0x58143e(0x16e)]=function _0x1add43(_0x138d7c,_0x69ebd1){return new _0xbdcd5e(_0x138d7c,_0x69ebd1);};var _0x178989=_0xbdcd5e[_0x58143e(0x17c)];return _0x178989['acquire']=(function(){var _0x8dd44f=_0x58143e,_0x2ee3ed=(0x0,_asyncToGenerator2[_0x8dd44f(0x18e)])(_regenerator[_0x8dd44f(0x18e)][_0x8dd44f(0x1c1)](function _0x48e55d(){var _0x365d2b=_0x8dd44f,_0x21f925;return _regenerator['default'][_0x365d2b(0x1d1)](function _0x1d30e1(_0x241412){var _0x4a46aa=_0x365d2b;while(0x1){switch(_0x241412[_0x4a46aa(0x211)]=_0x241412[_0x4a46aa(0x161)]){case 0x0:this[_0x4a46aa(0x203)][_constants['DEVICE'][_0x4a46aa(0x14c)]]=(0x0,_deferred['create'])(),this['deferredActions'][_constants[_0x4a46aa(0x18a)][_0x4a46aa(0x1fd)]]=(0x0,_deferred['create'])(),_0x241412[_0x4a46aa(0x211)]=0x2,_0x241412['next']=0x5;return this[_0x4a46aa(0x1b3)][_0x4a46aa(0x192)]({'path':this['originalDescriptor'][_0x4a46aa(0x182)],'previous':this['originalDescriptor'][_0x4a46aa(0x1d7)]},![]);case 0x5:_0x21f925=_0x241412[_0x4a46aa(0x1db)],_log[_0x4a46aa(0x1b2)](_0x4a46aa(0x14e),_0x21f925),this[_0x4a46aa(0x1d0)]=_0x21f925,this['deferredActions'][_constants[_0x4a46aa(0x18a)]['ACQUIRED']][_0x4a46aa(0x195)](),delete this[_0x4a46aa(0x203)][_constants[_0x4a46aa(0x18a)][_0x4a46aa(0x1fd)]];this[_0x4a46aa(0x175)]&&this[_0x4a46aa(0x175)][_0x4a46aa(0x200)]();this[_0x4a46aa(0x175)]=new _DeviceCommands[(_0x4a46aa(0x18e))](this,this['transport'],_0x21f925),this[_0x4a46aa(0x203)][_constants[_0x4a46aa(0x18a)][_0x4a46aa(0x1b1)]]=(0x0,_deferred[_0x4a46aa(0x20d)])(),_0x241412[_0x4a46aa(0x161)]=0x19;break;case 0xf:_0x241412[_0x4a46aa(0x211)]=0xf,_0x241412['t0']=_0x241412[_0x4a46aa(0x1a4)](0x2),this[_0x4a46aa(0x203)][_constants[_0x4a46aa(0x18a)]['ACQUIRED']][_0x4a46aa(0x195)](),delete this[_0x4a46aa(0x203)][_constants[_0x4a46aa(0x18a)][_0x4a46aa(0x1fd)]];if(!this[_0x4a46aa(0x1ed)]){_0x241412['next']=0x17;break;}this['runPromise'][_0x4a46aa(0x15c)](_0x241412['t0']),_0x241412[_0x4a46aa(0x161)]=0x18;break;case 0x17:throw _0x241412['t0'];case 0x18:this[_0x4a46aa(0x1ed)]=null;case 0x19:case _0x4a46aa(0x188):return _0x241412['stop']();}}},_0x48e55d,this,[[0x2,0xf]]);}));function _0x56f74d(){return _0x2ee3ed['apply'](this,arguments);}return _0x56f74d;}()),_0x178989[_0x58143e(0x187)]=(function(){var _0x277d38=_0x58143e,_0xd51f62=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x277d38(0x18e)][_0x277d38(0x1c1)](function _0x41e32b(){var _0x42580a=_0x277d38;return _regenerator[_0x42580a(0x18e)]['wrap'](function _0x467144(_0x105085){var _0x2992a0=_0x42580a;while(0x1){switch(_0x105085['prev']=_0x105085['next']){case 0x0:if(!(this[_0x2992a0(0x158)]()&&!this[_0x2992a0(0x1e2)]&&this[_0x2992a0(0x1d0)])){_0x105085[_0x2992a0(0x161)]=0x16;break;}if(!this[_0x2992a0(0x175)]){_0x105085[_0x2992a0(0x161)]=0xc;break;}this['commands'][_0x2992a0(0x200)]();if(!this[_0x2992a0(0x175)]['callPromise']){_0x105085[_0x2992a0(0x161)]=0xc;break;}_0x105085['prev']=0x4,_0x105085[_0x2992a0(0x161)]=0x7;return this[_0x2992a0(0x175)][_0x2992a0(0x181)];case 0x7:_0x105085[_0x2992a0(0x161)]=0xc;break;case 0x9:_0x105085[_0x2992a0(0x211)]=0x9,_0x105085['t0']=_0x105085['catch'](0x4),this[_0x2992a0(0x175)][_0x2992a0(0x181)]=undefined;case 0xc:_0x105085[_0x2992a0(0x211)]=0xc,_0x105085[_0x2992a0(0x161)]=0xf;return this['transport'][_0x2992a0(0x187)](this['activitySessionID'],![],![]);case 0xf:if(!this[_0x2992a0(0x203)][_constants[_0x2992a0(0x18a)]['RELEASE']]){_0x105085[_0x2992a0(0x161)]=0x12;break;}_0x105085[_0x2992a0(0x161)]=0x12;return this['deferredActions'][_constants[_0x2992a0(0x18a)]['RELEASE']]['promise'];case 0x12:_0x105085[_0x2992a0(0x161)]=0x16;break;case 0x14:_0x105085['prev']=0x14,_0x105085['t1']=_0x105085[_0x2992a0(0x1a4)](0xc);case 0x16:case _0x2992a0(0x188):return _0x105085['stop']();}}},_0x41e32b,this,[[0x4,0x9],[0xc,0x14]]);}));function _0x1459c4(){var _0x537577=_0x277d38;return _0xd51f62[_0x537577(0x213)](this,arguments);}return _0x1459c4;}()),_0x178989[_0x58143e(0x1c8)]=(function(){var _0x3bd7d2=_0x58143e,_0x4fa3ee=(0x0,_asyncToGenerator2[_0x3bd7d2(0x18e)])(_regenerator[_0x3bd7d2(0x18e)][_0x3bd7d2(0x1c1)](function _0x43b2df(){var _0x23556c=_0x3bd7d2;return _regenerator[_0x23556c(0x18e)][_0x23556c(0x1d1)](function _0x3e61d5(_0x2a62a8){var _0x43496d=_0x23556c;while(0x1){switch(_0x2a62a8['prev']=_0x2a62a8['next']){case 0x0:this[_0x43496d(0x14d)](),this[_0x43496d(0x1ed)]=null,_0x2a62a8['next']=0x4;return this[_0x43496d(0x187)]();case 0x4:case _0x43496d(0x188):return _0x2a62a8[_0x43496d(0x1f5)]();}}},_0x43b2df,this);}));function _0x4925fb(){var _0x394f6d=_0x3bd7d2;return _0x4fa3ee[_0x394f6d(0x213)](this,arguments);}return _0x4925fb;}()),_0x178989[_0x58143e(0x1ae)]=(function(){var _0x289a44=(0x0,_asyncToGenerator2['default'])(_regenerator['default']['mark'](function _0xa51048(_0x2d4522,_0x4219c0){var _0x3b8ba4=a124_0x3ccd;return _regenerator[_0x3b8ba4(0x18e)][_0x3b8ba4(0x1d1)](function _0x57a524(_0x353be1){var _0x1e36a8=_0x3b8ba4;while(0x1){switch(_0x353be1[_0x1e36a8(0x211)]=_0x353be1['next']){case 0x0:if(!this['runPromise']){_0x353be1[_0x1e36a8(0x161)]=0x3;break;}_log[_0x1e36a8(0x1a8)](_0x1e36a8(0x1e6));throw _constants[_0x1e36a8(0x1e0)]['TypedError'](_0x1e36a8(0x18b));case 0x3:_0x4219c0=parseRunOptions(_0x4219c0),this['runPromise']=(0x0,_deferred[_0x1e36a8(0x20d)])(this[_0x1e36a8(0x1ba)][_0x1e36a8(0x1f2)](this,_0x2d4522,_0x4219c0));return _0x353be1[_0x1e36a8(0x1b9)](_0x1e36a8(0x150),this[_0x1e36a8(0x1ed)]['promise']);case 0x6:case _0x1e36a8(0x188):return _0x353be1[_0x1e36a8(0x1f5)]();}}},_0xa51048,this);}));function _0x34a339(_0x40009e,_0x4d5d68){var _0x1158f7=a124_0x3ccd;return _0x289a44[_0x1158f7(0x213)](this,arguments);}return _0x34a339;}()),_0x178989['override']=(function(){var _0x3b8a8b=_0x58143e,_0x4a37f1=(0x0,_asyncToGenerator2[_0x3b8a8b(0x18e)])(_regenerator['default'][_0x3b8a8b(0x1c1)](function _0x4f0476(_0x53141e){var _0x2455cd=_0x3b8a8b;return _regenerator[_0x2455cd(0x18e)][_0x2455cd(0x1d1)](function _0x32b07a(_0xaf79ca){var _0x40b3e2=_0x2455cd;while(0x1){switch(_0xaf79ca[_0x40b3e2(0x211)]=_0xaf79ca[_0x40b3e2(0x161)]){case 0x0:if(!this['deferredActions'][_constants['DEVICE'][_0x40b3e2(0x14c)]]){_0xaf79ca[_0x40b3e2(0x161)]=0x3;break;}_0xaf79ca[_0x40b3e2(0x161)]=0x3;return this[_0x40b3e2(0x203)][_constants['DEVICE'][_0x40b3e2(0x14c)]][_0x40b3e2(0x19f)];case 0x3:this[_0x40b3e2(0x1ed)]&&(this['runPromise']['reject'](_0x53141e),this['runPromise']=null);if(!(!this['keepSession']&&this['deferredActions'][_constants[_0x40b3e2(0x18a)]['RELEASE']])){_0xaf79ca[_0x40b3e2(0x161)]=0x7;break;}_0xaf79ca[_0x40b3e2(0x161)]=0x7;return this['deferredActions'][_constants[_0x40b3e2(0x18a)][_0x40b3e2(0x1b1)]]['promise'];case 0x7:case _0x40b3e2(0x188):return _0xaf79ca[_0x40b3e2(0x1f5)]();}}},_0x4f0476,this);}));function _0x44dc6b(_0x315f28){var _0x3a1680=_0x3b8a8b;return _0x4a37f1[_0x3a1680(0x213)](this,arguments);}return _0x44dc6b;}()),_0x178989[_0x58143e(0x18c)]=function _0x1602e3(_0x2600a4){var _0x563801=_0x58143e;_log['debug']('+++++interruptionFromUser'),this[_0x563801(0x175)]&&(this['commands'][_0x563801(0x162)](),this[_0x563801(0x175)][_0x563801(0x200)]()),this[_0x563801(0x1ed)]&&(this['runPromise']['reject'](_0x2600a4),this['runPromise']=null);},_0x178989[_0x58143e(0x19b)]=function _0x197c25(){var _0x35b163=_0x58143e;_log['debug'](_0x35b163(0x1bc)),this[_0x35b163(0x175)]&&this[_0x35b163(0x175)][_0x35b163(0x200)](),this[_0x35b163(0x1ed)]&&(this[_0x35b163(0x1ed)]['reject'](_constants[_0x35b163(0x1e0)][_0x35b163(0x1da)](_0x35b163(0x157))),this[_0x35b163(0x1ed)]=null);},_0x178989[_0x58143e(0x1ba)]=(function(){var _0x597282=_0x58143e,_0x7e344f=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x597282(0x18e)]['mark'](function _0x136a23(_0x465377,_0xa19ee2){var _0x2dd405=_0x597282;return _regenerator[_0x2dd405(0x18e)][_0x2dd405(0x1d1)](function _0x3582ef(_0x170362){var _0x5cc561=_0x2dd405;while(0x1){switch(_0x170362[_0x5cc561(0x211)]=_0x170362[_0x5cc561(0x161)]){case 0x0:if(!(!this[_0x5cc561(0x158)]()||this[_0x5cc561(0x175)][_0x5cc561(0x1ef)]||!this[_0x5cc561(0x197)]())){_0x170362[_0x5cc561(0x161)]=0x14;break;}_0x170362[_0x5cc561(0x161)]=0x3;return this[_0x5cc561(0x192)]();case 0x3:_0x170362['prev']=0x3;if(!_0x465377){_0x170362[_0x5cc561(0x161)]=0x9;break;}_0x170362[_0x5cc561(0x161)]=0x7;return this['initialize'](!!_0xa19ee2['useEmptyPassphrase']);case 0x7:_0x170362[_0x5cc561(0x161)]=0xb;break;case 0x9:_0x170362[_0x5cc561(0x161)]=0xb;return Promise['race']([this['getFeatures'](),new Promise(function(_0x5472cf,_0x56e508){return setTimeout(function(){var _0x2de6bc=a124_0x3ccd;return _0x56e508(new Error(_0x2de6bc(0x1ad)));},0xbb8);})]);case 0xb:_0x170362['next']=0x14;break;case 0xd:_0x170362[_0x5cc561(0x211)]=0xd,_0x170362['t0']=_0x170362['catch'](0x3),this[_0x5cc561(0x178)]=!![],_0x170362[_0x5cc561(0x161)]=0x12;return this[_0x5cc561(0x203)][_constants[_0x5cc561(0x18a)][_0x5cc561(0x14c)]][_0x5cc561(0x19f)];case 0x12:this[_0x5cc561(0x1ed)]=null;return _0x170362[_0x5cc561(0x1b9)](_0x5cc561(0x150),Promise[_0x5cc561(0x15c)](_constants[_0x5cc561(0x1e0)][_0x5cc561(0x1da)](_0x5cc561(0x1c2),'Initialize\x20failed:\x20'+_0x170362['t0'][_0x5cc561(0x19e)]+_0x5cc561(0x208)+_0x170362['t0'][_0x5cc561(0x1cf)])));case 0x14:_0xa19ee2[_0x5cc561(0x1e2)]&&(this['keepSession']=!![]);_0x170362[_0x5cc561(0x161)]=0x17;return this[_0x5cc561(0x203)][_constants[_0x5cc561(0x18a)][_0x5cc561(0x14c)]][_0x5cc561(0x19f)];case 0x17:if(!_0x465377){_0x170362['next']=0x1a;break;}_0x170362[_0x5cc561(0x161)]=0x1a;return _0x465377();case 0x1a:if(!(this[_0x5cc561(0x176)]&&this[_0x5cc561(0x1c7)]&&!_0xa19ee2['skipFinalReload'])){_0x170362[_0x5cc561(0x161)]=0x1d;break;}_0x170362['next']=0x1d;return this[_0x5cc561(0x1e3)]();case 0x1d:if(!(!this['keepSession']&&typeof _0xa19ee2[_0x5cc561(0x1e2)]!=='boolean'||_0xa19ee2['keepSession']===![])){_0x170362[_0x5cc561(0x161)]=0x21;break;}this[_0x5cc561(0x1e2)]=![],_0x170362[_0x5cc561(0x161)]=0x21;return this['release']();case 0x21:this[_0x5cc561(0x1ed)]&&this[_0x5cc561(0x1ed)][_0x5cc561(0x195)]();this[_0x5cc561(0x1ed)]=null;!this[_0x5cc561(0x176)]&&(this[_0x5cc561(0x176)]=!![],this['firstRunPromise'][_0x5cc561(0x195)](!![]));case 0x24:case _0x5cc561(0x188):return _0x170362[_0x5cc561(0x1f5)]();}}},_0x136a23,this,[[0x3,0xd]]);}));function _0x207f93(_0x3e12fa,_0x1618cd){var _0x4a3d3e=_0x597282;return _0x7e344f[_0x4a3d3e(0x213)](this,arguments);}return _0x207f93;}()),_0x178989[_0x58143e(0x1f0)]=function _0x23b6ae(){var _0x4de895=_0x58143e;return this[_0x4de895(0x175)];},_0x178989[_0x58143e(0x1ca)]=function _0x263d37(_0x5a863d){var _0x4e693a=_0x58143e;this[_0x4e693a(0x215)]!==_0x5a863d&&(this[_0x4e693a(0x1e2)]&&(this[_0x4e693a(0x1d0)]=null,this[_0x4e693a(0x1e2)]=![]),this['isT1']()&&this['useLegacyPassphrase']()&&this['setInternalState'](undefined)),this['instance']=_0x5a863d;},_0x178989[_0x58143e(0x1e1)]=function _0x1ca1e7(){var _0x12be41=_0x58143e;return this[_0x12be41(0x215)];},_0x178989[_0x58143e(0x201)]=function _0xf2e03a(_0x41d263){var _0x15353b=_0x58143e;typeof _0x41d263!==_0x15353b(0x17e)?delete this[_0x15353b(0x1c0)][this[_0x15353b(0x215)]]:this[_0x15353b(0x1c0)][this[_0x15353b(0x215)]]=_0x41d263;},_0x178989[_0x58143e(0x20a)]=function _0x58ce64(){var _0x197036=_0x58143e;return this[_0x197036(0x1c0)][this['instance']];},_0x178989[_0x58143e(0x180)]=function _0x39a5f6(_0x3c4dd3){var _0x516b8b=_0x58143e;typeof _0x3c4dd3!==_0x516b8b(0x17e)?(delete this[_0x516b8b(0x1c0)][this[_0x516b8b(0x215)]],delete this['externalState'][this['instance']]):this[_0x516b8b(0x15a)][this[_0x516b8b(0x215)]]=_0x3c4dd3;},_0x178989[_0x58143e(0x197)]=function _0x48fd7f(){var _0x125861=_0x58143e;return this['externalState'][this[_0x125861(0x215)]];},_0x178989[_0x58143e(0x18d)]=(function(){var _0xd51bd=_0x58143e,_0x22fca9=(0x0,_asyncToGenerator2[_0xd51bd(0x18e)])(_regenerator[_0xd51bd(0x18e)]['mark'](function _0x2cefeb(_0x43c8f9){var _0x332f68=_0xd51bd,_0x4a4c8c,_0x4cc93e,_0x53dcf7,_0xec36da;return _regenerator['default'][_0x332f68(0x1d1)](function _0x329175(_0x133d13){var _0x5289ee=_0x332f68;while(0x1){switch(_0x133d13[_0x5289ee(0x211)]=_0x133d13[_0x5289ee(0x161)]){case 0x0:if(this[_0x5289ee(0x1c7)]){_0x133d13[_0x5289ee(0x161)]=0x2;break;}return _0x133d13[_0x5289ee(0x1b9)]('return');case 0x2:_0x4a4c8c=this[_0x5289ee(0x1cc)](_0x43c8f9),_0x4cc93e=_0x4a4c8c?undefined:this[_0x5289ee(0x197)](),_0x133d13[_0x5289ee(0x161)]=0x6;return this[_0x5289ee(0x175)][_0x5289ee(0x1a1)](_0x43c8f9);case 0x6:_0x53dcf7=_0x133d13['sent'],_0xec36da=_0x53dcf7+'@'+(this[_0x5289ee(0x1c7)][_0x5289ee(0x15f)]||_0x5289ee(0x15f))+':'+this[_0x5289ee(0x215)];!this[_0x5289ee(0x1e8)]()&&this['features']['session_id']&&this[_0x5289ee(0x201)](this['features'][_0x5289ee(0x202)]);if(!(_0x4cc93e&&_0x4cc93e!==_0xec36da)){_0x133d13[_0x5289ee(0x161)]=0xb;break;}return _0x133d13[_0x5289ee(0x1b9)]('return',_0xec36da);case 0xb:!_0x4cc93e&&this[_0x5289ee(0x180)](_0xec36da);case 0xc:case _0x5289ee(0x188):return _0x133d13[_0x5289ee(0x1f5)]();}}},_0x2cefeb,this);}));function _0x55af7b(_0x53a9a4){var _0xbad6ca=_0xd51bd;return _0x22fca9[_0xbad6ca(0x213)](this,arguments);}return _0x55af7b;}()),_0x178989['useLegacyPassphrase']=function _0x573ab9(){return![];},_0x178989[_0x58143e(0x167)]=(function(){var _0x5b9a96=_0x58143e,_0x8dfc1b=(0x0,_asyncToGenerator2[_0x5b9a96(0x18e)])(_regenerator[_0x5b9a96(0x18e)][_0x5b9a96(0x1c1)](function _0x2d2ed1(_0x11733a){var _0x2372bb,_0x3eae10,_0x4f5939,_0x4ce7d6,_0x54f44;return _regenerator['default']['wrap'](function _0x25308d(_0x4960f7){var _0x2c6acd=a124_0x3ccd;while(0x1){switch(_0x4960f7[_0x2c6acd(0x211)]=_0x4960f7[_0x2c6acd(0x161)]){case 0x0:this[_0x2c6acd(0x1c7)]&&(_0x3eae10=this[_0x2c6acd(0x1e8)](),_0x4f5939=this['getInternalState'](),_0x2372bb={},!_0x3eae10&&_0x4f5939&&(_0x2372bb[_0x2c6acd(0x202)]=_0x4f5939),_0x3eae10&&!this[_0x2c6acd(0x15e)]()&&(_0x2372bb[_0x2c6acd(0x1ea)]=_0x4f5939,_0x11733a&&(_0x2372bb[_0x2c6acd(0x18f)]=_0x11733a,_0x2372bb[_0x2c6acd(0x1ea)]=null)));_0x4960f7['next']=0x3;return this['commands'][_0x2c6acd(0x165)](_0x2c6acd(0x210),'Features',_0x2372bb);case 0x3:_0x4ce7d6=_0x4960f7[_0x2c6acd(0x1db)],_0x54f44=_0x4ce7d6[_0x2c6acd(0x19e)],this[_0x2c6acd(0x19a)](_0x54f44);case 0x6:case'end':return _0x4960f7[_0x2c6acd(0x1f5)]();}}},_0x2d2ed1,this);}));function _0x3b8c9a(_0x2798a8){var _0x391cf5=_0x5b9a96;return _0x8dfc1b[_0x391cf5(0x213)](this,arguments);}return _0x3b8c9a;}()),_0x178989[_0x58143e(0x1e3)]=(function(){var _0x374208=_0x58143e,_0x1d27e0=(0x0,_asyncToGenerator2[_0x374208(0x18e)])(_regenerator[_0x374208(0x18e)]['mark'](function _0x51bf29(){var _0xb93cf1=_0x374208,_0x48e3bd,_0x38dbba;return _regenerator['default'][_0xb93cf1(0x1d1)](function _0x1abbd1(_0x5274f0){var _0x56c3c2=_0xb93cf1;while(0x1){switch(_0x5274f0[_0x56c3c2(0x211)]=_0x5274f0['next']){case 0x0:_0x5274f0[_0x56c3c2(0x161)]=0x2;return this[_0x56c3c2(0x175)][_0x56c3c2(0x165)]('GetFeatures',_0x56c3c2(0x1fc),{});case 0x2:_0x48e3bd=_0x5274f0[_0x56c3c2(0x1db)],_0x38dbba=_0x48e3bd[_0x56c3c2(0x19e)],this[_0x56c3c2(0x19a)](_0x38dbba);case 0x5:case _0x56c3c2(0x188):return _0x5274f0[_0x56c3c2(0x1f5)]();}}},_0x51bf29,this);}));function _0x7c23ff(){var _0x22deb8=_0x374208;return _0x1d27e0[_0x22deb8(0x213)](this,arguments);}return _0x7c23ff;}()),_0x178989[_0x58143e(0x19a)]=function _0x488296(_0xf88644){var _0x17aa78=_0x58143e,_0x53b068=(0x0,_deviceFeaturesUtils['parseCapabilities'])(_0xf88644);_0xf88644[_0x17aa78(0x1cb)]=_0x53b068;var _0x5de9eb=[_0xf88644[_0x17aa78(0x204)],_0xf88644[_0x17aa78(0x1f9)],_0xf88644['patch_version']],_0x14c1b5=this[_0x17aa78(0x1c7)]&&this['features'][_0x17aa78(0x1cb)]&&this[_0x17aa78(0x1c7)]['capabilities'][_0x17aa78(0x16a)]('')!==_0x53b068[_0x17aa78(0x16a)]('');((0x0,_versionUtils[_0x17aa78(0x190)])(_0x5de9eb,this[_0x17aa78(0x1f8)]())!==0x0||_0x14c1b5)&&(this[_0x17aa78(0x16d)]=(0x0,_deviceFeaturesUtils[_0x17aa78(0x1e4)])(_0xf88644,(0x0,_CoinInfo[_0x17aa78(0x1fe)])(),_DataManager[_0x17aa78(0x18e)][_0x17aa78(0x1ce)]()[_0x17aa78(0x1dc)]),this[_0x17aa78(0x1bd)]=(0x0,_FirmwareInfo[_0x17aa78(0x1be)])(_0xf88644),this[_0x17aa78(0x1bb)]=(0x0,_FirmwareInfo[_0x17aa78(0x189)])(_0xf88644),this['bleFirmwareStatus']=(0x0,_BLEFirmwareInfo[_0x17aa78(0x196)])(_0xf88644),this[_0x17aa78(0x1f7)]=(0x0,_BLEFirmwareInfo[_0x17aa78(0x184)])(_0xf88644)),this[_0x17aa78(0x1c7)]&&this[_0x17aa78(0x1c7)][_0x17aa78(0x202)]&&!_0xf88644['session_id']&&(_0xf88644[_0x17aa78(0x202)]=this[_0x17aa78(0x1c7)][_0x17aa78(0x202)]),_0xf88644[_0x17aa78(0x171)]?_0xf88644[_0x17aa78(0x20b)]=typeof _0xf88644[_0x17aa78(0x20b)]===_0x17aa78(0x1f4)?_0xf88644[_0x17aa78(0x20b)]:_0xf88644['pin_cached']:_0xf88644[_0x17aa78(0x20b)]=!![],this[_0x17aa78(0x1c7)]=_0xf88644,this[_0x17aa78(0x154)]=![];},_0x178989[_0x58143e(0x16f)]=function _0x3c66da(){return this['features']===undefined;},_0x178989[_0x58143e(0x174)]=(function(){var _0x296bc2=_0x58143e,_0x1edf0d=(0x0,_asyncToGenerator2[_0x296bc2(0x18e)])(_regenerator['default'][_0x296bc2(0x1c1)](function _0x12236b(_0x3e735b){var _0x1d9358=_0x296bc2,_0x44ba96,_0xc8b8be,_0x5d9d35;return _regenerator[_0x1d9358(0x18e)][_0x1d9358(0x1d1)](function _0x56bd8b(_0x4813bd){var _0x33d742=_0x1d9358;while(0x1){switch(_0x4813bd[_0x33d742(0x211)]=_0x4813bd[_0x33d742(0x161)]){case 0x0:_0x44ba96=this[_0x33d742(0x214)][_0x33d742(0x1d7)],_0xc8b8be=_0x3e735b['session'],_log[_0x33d742(0x1a8)](_0x33d742(0x174),_0x33d742(0x1a3),_0x44ba96,'upcoming',_0xc8b8be,_0x33d742(0x16c),this[_0x33d742(0x1d0)]);if(!(!_0x44ba96&&!_0xc8b8be&&!this['activitySessionID'])){_0x4813bd[_0x33d742(0x161)]=0x5;break;}return _0x4813bd[_0x33d742(0x1b9)]('return');case 0x5:if(!this[_0x33d742(0x203)][_constants[_0x33d742(0x18a)][_0x33d742(0x1fd)]]){_0x4813bd[_0x33d742(0x161)]=0x8;break;}_0x4813bd[_0x33d742(0x161)]=0x8;return this[_0x33d742(0x203)][_constants[_0x33d742(0x18a)][_0x33d742(0x1fd)]][_0x33d742(0x19f)];case 0x8:!_0xc8b8be&&(this['listeners'](_constants[_0x33d742(0x18a)][_0x33d742(0x1fd)])[_0x33d742(0x1c6)]>0x0&&this[_0x33d742(0x16b)](_constants[_0x33d742(0x18a)][_0x33d742(0x1fd)]));_0x5d9d35=this[_0x33d742(0x175)]&&!this[_0x33d742(0x175)][_0x33d742(0x1ef)];!_0xc8b8be&&!_0x5d9d35?(_0x44ba96===this[_0x33d742(0x1d0)]?(_log[_0x33d742(0x1a8)]('RELEASED\x20BY\x20MYSELF'),this[_0x33d742(0x203)][_constants[_0x33d742(0x18a)][_0x33d742(0x1b1)]]&&(this['deferredActions'][_constants[_0x33d742(0x18a)][_0x33d742(0x1b1)]][_0x33d742(0x195)](),delete this['deferredActions'][_constants[_0x33d742(0x18a)]['RELEASE']]),this[_0x33d742(0x1d0)]=null):(_log[_0x33d742(0x1a8)](_0x33d742(0x1b6)),this['featuresNeedsReload']=!![]),this[_0x33d742(0x1e2)]=![]):_0xc8b8be===this[_0x33d742(0x1d0)]?(_log[_0x33d742(0x1a8)](_0x33d742(0x166)),this[_0x33d742(0x203)][_constants['DEVICE']['ACQUIRE']]&&this[_0x33d742(0x203)][_constants[_0x33d742(0x18a)][_0x33d742(0x14c)]][_0x33d742(0x195)]()):(_log['debug'](_0x33d742(0x1ff)),this[_0x33d742(0x19b)]());this['originalDescriptor']=_0x3e735b;case 0xc:case _0x33d742(0x188):return _0x4813bd[_0x33d742(0x1f5)]();}}},_0x12236b,this);}));function _0x58df12(_0x3afea5){var _0x2af46a=_0x296bc2;return _0x1edf0d[_0x2af46a(0x213)](this,arguments);}return _0x58df12;}()),_0x178989[_0x58143e(0x1e7)]=function _0x3515eb(){var _0x185b12=_0x58143e;_log['debug'](_0x185b12(0x156)),this['deferredActions'][_constants['DEVICE'][_0x185b12(0x1b1)]]&&(this[_0x185b12(0x203)][_constants[_0x185b12(0x18a)][_0x185b12(0x1b1)]][_0x185b12(0x195)](),delete this[_0x185b12(0x203)][_constants[_0x185b12(0x18a)][_0x185b12(0x1b1)]]),this[_0x185b12(0x18c)](_constants[_0x185b12(0x1e0)][_0x185b12(0x1da)](_0x185b12(0x1a7))),this[_0x185b12(0x1ed)]=null;},_0x178989[_0x58143e(0x20e)]=function _0x574b93(){var _0x530638=_0x58143e;return this['features']&&!!this[_0x530638(0x1c7)][_0x530638(0x1d2)];},_0x178989['isInitialized']=function _0x5c6737(){var _0x582275=_0x58143e;return this['features']&&!!this[_0x582275(0x1c7)][_0x582275(0x206)];},_0x178989[_0x58143e(0x1de)]=function _0x4b5972(){var _0x360127=_0x58143e;return this[_0x360127(0x1c7)]&&!!this['features']['no_backup'];},_0x178989['isInconsistent']=function _0x3d569e(){var _0x4e6046=_0x58143e;return this[_0x4e6046(0x178)];},_0x178989['getVersion']=function _0x49cef5(){var _0xe53cd5=_0x58143e;if(!this[_0xe53cd5(0x1c7)])return[];return[this[_0xe53cd5(0x1c7)][_0xe53cd5(0x204)],this[_0xe53cd5(0x1c7)][_0xe53cd5(0x1f9)],this[_0xe53cd5(0x1c7)][_0xe53cd5(0x1aa)]];},_0x178989[_0x58143e(0x19c)]=function _0x399ead(_0x27a1b0){var _0x5b0954=_0x58143e;if(!this[_0x5b0954(0x1c7)])return![];var _0x568e26=typeof _0x27a1b0===_0x5b0954(0x17e)?_0x27a1b0:_0x27a1b0[this['features'][_0x5b0954(0x204)]-0x1];return(0x0,_versionUtils[_0x5b0954(0x190)])(this[_0x5b0954(0x1f8)](),_0x568e26)>=0x0;},_0x178989[_0x58143e(0x1c5)]=function _0x1366b8(){var _0x2d1eaa=_0x58143e;return typeof this[_0x2d1eaa(0x214)][_0x2d1eaa(0x1d7)]===_0x2d1eaa(0x17e);},_0x178989[_0x58143e(0x158)]=function _0x295799(){var _0x4ee12=_0x58143e;return this[_0x4ee12(0x1c5)]()&&this[_0x4ee12(0x214)][_0x4ee12(0x1d7)]===this[_0x4ee12(0x1d0)];},_0x178989[_0x58143e(0x1eb)]=function _0x1e6a55(){var _0x144fae=_0x58143e;return this[_0x144fae(0x1c5)]()&&!this['isUsedHere']();},_0x178989[_0x58143e(0x1ec)]=function _0x2d693d(){var _0x4a9227=_0x58143e;return!!this[_0x4a9227(0x1ed)];},_0x178989[_0x58143e(0x1c9)]=function _0x1d5f58(){var _0x5141f4=_0x58143e;return this[_0x5141f4(0x176)];},_0x178989[_0x58143e(0x152)]=function _0x1d0a26(){var _0x453551=_0x58143e;return this[_0x453551(0x1e9)]['promise'];},_0x178989['getDevicePath']=function _0x1b8c1d(){var _0x2361a8=_0x58143e;return this[_0x2361a8(0x214)][_0x2361a8(0x182)];},_0x178989[_0x58143e(0x1a2)]=function _0x1a49ec(){var _0x2335f1=_0x58143e;if(this['isUnacquired']()||this[_0x2335f1(0x1eb)]()||this['featuresNeedsReload'])return!![];if(this[_0x2335f1(0x1c7)][_0x2335f1(0x1d2)]||!this[_0x2335f1(0x1c7)][_0x2335f1(0x206)])return!![];var _0x3efc09=this[_0x2335f1(0x1c7)]['pin_protection']?!!this['features'][_0x2335f1(0x20b)]:!![],_0x15caeb=this['features'][_0x2335f1(0x1ab)]?this['features'][_0x2335f1(0x153)]:!![];return _0x3efc09&&_0x15caeb;},_0x178989[_0x58143e(0x15e)]=function _0x2be99d(){var _0x3464fd=_0x58143e;return this['features']?this[_0x3464fd(0x1c7)][_0x3464fd(0x204)]===0x1:![];},_0x178989[_0x58143e(0x205)]=function _0x4527e5(_0x4b4acd,_0x562ae2){var _0x13f3b3=_0x58143e;if(this[_0x13f3b3(0x1c7)]){if(this[_0x13f3b3(0x20e)]()&&!_0x4b4acd[_0x13f3b3(0x1e5)](_constants['UI']['BOOTLOADER']))return _constants['UI'][_0x13f3b3(0x1a0)];if(!this[_0x13f3b3(0x1a9)]()&&!_0x4b4acd[_0x13f3b3(0x1e5)](_constants['UI'][_0x13f3b3(0x163)]))return _constants['UI']['INITIALIZE'];if(this['isSeedless']()&&!_0x4b4acd[_0x13f3b3(0x1e5)](_constants['UI'][_0x13f3b3(0x169)]))return _constants['UI'][_0x13f3b3(0x169)];if(!this[_0x13f3b3(0x20e)]()&&_0x562ae2[_0x13f3b3(0x1e5)](_constants['UI'][_0x13f3b3(0x1a0)]))return _constants['UI'][_0x13f3b3(0x17b)];}return null;},_0x178989[_0x58143e(0x186)]=function _0xc07c33(){var _0x44ace4=_0x58143e;if(this['isUsedHere']()&&this[_0x44ace4(0x1d0)])try{this['commands']&&this[_0x44ace4(0x175)]['cancel'](),this['transport'][_0x44ace4(0x187)](this[_0x44ace4(0x1d0)],!![],![]);}catch(_0x372636){}},_0x178989[_0x58143e(0x1b7)]=function _0x1315c7(){var _0x2a933e=_0x58143e;if(this[_0x2a933e(0x1c7)][_0x2a933e(0x1d2)])return _0x2a933e(0x1f3);if(!this[_0x2a933e(0x1c7)][_0x2a933e(0x206)])return _0x2a933e(0x167);if(this[_0x2a933e(0x1c7)][_0x2a933e(0x1a6)])return _0x2a933e(0x199);return _0x2a933e(0x14b);},_0x178989[_0x58143e(0x17d)]=function _0x9cb08a(){var _0x3541bd=_0x58143e;if(this[_0x3541bd(0x214)][_0x3541bd(0x182)]===_constants[_0x3541bd(0x18a)][_0x3541bd(0x159)])return{'type':_0x3541bd(0x179),'path':this[_0x3541bd(0x214)][_0x3541bd(0x182)],'label':_0x3541bd(0x1c3)};else{if(this[_0x3541bd(0x16f)]())return{'type':'unacquired','path':this[_0x3541bd(0x214)][_0x3541bd(0x182)],'label':_0x3541bd(0x216)};else{var _0x310637=(0x0,_deviceFeaturesUtils[_0x3541bd(0x1d6)])(this['features']),_0x1088c7=_0x310637===_0x3541bd(0x177)?'My\x20OneKey\x20Mini':_0x3541bd(0x1ee),_0x39f033=this[_0x3541bd(0x1c7)][_0x3541bd(0x17a)]===''||!this[_0x3541bd(0x1c7)][_0x3541bd(0x17a)]?_0x1088c7:this[_0x3541bd(0x1c7)]['label'];return{'type':_0x3541bd(0x170),'id':this[_0x3541bd(0x1c7)][_0x3541bd(0x15f)]||null,'path':this[_0x3541bd(0x214)][_0x3541bd(0x182)],'label':_0x39f033,'state':this['getExternalState'](),'status':this[_0x3541bd(0x1eb)]()?'occupied':this[_0x3541bd(0x154)]?_0x3541bd(0x207):_0x3541bd(0x160),'mode':this[_0x3541bd(0x1b7)](),'firmware':this[_0x3541bd(0x1bd)],'firmwareRelease':this[_0x3541bd(0x1bb)],'bleFirmware':this[_0x3541bd(0x1c4)],'bleFirmwareRelease':this[_0x3541bd(0x1f7)],'features':this[_0x3541bd(0x1c7)],'unavailableCapabilities':this[_0x3541bd(0x16d)]};}}},_0x178989[_0x58143e(0x155)]=function _0x1104d6(){return this['networkTypeState'][this['instance']];},_0x178989['_setNetworkTypeState']=function _0x3ffd6e(_0xde33fb){var _0x314826=_0x58143e;typeof _0xde33fb!=='string'?delete this[_0x314826(0x14f)][this['instance']]:this[_0x314826(0x14f)][this['instance']]=_0xde33fb;},_0x178989['_altModeChange']=function _0x3048b0(_0x480235){var _0x52d6ac=_0x58143e,_0x50cfcb=this[_0x52d6ac(0x185)](this[_0x52d6ac(0x155)]()),_0x592650=this[_0x52d6ac(0x185)](_0x480235);return this[_0x52d6ac(0x1d4)](_0x480235),_0x50cfcb!==_0x592650;},_0x178989[_0x58143e(0x185)]=function _0x3be022(_0x235893){var _0x59fcb8=_0x58143e;return[_constants[_0x59fcb8(0x1d3)][_0x59fcb8(0x1d5)][_0x59fcb8(0x1fa)]][_0x59fcb8(0x1e5)](_0x235893);},_0x178989[_0x58143e(0x1b0)]=(function(){var _0x592d50=_0x58143e,_0x482ba0=(0x0,_asyncToGenerator2[_0x592d50(0x18e)])(_regenerator[_0x592d50(0x18e)][_0x592d50(0x1c1)](function _0x17b914(){var _0x264714=_0x592d50;return _regenerator[_0x264714(0x18e)][_0x264714(0x1d1)](function _0x4a1053(_0x16fc82){var _0x57e902=_0x264714;while(0x1){switch(_0x16fc82[_0x57e902(0x211)]=_0x16fc82['next']){case 0x0:if(!this[_0x57e902(0x158)]()){_0x16fc82['next']=0x7;break;}_0x16fc82[_0x57e902(0x161)]=0x3;return this[_0x57e902(0x192)]();case 0x3:_0x16fc82[_0x57e902(0x161)]=0x5;return this[_0x57e902(0x1e3)]();case 0x5:_0x16fc82[_0x57e902(0x161)]=0x7;return this[_0x57e902(0x187)]();case 0x7:case _0x57e902(0x188):return _0x16fc82[_0x57e902(0x1f5)]();}}},_0x17b914,this);}));function _0x146ab2(){var _0xdd6be8=_0x592d50;return _0x482ba0[_0xdd6be8(0x213)](this,arguments);}return _0x146ab2;}()),_0xbdcd5e;}(_events[a124_0x2cfa46(0x18e)]);exports[a124_0x2cfa46(0x18e)]=Device;function a124_0x3c16(){var _0x107632=['getFeatures','getUnavailableCapabilities','includes','Previous\x20call\x20is\x20still\x20running','disconnect','useLegacyPassphrase','firstRunPromise','state','isUsedElsewhere','isRunning','runPromise','My\x20OneKey','disposed','getCommands','getOwnPropertySymbols','bind','bootloader','boolean','stop','defineProperties','bleFirmwareRelease','getVersion','minor_version','cardano','39878vmuRRx','Features','ACQUIRED','getAllNetworks','ACQUIRED\x20BY\x20OTHER','dispose','setInternalState','session_id','deferredActions','major_version','hasUnexpectedMode','initialized','used',',\x20code:\x20','13575510kgeyJz','getInternalState','unlocked','hasDebugLink','create','isBootloader','get','Initialize','prev','error','apply','originalDescriptor','instance','Unacquired\x20device','normal','ACQUIRE','removeAllListeners','Expected\x20session\x20id:','networkTypeState','return','has','waitForFirstRun','passphrase_cached','featuresNeedsReload','_getNetworkTypeState','DISCONNECT\x20CLEANUP!','Device_UsedElsewhere','isUsedHere','UNREADABLE','externalState','10155046huMoiB','reject','set','isT1','device_id','available','next','cancel','INITIALIZE','504445MXMhqc','typedCall','ACQUIRED\x20BY\x20MYSELF','initialize','36iCxFyY','SEEDLESS','join','emit','lastUsedID','unavailableCapabilities','createUnacquired','isUnacquired','acquired','pin_protection','2229437lRHCJq','function','updateDescriptor','commands','loaded','mini','inconsistent','unreadable','label','NOT_IN_BOOTLOADER','prototype','toMessageObject','string','enumerable','setExternalState','callPromise','path','getOwnPropertyDescriptors','getBLERelease','_isAltModeNetworkType','onBeforeUnload','release','end','getRelease','DEVICE','Device_CallInProgress','interruptionFromUser','validateState','default','skip_passphrase','versionCompare','getSettings','acquire','9033848YfhJza','keys','resolve','getBLEFirmwareStatus','getExternalState','defineProperty','seedless','_updateFeatures','interruptionFromOutside','atLeast','getOwnPropertyDescriptor','message','promise','BOOTLOADER','getDeviceState','needAuthentication','currentSession','catch','fromDescriptor','no_backup','Device_Disconnected','debug','isInitialized','patch_version','passphrase_protection','12fkcpED','GetFeatures\x20timeout','run','78TJBXwx','legacyForceRelease','RELEASE','warn','transport','call','push','RELEASED\x20BY\x20OTHER\x20APP','getMode','1188010GhtVnm','abrupt','_runInner','firmwareRelease','+++++interruptionFromOutside','firmwareStatus','getFirmwareStatus','Device.fromDescriptor','internalState','mark','Device_InitializeFailed','Unreadable\x20device','bleFirmwareStatus','isUsed','length','features','cleanup','isLoaded','setInstance','capabilities','_altModeChange','forEach','getConfig','code','activitySessionID','wrap','bootloader_mode','NETWORK','_setNetworkTypeState','TYPES','getDeviceType','session','enabled','init','TypedError','sent','supportedFirmware','__esModule','isSeedless','10yYEWcG','ERRORS','getInstance','keepSession'];a124_0x3c16=function(){return _0x107632;};return a124_0x3c16();}