'use strict';var a123_0x60c2b=a123_0x53d8;(function(_0x108287,_0x3c1d29){var _0x414fe5=a123_0x53d8,_0x14124d=_0x108287();while(!![]){try{var _0x47948f=parseInt(_0x414fe5(0x184))/0x1*(parseInt(_0x414fe5(0x143))/0x2)+parseInt(_0x414fe5(0x144))/0x3*(parseInt(_0x414fe5(0x141))/0x4)+parseInt(_0x414fe5(0x159))/0x5+parseInt(_0x414fe5(0x16b))/0x6*(-parseInt(_0x414fe5(0x13d))/0x7)+-parseInt(_0x414fe5(0x165))/0x8*(parseInt(_0x414fe5(0x140))/0x9)+-parseInt(_0x414fe5(0x179))/0xa*(parseInt(_0x414fe5(0x163))/0xb)+parseInt(_0x414fe5(0x14a))/0xc*(-parseInt(_0x414fe5(0x153))/0xd);if(_0x47948f===_0x3c1d29)break;else _0x14124d['push'](_0x14124d['shift']());}catch(_0x53d32e){_0x14124d['push'](_0x14124d['shift']());}}}(a123_0x4a3f,0x9db88));function a123_0x4a3f(){var _0x33e780=['208cPvUsw','emit','Start\x20listening','connected','getSettings','session','6239280afPKpQ','getTime','string','mark','abrupt','prev','function','Listen\x20result','ERROR','wrap','22IfCARL','enumerate','6782480vQZZFv','listen','START_PENDING','defineProperty','didUpdate','end','1584816JTLTre','listenTimestamp','listening','debug','default','RELEASED','get','upcoming','enabled','call','CHANGED','transport','sent','return','3111530WXXGts','getOwnPropertyDescriptor','has','hasOwnProperty','disconnected','apply','filter','path','acquired','length','debugSession','4964VpqJfU','14UZpwSb','catch','prototype','9QnSBAK','1416hdwgUU','changedSessions','286GjCiSj','10848DoDaXc','forEach','set','find','init','_diff','445020DnYyNP','_reportChanges','current','next','stop','Listen\x20error','START','__esModule','DISCONNECT'];a123_0x4a3f=function(){return _0x33e780;};return a123_0x4a3f();}var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a123_0x60c2b(0x151)]=!![],exports[a123_0x60c2b(0x16f)]=void 0x0;var _regenerator=_interopRequireDefault(require('@babel/runtime/regenerator')),_asyncToGenerator2=_interopRequireDefault(require('@babel/runtime/helpers/asyncToGenerator')),_assertThisInitialized2=_interopRequireDefault(require('@babel/runtime/helpers/assertThisInitialized')),_inheritsLoose2=_interopRequireDefault(require('@babel/runtime/helpers/inheritsLoose')),_defineProperty2=_interopRequireDefault(require('@babel/runtime/helpers/defineProperty')),_events=_interopRequireDefault(require('events')),TRANSPORT=_interopRequireWildcard(require('../constants/transport')),DEVICE=_interopRequireWildcard(require('../constants/device')),_debug=_interopRequireWildcard(require('../utils/debug')),_DataManager=_interopRequireDefault(require('../data/DataManager')),_promiseUtils=require('../utils/promiseUtils');function _getRequireWildcardCache(_0x246701){var _0x27a2bd=a123_0x60c2b;if(typeof WeakMap!==_0x27a2bd(0x15f))return null;var _0x371ec4=new WeakMap(),_0x362768=new WeakMap();return(_getRequireWildcardCache=function _0x51aec2(_0x38dd3b){return _0x38dd3b?_0x362768:_0x371ec4;})(_0x246701);}function _interopRequireWildcard(_0x436c03,_0x33a03c){var _0x18b93a=a123_0x60c2b;if(!_0x33a03c&&_0x436c03&&_0x436c03[_0x18b93a(0x151)])return _0x436c03;if(_0x436c03===null||typeof _0x436c03!=='object'&&typeof _0x436c03!==_0x18b93a(0x15f))return{'default':_0x436c03};var _0xd2a50b=_getRequireWildcardCache(_0x33a03c);if(_0xd2a50b&&_0xd2a50b[_0x18b93a(0x17b)](_0x436c03))return _0xd2a50b[_0x18b93a(0x171)](_0x436c03);var _0x427fdb={},_0x2af364=Object['defineProperty']&&Object[_0x18b93a(0x17a)];for(var _0x3e13d6 in _0x436c03){if(_0x3e13d6!=='default'&&Object['prototype'][_0x18b93a(0x17c)][_0x18b93a(0x174)](_0x436c03,_0x3e13d6)){var _0x125609=_0x2af364?Object[_0x18b93a(0x17a)](_0x436c03,_0x3e13d6):null;_0x125609&&(_0x125609[_0x18b93a(0x171)]||_0x125609[_0x18b93a(0x146)])?Object[_0x18b93a(0x168)](_0x427fdb,_0x3e13d6,_0x125609):_0x427fdb[_0x3e13d6]=_0x436c03[_0x3e13d6];}}return _0x427fdb[_0x18b93a(0x16f)]=_0x436c03,_0xd2a50b&&_0xd2a50b[_0x18b93a(0x146)](_0x436c03,_0x427fdb),_0x427fdb;}var logger=(0x0,_debug[a123_0x60c2b(0x148)])('DescriptorStream'),DescriptorStream=function(_0x268a54){var _0x2c370a=a123_0x60c2b;(0x0,_inheritsLoose2[_0x2c370a(0x16f)])(_0x4b84b9,_0x268a54);function _0x4b84b9(_0x384ccc){var _0x4c78be=_0x2c370a,_0x195620;return _0x195620=_0x268a54['call'](this)||this,(0x0,_defineProperty2[_0x4c78be(0x16f)])((0x0,_assertThisInitialized2[_0x4c78be(0x16f)])(_0x195620),'listening',![]),(0x0,_defineProperty2[_0x4c78be(0x16f)])((0x0,_assertThisInitialized2['default'])(_0x195620),_0x4c78be(0x16c),0x0),(0x0,_defineProperty2[_0x4c78be(0x16f)])((0x0,_assertThisInitialized2[_0x4c78be(0x16f)])(_0x195620),_0x4c78be(0x14c),null),(0x0,_defineProperty2[_0x4c78be(0x16f)])((0x0,_assertThisInitialized2[_0x4c78be(0x16f)])(_0x195620),_0x4c78be(0x172),[]),_0x195620[_0x4c78be(0x176)]=_0x384ccc,logger[_0x4c78be(0x173)]=_DataManager[_0x4c78be(0x16f)]['getSettings'](_0x4c78be(0x16e)),_0x195620;}var _0x2470a1=_0x4b84b9[_0x2c370a(0x13f)];return _0x2470a1[_0x2c370a(0x166)]=(function(){var _0x180085=_0x2c370a,_0x300f64=(0x0,_asyncToGenerator2['default'])(_regenerator[_0x180085(0x16f)][_0x180085(0x15c)](function _0x4d1945(){var _0x8de7fb=_0x180085,_0x5487c3,_0x4461c5,_0x4c1dc0,_0x445cac;return _regenerator[_0x8de7fb(0x16f)]['wrap'](function _0x161852(_0xe7069c){var _0x2a0935=_0x8de7fb;while(0x1){switch(_0xe7069c[_0x2a0935(0x15e)]=_0xe7069c[_0x2a0935(0x14d)]){case 0x0:_0x5487c3=this[_0x2a0935(0x14c)]!==null,_0x4461c5=this['current']||[],this['listening']=!![],_0xe7069c['prev']=0x3,logger[_0x2a0935(0x16e)](_0x2a0935(0x155),_0x4461c5),this[_0x2a0935(0x16c)]=new Date()[_0x2a0935(0x15a)]();if(!_0x5487c3){_0xe7069c['next']=0xc;break;}_0xe7069c[_0x2a0935(0x14d)]=0x9;return this['transport'][_0x2a0935(0x166)](_0x4461c5);case 0x9:_0xe7069c['t0']=_0xe7069c['sent'],_0xe7069c[_0x2a0935(0x14d)]=0xf;break;case 0xc:_0xe7069c[_0x2a0935(0x14d)]=0xe;return this[_0x2a0935(0x176)][_0x2a0935(0x164)]();case 0xe:_0xe7069c['t0']=_0xe7069c[_0x2a0935(0x177)];case 0xf:_0x4c1dc0=_0xe7069c['t0'];this['listening']&&!_0x5487c3&&(_0x4c1dc0['length']>0x0&&_DataManager[_0x2a0935(0x16f)][_0x2a0935(0x157)]('pendingTransportEvent')?this[_0x2a0935(0x154)](TRANSPORT[_0x2a0935(0x167)],_0x4c1dc0[_0x2a0935(0x182)]):this[_0x2a0935(0x154)](TRANSPORT[_0x2a0935(0x150)]));if(this[_0x2a0935(0x16d)]){_0xe7069c[_0x2a0935(0x14d)]=0x13;break;}return _0xe7069c[_0x2a0935(0x15d)]('return');case 0x13:this[_0x2a0935(0x172)]=_0x4c1dc0,logger[_0x2a0935(0x16e)](_0x2a0935(0x160),_0x4c1dc0),this['_reportChanges']();if(this[_0x2a0935(0x16d)])this[_0x2a0935(0x166)]();_0xe7069c[_0x2a0935(0x14d)]=0x25;break;case 0x19:_0xe7069c[_0x2a0935(0x15e)]=0x19,_0xe7069c['t1']=_0xe7069c[_0x2a0935(0x13e)](0x3),_0x445cac=new Date()[_0x2a0935(0x15a)]()-this[_0x2a0935(0x16c)],logger[_0x2a0935(0x16e)](_0x2a0935(0x14f),'timestamp',_0x445cac,typeof _0xe7069c['t1']);if(!(_0x445cac>0x44c)){_0xe7069c[_0x2a0935(0x14d)]=0x23;break;}_0xe7069c[_0x2a0935(0x14d)]=0x20;return(0x0,_promiseUtils['resolveAfter'])(0x3e8,null);case 0x20:if(this[_0x2a0935(0x16d)])this[_0x2a0935(0x166)]();_0xe7069c[_0x2a0935(0x14d)]=0x25;break;case 0x23:logger['log']('Transport\x20error'),this[_0x2a0935(0x154)](TRANSPORT[_0x2a0935(0x161)],_0xe7069c['t1']);case 0x25:case _0x2a0935(0x16a):return _0xe7069c['stop']();}}},_0x4d1945,this,[[0x3,0x19]]);}));function _0x7ede9f(){var _0x36f51b=_0x180085;return _0x300f64[_0x36f51b(0x17e)](this,arguments);}return _0x7ede9f;}()),_0x2470a1['enumerate']=(function(){var _0xa813a7=_0x2c370a,_0x48b45e=(0x0,_asyncToGenerator2[_0xa813a7(0x16f)])(_regenerator[_0xa813a7(0x16f)][_0xa813a7(0x15c)](function _0x576976(){var _0x162a58=_0xa813a7;return _regenerator['default'][_0x162a58(0x162)](function _0x4c6ce5(_0xa46bcc){var _0x120578=_0x162a58;while(0x1){switch(_0xa46bcc['prev']=_0xa46bcc[_0x120578(0x14d)]){case 0x0:if(this['listening']){_0xa46bcc['next']=0x2;break;}return _0xa46bcc[_0x120578(0x15d)](_0x120578(0x178));case 0x2:_0xa46bcc[_0x120578(0x15e)]=0x2,_0xa46bcc[_0x120578(0x14d)]=0x5;return this['transport'][_0x120578(0x164)]();case 0x5:this[_0x120578(0x172)]=_0xa46bcc[_0x120578(0x177)],this[_0x120578(0x14b)](),_0xa46bcc[_0x120578(0x14d)]=0xb;break;case 0x9:_0xa46bcc[_0x120578(0x15e)]=0x9,_0xa46bcc['t0']=_0xa46bcc[_0x120578(0x13e)](0x2);case 0xb:case _0x120578(0x16a):return _0xa46bcc['stop']();}}},_0x576976,this,[[0x2,0x9]]);}));function _0x4b3bb1(){return _0x48b45e['apply'](this,arguments);}return _0x4b3bb1;}()),_0x2470a1[_0x2c370a(0x14e)]=function _0x562acc(){var _0x1d15f0=_0x2c370a;this[_0x1d15f0(0x16d)]=![];},_0x2470a1[_0x2c370a(0x149)]=function _0x31f5c0(_0x2a3226,_0x436e65){var _0x514f73=_0x2c370a,_0x46c72f=_0x2a3226||[],_0xc5a472=_0x436e65['filter'](function(_0x48a783){var _0x25e78c=a123_0x53d8;return _0x46c72f[_0x25e78c(0x147)](function(_0x4c9335){var _0x10d054=_0x25e78c;return _0x4c9335[_0x10d054(0x180)]===_0x48a783[_0x10d054(0x180)];})===undefined;}),_0x35aee9=_0x46c72f['filter'](function(_0x1d5f24){var _0x3c55fc=a123_0x53d8;return _0x436e65[_0x3c55fc(0x147)](function(_0x5b7524){var _0x39ea4d=_0x3c55fc;return _0x5b7524[_0x39ea4d(0x180)]===_0x1d5f24[_0x39ea4d(0x180)];})===undefined;}),_0x2b0aed=_0x436e65[_0x514f73(0x17f)](function(_0x4d066e){var _0x4b10ab=_0x514f73,_0x81444=_0x46c72f[_0x4b10ab(0x147)](function(_0x5249b6){var _0x1d811c=_0x4b10ab;return _0x5249b6[_0x1d811c(0x180)]===_0x4d066e['path'];});return _0x81444?_0x81444[_0x4b10ab(0x158)]!==_0x4d066e[_0x4b10ab(0x158)]:![];}),_0x1ce44f=_0x2b0aed[_0x514f73(0x17f)](function(_0xf38caa){var _0x3d831b=_0x514f73;return typeof _0xf38caa[_0x3d831b(0x158)]===_0x3d831b(0x15b);}),_0x8aaefc=_0x2b0aed[_0x514f73(0x17f)](function(_0x2a56d1){return typeof _0x2a56d1['session']!=='string';}),_0x25937e=_0x436e65['filter'](function(_0x1d70dc){var _0xf593b9=_0x514f73,_0x5056d5=_0x46c72f[_0xf593b9(0x147)](function(_0x15aca6){var _0x1cfc58=_0xf593b9;return _0x15aca6[_0x1cfc58(0x180)]===_0x1d70dc['path'];});return _0x5056d5?_0x5056d5[_0xf593b9(0x183)]!==_0x1d70dc[_0xf593b9(0x183)]:![];}),_0x18cdbc=_0x2b0aed[_0x514f73(0x17f)](function(_0x4bd8a4){var _0xd530ef=_0x514f73;return typeof _0x4bd8a4[_0xd530ef(0x183)]===_0xd530ef(0x15b);}),_0x39337f=_0x2b0aed['filter'](function(_0x31779a){var _0x346ed8=_0x514f73;return typeof _0x31779a['debugSession']!==_0x346ed8(0x15b);}),_0x5a9078=_0xc5a472['length']+_0x35aee9[_0x514f73(0x182)]+_0x2b0aed[_0x514f73(0x182)]+_0x25937e[_0x514f73(0x182)]>0x0;return{'connected':_0xc5a472,'disconnected':_0x35aee9,'changedSessions':_0x2b0aed,'acquired':_0x1ce44f,'released':_0x8aaefc,'changedDebugSessions':_0x25937e,'debugAcquired':_0x18cdbc,'debugReleased':_0x39337f,'didUpdate':_0x5a9078,'descriptors':_0x436e65};},_0x2470a1[_0x2c370a(0x14b)]=function _0x19bedb(){var _0x19dacc=_0x2c370a,_0x4f60d0=this,_0x2d8122=this[_0x19dacc(0x149)](this[_0x19dacc(0x14c)],this[_0x19dacc(0x172)]);this[_0x19dacc(0x14c)]=this['upcoming'],_0x2d8122[_0x19dacc(0x169)]&&this[_0x19dacc(0x16d)]&&(_0x2d8122[_0x19dacc(0x156)][_0x19dacc(0x145)](function(_0x550238){var _0x4f080=_0x19dacc;_0x4f60d0[_0x4f080(0x154)](DEVICE['CONNECT'],_0x550238);}),_0x2d8122[_0x19dacc(0x17d)]['forEach'](function(_0x370c62){var _0x373523=_0x19dacc;_0x4f60d0[_0x373523(0x154)](DEVICE[_0x373523(0x152)],_0x370c62);}),_0x2d8122[_0x19dacc(0x181)][_0x19dacc(0x145)](function(_0xe45eb8){var _0x73b027=_0x19dacc;_0x4f60d0[_0x73b027(0x154)](DEVICE['ACQUIRED'],_0xe45eb8);}),_0x2d8122['released'][_0x19dacc(0x145)](function(_0x341ad5){var _0x34e312=_0x19dacc;_0x4f60d0[_0x34e312(0x154)](DEVICE[_0x34e312(0x170)],_0x341ad5);}),_0x2d8122[_0x19dacc(0x142)]['forEach'](function(_0x56caff){var _0x3c5a64=_0x19dacc;_0x4f60d0[_0x3c5a64(0x154)](DEVICE[_0x3c5a64(0x175)],_0x56caff);}),this[_0x19dacc(0x154)](TRANSPORT['UPDATE'],_0x2d8122));},_0x4b84b9;}(_events[a123_0x60c2b(0x16f)]);function a123_0x53d8(_0x1d7116,_0x41bac5){var _0x4a3f83=a123_0x4a3f();return a123_0x53d8=function(_0x53d874,_0x14379d){_0x53d874=_0x53d874-0x13d;var _0x1d485d=_0x4a3f83[_0x53d874];return _0x1d485d;},a123_0x53d8(_0x1d7116,_0x41bac5);}exports[a123_0x60c2b(0x16f)]=DescriptorStream;