'use strict';var a164_0x288406=a164_0x5e3b;(function(_0x136e69,_0x2c064f){var _0x502423=a164_0x5e3b,_0x3ef5cd=_0x136e69();while(!![]){try{var _0x4009cd=-parseInt(_0x502423(0x134))/0x1+parseInt(_0x502423(0x12e))/0x2+-parseInt(_0x502423(0x138))/0x3+parseInt(_0x502423(0x133))/0x4+-parseInt(_0x502423(0x12d))/0x5+-parseInt(_0x502423(0x15f))/0x6+parseInt(_0x502423(0x153))/0x7*(parseInt(_0x502423(0x14f))/0x8);if(_0x4009cd===_0x2c064f)break;else _0x3ef5cd['push'](_0x3ef5cd['shift']());}catch(_0x3760e8){_0x3ef5cd['push'](_0x3ef5cd['shift']());}}}(a164_0x699b,0x9918a));var _interopRequireDefault=require('@babel/runtime/helpers/interopRequireDefault');exports[a164_0x288406(0x151)]=!![],exports[a164_0x288406(0x159)]=void 0x0;var _builder=require('../../message/builder'),UI=_interopRequireWildcard(require('../../constants/ui')),_DataManager=_interopRequireDefault(require('../../data/DataManager')),_common=require('./common');function _getRequireWildcardCache(_0x11f64e){var _0x54f5bf=a164_0x288406;if(typeof WeakMap!==_0x54f5bf(0x126))return null;var _0x2cc7cb=new WeakMap(),_0x2e54ca=new WeakMap();return(_getRequireWildcardCache=function _0x3ca20b(_0x1b89d8){return _0x1b89d8?_0x2e54ca:_0x2cc7cb;})(_0x11f64e);}function a164_0x699b(){var _0x2aa15e=['postMessage','1468866syxcYq','info-icon','getElementsByTagName','innerText','content','prototype','appendChild','className','target','object','origin','hostLabel','从\x20OneKey\x20硬件设备读取元数据','set','将元数据写入\x20OneKey\x20硬件设备','read-meta','从\x20OneKey\x20硬件设备进行交易和数据签名','getElementsByClassName','call','span','permissions-list','更改设备设置（例如PIN，密码，标签或备份等）所需的权限。','修改\x20OneKey\x20硬件设备设置','15272BAcuXE','label','__esModule','onclick','8001uedWtr','确认后，获取执行例如签名操作所需的权限','从\x20OneKey\x20硬件设备读取公钥','getSettings','read','UiMessage','initPermissionsView','hasOwnProperty','getOwnPropertyDescriptor','permission-item','showView','运行自定义操作','4862166UHWnLO','cancel','write','forEach','RECEIVE_PERMISSION','div','onchange','get','defineProperty','permissions','当前设备总是允许读取','Development\x20tool.\x20Use\x20at\x20your\x20own\x20risk.\x20Allows\x20service\x20to\x20send\x20arbitrary\x20data\x20to\x20your\x20OneKey\x20device.','function','从您的设备加载公开信息所需的权限','createElement','checked','loader','management','host-name','1072235TfOHmL','696460qBBGsI','device','has','custom-message','isArray','3060320UvyHxw','1153785MdSBcV','container','default'];a164_0x699b=function(){return _0x2aa15e;};return a164_0x699b();}function _interopRequireWildcard(_0x5c8e44,_0x5d2515){var _0x25a51f=a164_0x288406;if(!_0x5d2515&&_0x5c8e44&&_0x5c8e44[_0x25a51f(0x151)])return _0x5c8e44;if(_0x5c8e44===null||typeof _0x5c8e44!==_0x25a51f(0x141)&&typeof _0x5c8e44!==_0x25a51f(0x126))return{'default':_0x5c8e44};var _0x5e2d76=_getRequireWildcardCache(_0x5d2515);if(_0x5e2d76&&_0x5e2d76[_0x25a51f(0x130)](_0x5c8e44))return _0x5e2d76[_0x25a51f(0x166)](_0x5c8e44);var _0x5d662d={},_0x35c25e=Object[_0x25a51f(0x167)]&&Object[_0x25a51f(0x15b)];for(var _0x5350ec in _0x5c8e44){if(_0x5350ec!==_0x25a51f(0x136)&&Object[_0x25a51f(0x13d)][_0x25a51f(0x15a)][_0x25a51f(0x14a)](_0x5c8e44,_0x5350ec)){var _0x243b44=_0x35c25e?Object[_0x25a51f(0x15b)](_0x5c8e44,_0x5350ec):null;_0x243b44&&(_0x243b44['get']||_0x243b44[_0x25a51f(0x145)])?Object['defineProperty'](_0x5d662d,_0x5350ec,_0x243b44):_0x5d662d[_0x5350ec]=_0x5c8e44[_0x5350ec];}}return _0x5d662d[_0x25a51f(0x136)]=_0x5c8e44,_0x5e2d76&&_0x5e2d76[_0x25a51f(0x145)](_0x5c8e44,_0x5d662d),_0x5d662d;}var getPermissionText=function getPermissionText(_0x6d2662,_0x4afb02){var _0x3ed46d=a164_0x288406,_0x4b30ad='';switch(_0x6d2662){case _0x3ed46d(0x157):_0x4b30ad=_0x3ed46d(0x155);break;case _0x3ed46d(0x147):_0x4b30ad=_0x3ed46d(0x144);break;case _0x3ed46d(0x161):_0x4b30ad=_0x3ed46d(0x148);break;case'write-meta':_0x4b30ad=_0x3ed46d(0x146);break;case _0x3ed46d(0x12b):_0x4b30ad=_0x3ed46d(0x14e);break;case _0x3ed46d(0x131):_0x4b30ad=_0x3ed46d(0x15e);break;}return _0x4b30ad;},getPermissionTooltipText=function getPermissionTooltipText(_0x47a7ae){var _0x38ae95=a164_0x288406,_0x2ee07a='';switch(_0x47a7ae){case _0x38ae95(0x157):_0x2ee07a=_0x38ae95(0x127);break;case _0x38ae95(0x161):_0x2ee07a=_0x38ae95(0x154);break;case _0x38ae95(0x12b):_0x2ee07a=_0x38ae95(0x14d);break;case _0x38ae95(0x131):_0x2ee07a=_0x38ae95(0x16a);break;}return _0x2ee07a;},createPermissionItem=function createPermissionItem(_0x4c8580,_0x260cc6){var _0x57897c=a164_0x288406,_0x23ce97=document[_0x57897c(0x128)](_0x57897c(0x164));_0x23ce97['className']=_0x57897c(0x15c);if(_0x260cc6!==''){var _0x2979c9=(0x0,_common['createTooltip'])(_0x260cc6);_0x23ce97[_0x57897c(0x13e)](_0x2979c9);}var _0x100650=document[_0x57897c(0x128)](_0x57897c(0x164));_0x100650[_0x57897c(0x13f)]=_0x57897c(0x13c);var _0x1597b1=document['createElement'](_0x57897c(0x14b));_0x1597b1['className']=_0x57897c(0x139);var _0x31cb75=document['createElement'](_0x57897c(0x14b));return _0x31cb75['innerText']=_0x4c8580,_0x100650[_0x57897c(0x13e)](_0x1597b1),_0x100650['appendChild'](_0x31cb75),_0x23ce97[_0x57897c(0x13e)](_0x100650),_0x23ce97;},initPermissionsView=function initPermissionsView(_0x22e313){var _0x3dcd3e=a164_0x288406;(0x0,_common[_0x3dcd3e(0x15d)])(_0x3dcd3e(0x168));var _0x33cf42=_common[_0x3dcd3e(0x135)][_0x3dcd3e(0x13a)]('h3')[0x0],_0x5df1e0=_0x33cf42[_0x3dcd3e(0x149)](_0x3dcd3e(0x12c))[0x0],_0x17bcc2=_common['container'][_0x3dcd3e(0x149)](_0x3dcd3e(0x14c))[0x0],_0x199530=_common[_0x3dcd3e(0x135)]['getElementsByClassName']('confirm')[0x0],_0x34aed3=_common['container'][_0x3dcd3e(0x149)](_0x3dcd3e(0x160))[0x0],_0x2aa020=_common[_0x3dcd3e(0x135)][_0x3dcd3e(0x149)]('remember-permissions')[0x0];_0x5df1e0[_0x3dcd3e(0x13b)]=_DataManager[_0x3dcd3e(0x136)]['getSettings'](_0x3dcd3e(0x143))||_DataManager[_0x3dcd3e(0x136)][_0x3dcd3e(0x156)](_0x3dcd3e(0x142)),_0x22e313&&Array[_0x3dcd3e(0x132)](_0x22e313[_0x3dcd3e(0x168)])&&_0x22e313[_0x3dcd3e(0x168)][_0x3dcd3e(0x162)](function(_0x1c480e){var _0x3e1728=_0x3dcd3e,_0x3ddfbb=getPermissionText(_0x1c480e,_0x22e313[_0x3e1728(0x12f)][_0x3e1728(0x150)]),_0x51a661=getPermissionTooltipText(_0x1c480e),_0x3ca19f=createPermissionItem(_0x3ddfbb,_0x51a661);_0x17bcc2[_0x3e1728(0x13e)](_0x3ca19f);}),_0x199530[_0x3dcd3e(0x152)]=function(){var _0x1cc9cd=_0x3dcd3e;(0x0,_common[_0x1cc9cd(0x137)])((0x0,_builder[_0x1cc9cd(0x158)])(UI[_0x1cc9cd(0x163)],{'remember':_0x2aa020&&_0x2aa020[_0x1cc9cd(0x129)],'granted':!![]})),(0x0,_common['showView'])(_0x1cc9cd(0x12a));},_0x34aed3[_0x3dcd3e(0x152)]=function(){var _0x1fd758=_0x3dcd3e;(0x0,_common[_0x1fd758(0x137)])((0x0,_builder[_0x1fd758(0x158)])(UI[_0x1fd758(0x163)],{'remember':_0x2aa020&&_0x2aa020['checked'],'granted':![]})),(0x0,_common[_0x1fd758(0x15d)])(_0x1fd758(0x12a));},_0x2aa020[_0x3dcd3e(0x165)]=function(_0x4889ec){var _0x54a3f2=_0x3dcd3e;_0x199530[_0x54a3f2(0x13b)]=_0x4889ec[_0x54a3f2(0x140)][_0x54a3f2(0x129)]?_0x54a3f2(0x169):'仅当前操作允许读取';};};function a164_0x5e3b(_0x13caa0,_0x4da838){var _0x699be5=a164_0x699b();return a164_0x5e3b=function(_0x5e3b42,_0x8bdc4b){_0x5e3b42=_0x5e3b42-0x126;var _0x5a7f6b=_0x699be5[_0x5e3b42];return _0x5a7f6b;},a164_0x5e3b(_0x13caa0,_0x4da838);}exports[a164_0x288406(0x159)]=initPermissionsView;